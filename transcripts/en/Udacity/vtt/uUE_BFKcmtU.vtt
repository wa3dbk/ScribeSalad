WEBVTT
Kind: captions
Language: en

00:00:00.320 --> 00:00:03.010
All right, you're done. 
Let's look at the solution.

00:00:03.010 --> 00:00:05.200
As I said in the question, 
we're going to be

00:00:05.200 --> 00:00:08.720
working inside a forecast fragment 
in the updateWeather function.

00:00:08.720 --> 00:00:11.220
First, we're going to need 
to create a standard intent

00:00:11.220 --> 00:00:13.053
for our alarm receiver.

00:00:13.053 --> 00:00:15.686
We then add our location query
as an extra.

00:00:15.686 --> 00:00:18.270
We then wrap that in a PendingIntent.

00:00:18.270 --> 00:00:21.440
A pending intent is a 
special kind of object

00:00:21.440 --> 00:00:23.646
that describes an intent.

00:00:23.646 --> 00:00:25.852
This allows other applications 
to implement the feature

00:00:25.852 --> 00:00:29.050
of the original intent that's used
to create the PendingIntent.

00:00:29.050 --> 00:00:31.890
We're only going to use
this PendingIntent once,

00:00:31.890 --> 00:00:34.542
so I set Flag One Shot.

00:00:34.542 --> 00:00:37.480
Then, we get the alarm service 
and set the alarm

00:00:37.480 --> 00:00:40.420
to trigger five seconds from now.

00:00:40.420 --> 00:00:43.870
But we still need for our alarm
to do something.

00:00:43.870 --> 00:00:46.990
Back in the Broadcast Receiver, 
we need to send

00:00:46.990 --> 00:00:50.310
the standard intent
to start our service, and that's it.

00:00:50.310 --> 00:00:52.616
Let's try running the app.

00:00:52.616 --> 00:00:54.662
All right, so now we've got
the Alarm Manager

00:00:54.662 --> 00:00:56.460
getting in the way of our service.

00:00:56.460 --> 00:00:58.326
We hit refresh.

00:00:58.326 --> 00:01:00.372
It'll take us about 
five more seconds

00:01:00.372 --> 00:01:02.660
before we actually see the data now.

00:01:02.660 --> 00:01:05.886
And there we have it - 
a very, very simple alarm.

00:01:05.886 --> 00:01:08.652
Even with this updating
in the background potentially,

00:01:08.652 --> 00:01:11.160
and using a service,
we could still be more efficient

00:01:11.160 --> 00:01:13.700
in our use of phone resources.

00:01:13.700 --> 00:01:16.510
Rato can tell us more about that.

