WEBVTT
Kind: captions
Language: en

00:00:00.110 --> 00:00:02.450
So let's discuss the solution to our Amdahl's

00:00:02.450 --> 00:00:06.140
Law quiz. The program has 50 billion instructions.

00:00:06.140 --> 00:00:09.143
This is how many instructions according to the

00:00:09.143 --> 00:00:13.224
instruction count: our integer 40%, branches are 1 5th

00:00:13.224 --> 00:00:16.227
of our instructions, stores are 10% and so

00:00:16.227 --> 00:00:18.922
on, and this is the original CPI, and the

00:00:18.922 --> 00:00:21.848
improvement we have is that the branches have

00:00:21.848 --> 00:00:25.175
improved from 4 to 2 CPI. If we try

00:00:25.175 --> 00:00:30.050
to use Amdahl's law, we might do something like this, this overall speed up

00:00:30.050 --> 00:00:34.951
is 1 over 1 minus fraction enhanced. The fraction has its

00:00:34.951 --> 00:00:39.998
20% so it will be 0.80 is 1 minus that plus 0.2 is

00:00:39.998 --> 00:00:45.251
the fraction enhanced divided by this speed up is 2, so this

00:00:45.251 --> 00:00:50.350
will be 1 over 0,9 which will be 1.111. And if you did

00:00:50.350 --> 00:00:56.650
this, you will be horribly, horribly wrong. The reason this is wrong is that

00:00:56.650 --> 00:01:02.990
the fraction enhanced is not as a percentage of the overall execution time

00:01:02.990 --> 00:01:05.790
before the improvement. We said this is

00:01:05.790 --> 00:01:09.680
how many instructions are enhanced. So branches

00:01:09.680 --> 00:01:16.016
are 20% of the instruction count, but we don't know what percentage of execution

00:01:16.016 --> 00:01:19.360
time was spent on branches and execution time

00:01:19.360 --> 00:01:22.950
is what we are interested here. So that

00:01:22.950 --> 00:01:25.510
one of the possible correct solutions here is

00:01:25.510 --> 00:01:28.130
simply to do the following. Using the iron

00:01:28.130 --> 00:01:33.740
law, we can compute that for 40% of our instructions we were getting a CPI of

00:01:33.740 --> 00:01:37.395
1, for 20% of the instructions we're getting

00:01:37.395 --> 00:01:41.332
a CPI of 4. For 30% of the instructions

00:01:41.332 --> 00:01:47.588
we're getting a CPI of 1 and for 10% of our instructions we are getting a CPI of

00:01:47.588 --> 00:01:53.752
3 multiply that by a 50 billion and multiply that by 1 over 2 billion which is

00:01:53.752 --> 00:01:57.353
the 2GHz. So this would be the execution time

00:01:57.353 --> 00:02:01.682
before the enhancement. After the enhancement, we will be

00:02:01.682 --> 00:02:04.266
having the same thing, except there will be a

00:02:04.266 --> 00:02:06.510
2 here, and if you do that, the answer

00:02:06.510 --> 00:02:12.912
will be 1.24. In order to be able to use Amdahl's law, what we have to figure

00:02:12.912 --> 00:02:17.356
out is, of this execution time, what fraction were

00:02:17.356 --> 00:02:20.610
the branches? And if we did that, we would

00:02:20.610 --> 00:02:22.240
be able to plug that number here and

00:02:22.240 --> 00:02:24.370
here as the fraction enhanced and get the correct

00:02:24.370 --> 00:02:28.180
answer here. So again, do not use something other

00:02:28.180 --> 00:02:31.910
than the fraction of execution time as your fraction

00:02:31.910 --> 00:02:34.380
enhanced, because you will not get the correct answer.

