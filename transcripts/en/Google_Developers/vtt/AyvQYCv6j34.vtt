WEBVTT
Kind: captions
Language: en

00:00:00.000 --> 00:00:06.650
&gt;&gt; GENTLE: ...and it sort of blocks people.
It might be worth if you guys want to actually

00:00:06.650 --> 00:00:13.400
follow along moving up to the chairs where
you can see me because I can't actually like

00:00:13.400 --> 00:00:17.870
stand in away a little. It'd be good for everyone.
&gt;&gt; [INDISTINCT]

00:00:17.870 --> 00:00:24.539
&gt;&gt; GENTLE: Yeah. So, I'm Joseph, for everyone
who can't see me and hear me. I did--I worked

00:00:24.539 --> 00:00:30.579
out of this year for--I spend six months at
Google. Even most of my friends have lost

00:00:30.579 --> 00:00:35.370
track whether or not I'm working at Google
at any given moment now. I'm--yeah, so I've

00:00:35.370 --> 00:00:38.940
worked for six months at Google. I did an
internship at the start of the year and all

00:00:38.940 --> 00:00:43.260
on the year before and then I've spent three
months recently as a contractor. I started

00:00:43.260 --> 00:00:49.559
a week before Wave got cancelled so it's for
me been a very interesting time to be on the

00:00:49.559 --> 00:00:53.461
team. So, originally the spec for this session,
I was going to be explaining how to set up

00:00:53.461 --> 00:00:58.289
your own Wave server on some domain and get
it better and everything else. But talking

00:00:58.289 --> 00:01:01.399
to a couple of people, it kind of seems like
a lot of people don't have the code running

00:01:01.399 --> 00:01:07.220
even on their laptops so I might just spend
sort of five minutes showing how to set that

00:01:07.220 --> 00:01:09.651
up. Unfortunately, I can't--I'm not going
to show you how to start it up on Windows

00:01:09.651 --> 00:01:16.530
because it's a little pain in the ass. But
I can quickly show you on a Mac and it's exactly

00:01:16.530 --> 00:01:33.980
the same on Linux. So, for the, you know...
&gt;&gt; I just want to point out that there is

00:01:33.980 --> 00:01:42.210
a documentation for installing on Windows
and anything you want, it's just got a lot

00:01:42.210 --> 00:01:45.011
of the odd pull on that on setting that stuff
up, as well.

00:01:45.011 --> 00:01:50.020
&gt;&gt; GENTLE: Yeah.
&gt;&gt; But I do all my default on my Windows.

00:01:50.020 --> 00:01:52.920
&gt;&gt; I'm sorry?
&gt;&gt; I do all default on Windows. It's actually

00:01:52.920 --> 00:01:53.920
very...
&gt;&gt; GENTLE: Yeah. It all works. Thankfully

00:01:53.920 --> 00:01:54.920
full Java and we've got some people who wrote...
&gt;&gt; [INDISTINCT]

00:01:54.920 --> 00:01:55.920
&gt;&gt; GENTLE: Okay, yeah. Anyway--but, yeah,
if you set it all up it does work, but that's--it's--well,

00:01:55.920 --> 00:01:56.920
it's--I mean, you've got to grab a run scripts
from somewhere, a noted [INDISTINCT] to help

00:01:56.920 --> 00:01:57.920
people with that. So, I'll quickly show you
how to set it up, the code, and get it running

00:01:57.920 --> 00:02:02.091
on my Mac for the people who have Macs in
the audience, which isn't a huge number of

00:02:02.091 --> 00:02:07.300
you, unfortunately. If you got Linux then
it's similar. And then I'll go on to show

00:02:07.300 --> 00:02:14.069
everyone how to run a server live-hosted so
I'm just going to show you from completely

00:02:14.069 --> 00:02:19.379
raw, plain Linux system running on slides
first, how to get a server which better--is

00:02:19.379 --> 00:02:23.240
up and running. I'm going to move with this
reasonably quickly so if you can't follow

00:02:23.240 --> 00:02:27.050
along don't worry about it, we're going to
be spending time this afternoon after all

00:02:27.050 --> 00:02:30.011
the sessions and tomorrow afternoon after
all the sessions where we're all going to

00:02:30.011 --> 00:02:33.950
be available. And if you want to set up and,
you know, give it a try, doing everything,

00:02:33.950 --> 00:02:38.180
then there'll be people out who can help you
out and show you stuff. And all the documentation's

00:02:38.180 --> 00:02:41.569
up there, all I'm really going to be doing
is taking this wave that I've shared with

00:02:41.569 --> 00:02:45.030
everybody and copying and pasting the commands
one by one into, you know, into the console

00:02:45.030 --> 00:02:51.999
and then doing them so you should be able
to, you know, use it and get everything working.

00:02:51.999 --> 00:02:58.119
So, before I start, are there any questions?
Yeah?

00:02:58.119 --> 00:03:02.870
&gt;&gt; [INDISTINCT]
&gt;&gt; GENTLE: The question was [INDISTINCT] stream

00:03:02.870 --> 00:03:12.489
working. I can't help you with that, unfortunately.
Can--maybe you can chat to Alex or Zoren later.

00:03:12.489 --> 00:03:19.630
Alex is the guy who's still rudely chatting
behind that door but, yeah, I'm not sure.

00:03:19.630 --> 00:03:27.459
I'm sorry. I can't help you right now with
that. Okay. So, I'll quickly show you how

00:03:27.459 --> 00:03:32.870
to get everything working on my Mac. So that's
sort of--so, to be able to federate, I should

00:03:32.870 --> 00:03:37.840
mention as well, you need a bunch of different
things to be working. I'm going to write on

00:03:37.840 --> 00:03:41.700
this white board even though not everyone
can see the white board, which is annoying.

00:03:41.700 --> 00:03:47.480
But there was a--on top of that wave. To get
the server running you don't need much. You

00:03:47.480 --> 00:03:52.620
need a server, you need Java, you need the
code, you need to build it, you need to run

00:03:52.620 --> 00:03:54.629
it. It will run the server. You can connect
to it by using your browser. To federate,

00:03:54.629 --> 00:04:01.030
you need the following things: you need XMPP,
which is a Java server, and you need this

00:04:01.030 --> 00:04:07.040
for the servers to communicate to each other.
You're going to need a domain name and you

00:04:07.040 --> 00:04:12.980
may--going to need to be able to edit that
domain name. You're going to need an SSL certificate.

00:04:12.980 --> 00:04:17.660
There's a website that hands out free SSL
certificates, which is startssl.com. If you

00:04:17.660 --> 00:04:21.090
want to use their certificates you need to
register. But they're free which is nice.

00:04:21.090 --> 00:04:23.850
Ultimately, you can get an SSL certificate
anyway that you can get an SSL certificate.

00:04:23.850 --> 00:04:30.780
So you can pay somebody money and get one
of these one there.

00:04:30.780 --> 00:04:36.600
&gt;&gt; There are a certain--certain amount of
SSL providers with direct line from Java.

00:04:36.600 --> 00:04:38.040
&gt;&gt; GENTLE: Okay.
&gt;&gt; Not all them are, sell [INDISTINCT] certificates

00:04:38.040 --> 00:04:39.160
are.
&gt;&gt; GENTLE: Okay. Yeah, James just pointed

00:04:39.160 --> 00:04:42.870
out that not all SSL providers are recognized
by Java so it might be worth checking that

00:04:42.870 --> 00:04:48.060
whole thing, selling money for an SSL certificate.
If you want to use the StartSSL certificates

00:04:48.060 --> 00:04:52.760
you're also going to need to be able to receive
email at your domain so you're going to need,

00:04:52.760 --> 00:04:58.820
you know, an email set-up. I've set this up
just using Google apps. You can get a free

00:04:58.820 --> 00:05:03.670
Google apps domain at Google Apps thing and
connect it up to your domain as long as you

00:05:03.670 --> 00:05:06.700
can add MX records to your domain name, which
you're going to need to be able to do anyway

00:05:06.700 --> 00:05:13.200
to set-up XMPP stuff. And that lets you--that'll
then verify that you really do have that domain

00:05:13.200 --> 00:05:18.480
and they'll hand you out an SSL certificate
that you can use Wave in a Box. So, all of

00:05:18.480 --> 00:05:21.220
that stuff is a bit of a pain in the ass to
configure and set up but I'll run you through

00:05:21.220 --> 00:05:23.560
it quickly. I'll do it now. But first of all,
let's get a simple server running on a laptop.

00:05:23.560 --> 00:05:32.840
So to get a simple server running we're going
to need not very much. If you got Mac then

00:05:32.840 --> 00:05:37.930
the only thing you really need to download
is Mercurial. James has got pages up on the

00:05:37.930 --> 00:05:41.000
Wiki that show you how to install that. Unfortunately,
I wasn't prepared to show you how to install

00:05:41.000 --> 00:05:45.930
Mercurial but it's reasonably easy. I think
you can download and install it. Once it's

00:05:45.930 --> 00:05:50.490
installed in your terminal you should just
be able to go HG and you'll see Mercurial

00:05:50.490 --> 00:05:55.570
spitting out a whole bunch of stuff. Is this
big enough for you guys in the back to read?

00:05:55.570 --> 00:06:02.060
Yeah? Cool. Okay, so, good. Magic buttons,
I can make them bigger and smaller. So the

00:06:02.060 --> 00:06:08.720
step one for where you install it is to download
and build Mercurial--download and build the

00:06:08.720 --> 00:06:13.460
code. So on my Mac I'm just going to grab
this line which says to grab the source code

00:06:13.460 --> 00:06:19.460
of the other tree. And if you got the code
page that's, you know, I just copied and pasted

00:06:19.460 --> 00:06:22.620
this from code.google.com/waveprotocol and
you should click, "Check out Google," to give

00:06:22.620 --> 00:06:28.430
you this line to copy-paste. So I can paste
that in there. And what that does is kind

00:06:28.430 --> 00:06:34.671
of grab the most recent version of all the
source code from our code site and then I

00:06:34.671 --> 00:06:36.420
can build it. Doo too doo--yo?
&gt;&gt; I downloaded it before and then I want

00:06:36.420 --> 00:06:43.990
to update and I've done like HG space [INDISTINCT]
but it's just states like the same version.

00:06:43.990 --> 00:06:48.650
&gt;&gt; GENTLE: Right, right. Yeah. So, Mercurial
is a little bit different from Subversion

00:06:48.650 --> 00:06:55.910
and CVS, yeah. It's--yeah, exactly as James
said, your HG pull and then go HG update.

00:06:55.910 --> 00:06:57.810
It's a two-step process.
&gt;&gt; [INDISTINCT]

00:06:57.810 --> 00:07:04.740
&gt;&gt; GENTLE: Yeah. There you go.
&gt;&gt; [INDISTINCT]

00:07:04.740 --> 00:07:15.130
&gt;&gt; Yeah.
&gt;&gt; GENTLE: Right. So, this will be done soon.

00:07:15.130 --> 00:07:20.610
So for all of the other stuff, I've got a
Slicehost account and I'm just going to nuke

00:07:20.610 --> 00:07:27.850
this. So this is my wavebang.com wave server,
which is currently working and it looks like

00:07:27.850 --> 00:07:31.620
this and I've got waves and sound. So I'm
just going to nuke the entire machine that

00:07:31.620 --> 00:07:37.760
that's running on and build. So I was trying
to set this up using Avance 10.4 last night

00:07:37.760 --> 00:07:42.560
but I was having trouble. But it seems to
work fine at 10.10. I think it might have

00:07:42.560 --> 00:07:47.890
something to do with the version of procedure
that I was trying to use. I don't really know.

00:07:47.890 --> 00:07:50.960
Federation is still a little bit flaky so
some things just don't work when they should

00:07:50.960 --> 00:07:55.650
sometimes and sometimes you need to reset
your server. So I apologize about this--apologize

00:07:55.650 --> 00:08:00.030
for this. We're going to try and make this
work a lot better in the next few--the next

00:08:00.030 --> 00:08:04.110
little while. But if it magically stops working
for you then it might not be your fault it

00:08:04.110 --> 00:08:08.080
might actually be our fault and you should
make a lot of noise on the mailing list saying,

00:08:08.080 --> 00:08:12.750
"It's not working," and hopefully people will
start to, you know, get all of these stuff

00:08:12.750 --> 00:08:18.400
fixed. So I'm going to hit rebuild and this
is going to build a new, you know, a bunch

00:08:18.400 --> 00:08:23.630
of maverick instance and blow of all of the
data MRL done. If you want to do this from

00:08:23.630 --> 00:08:27.340
scratch then, if you sign up for Slicehost,
then you can just click, you know, all my

00:08:27.340 --> 00:08:32.700
files I would like in the maverick. And this
is going to give me a new--and since--and

00:08:32.700 --> 00:08:38.990
I can login to like that. Meanwhile there,
Mercurial is done. So once you type in that

00:08:38.990 --> 00:08:43.029
command it's going to make a new directory
called wave-protocol that you guys can't see

00:08:43.029 --> 00:08:54.230
it at all because of the colors. Let me fix
that. Let me fix that. And there's a directory

00:08:54.230 --> 00:09:01.480
called wave-protocol right now. I can go into
that and I can type in ant. If you type in

00:09:01.480 --> 00:09:05.379
ant by default now it's going to go build
everything that you need and it'll just work,

00:09:05.379 --> 00:09:11.000
which is nice, so. And this does take a little
while though, so it takes about five minutes

00:09:11.000 --> 00:09:14.269
on Slicehost and it might take a little bit
longer on my brand new laptop because it's

00:09:14.269 --> 00:09:21.689
got a little precious [INDISTINCT] a few years
ago. But, yeah, so you type in ant and it

00:09:21.689 --> 00:09:25.730
will start compiling. So I'm going to start
multitasking. I'm sorry if that confuses people

00:09:25.730 --> 00:09:28.989
because this will take a good, you know, six
to seven minutes.

00:09:28.989 --> 00:09:30.839
&gt;&gt; I just have one small question. Do you
suppose...

00:09:30.839 --> 00:09:35.380
&gt;&gt; This should be in inches a little bit [INDISTINCT]
&gt;&gt; GENTLE: So, I use the 64. We want to use

00:09:35.380 --> 00:09:40.110
the default but it shouldn't matter which
one you use. But use 10.10. Use the most recent

00:09:40.110 --> 00:09:46.779
one. Don't use the previous Avance image.
So what this does is it first of all compiles

00:09:46.779 --> 00:09:49.810
the server and then it expands a whole bunch
of Java files into the directory and then

00:09:49.810 --> 00:09:53.740
it collapses them back down at some other
Javas. So this is on my list of things that

00:09:53.740 --> 00:09:56.949
I should want to fix when I get around to
it because it's got so--but the thing that

00:09:56.949 --> 00:09:59.950
really takes time is compiling the client.
So, when it says compile GWT it starts compiling

00:09:59.950 --> 00:10:08.480
the console client and that's--so. All right.
So, meanwhile--so we've got a new box and

00:10:08.480 --> 00:10:14.980
I'm going to be able to login to this using
my newly writ password. So if I go to my other

00:10:14.980 --> 00:10:20.440
tab, SSH as root at...
&gt;&gt; [INDISTINCT]

00:10:20.440 --> 00:10:26.350
&gt;&gt; GENTLE: Sorry? Well, I'll start off logging
in as writ because there's no users on the--on

00:10:26.350 --> 00:10:35.459
the machine. So I login to writ of that machine
and--oops. I logged in to it before and it's

00:10:35.459 --> 00:10:39.990
generating a new servlet so I just need to
delete the file. If you did this from scratch

00:10:39.990 --> 00:10:55.980
you won't have this problem. You know the
man behind the curtain. I'm sure it will connect

00:10:55.980 --> 00:11:05.860
and the password is this and I've got a brand
new box running. That color is not so good

00:11:05.860 --> 00:11:11.850
but I've got a channel that I can do stuff
with. So I'm going to start going through

00:11:11.850 --> 00:11:16.689
the instructions on this wave and I'm pretty
much not going to deviate from this. So if

00:11:16.689 --> 00:11:19.879
you want to follow along then open up the
Wave and you can, you know, do stuff. So,

00:11:19.879 --> 00:11:24.499
first of all, just type in SSH root at the
IP so that you can login to it. The first

00:11:24.499 --> 00:11:27.600
thing I'm going to do is I'm going to create
a user because, as James says, I--logging

00:11:27.600 --> 00:11:34.120
in and using a machine is actually quite naughty.
So I'm going to add a user called josephg

00:11:34.120 --> 00:11:41.270
and I'm going to add it into the pseudo group
which is going to let me be able to have administrative

00:11:41.270 --> 00:11:49.360
privileges. So this creates me, I'll give
it a password and it's going to ask me my

00:11:49.360 --> 00:11:54.870
name and stuff but let me get it. So once
that's set up, then I can log out and then

00:11:54.870 --> 00:12:03.882
I can log back in again as myself. So if you're
doing this from Windows, you can grab a program

00:12:03.882 --> 00:12:11.610
called--who's on Windows at the moment? Is
that a lot of people? Yeah, if you're--okay.

00:12:11.610 --> 00:12:15.800
You can get a program called PuTTY that lets
you be able to connect via SSH if you don't--if

00:12:15.800 --> 00:12:24.019
you're not comfortable doing this stuff. So
now I'm going to log in as me and [INDISTINCT]

00:12:24.019 --> 00:12:28.949
on me. I'm just going to type this command
to make sure that I have administrative privileges.

00:12:28.949 --> 00:12:34.670
"Pseudo" means please do this as the writ
user and as the CP user. "Who am I?" means

00:12:34.670 --> 00:12:38.819
which is am I now and I type in my password
it should say that I am indeed if I set--ask

00:12:38.819 --> 00:12:42.389
you to do something it's with administrative
privileges under writ user. So, that's good.

00:12:42.389 --> 00:12:46.190
All right, very good. Alright, so the first
thing I'm going to do is I'm going to install

00:12:46.190 --> 00:12:50.589
a whole bunch of packages and these are the
packages that I'm going to install. I'll explain

00:12:50.589 --> 00:12:57.139
them. So, this means in store packages. Default-ADK
means to install open J at JDK or a bunch

00:12:57.139 --> 00:13:03.149
of default Java runtime environment and development
kit so that's Java development kit. Mercurial

00:13:03.149 --> 00:13:06.730
is the program we need to be able to download
a little source code. Eventually, we're going

00:13:06.730 --> 00:13:11.529
to make it so that you can just--you can just
click on the download link on the website.

00:13:11.529 --> 00:13:15.829
But at the moment that's quite out of date
because I'm moving quite quickly so I prefer

00:13:15.829 --> 00:13:20.339
to grab everything from source. Ant is the
tool we use to build so that's going to build

00:13:20.339 --> 00:13:25.709
everything for us. MongoDB, we're going to
use to have a persistent user store and hopefully

00:13:25.709 --> 00:13:29.410
the data source is going to start using Mongo
at some stage. Although, at least at first

00:13:29.410 --> 00:13:35.369
it's going to be using files. Prosody is the
JavaServer or XMPP Server, so we need these

00:13:35.369 --> 00:13:39.240
for federation. And finally, I'm going to
get screen so that I can launch it and run

00:13:39.240 --> 00:13:40.579
it and leave it running even though when I'm
not logged in. So...

00:13:40.579 --> 00:13:46.939
&gt;&gt; Just one question, depending on which version
we're going to be using, like, I've got the

00:13:46.939 --> 00:13:48.790
older data.org.
&gt;&gt; GENTLE: Yeah.

00:13:48.790 --> 00:13:54.860
&gt;&gt; It's tied against 7.170 but it's not working.
It's not built that XML.

00:13:54.860 --> 00:13:58.680
&gt;&gt; GENTLE: Okay.
&gt;&gt; And at least Ant 7.1.7.1.

00:13:58.680 --> 00:13:59.690
&gt;&gt; GENTLE: And which was?
&gt;&gt; 871.

00:13:59.690 --> 00:14:01.959
&gt;&gt; GENTLE: Okay.
&gt;&gt; Minimum version of Ant you use.

00:14:01.959 --> 00:14:06.410
&gt;&gt; GNETLE: Okay. So the comment was for people
on, you know, video and stuff. Apparently,

00:14:06.410 --> 00:14:11.779
if you use an older version of Ant II, for
example, like 8.04, the default version of

00:14:11.779 --> 00:14:16.389
Ant isn't recent enough to be able to build
the code. You need at least version 171 to

00:14:16.389 --> 00:14:23.089
be able to build everything. So, yeah, that's
something. So I'm going to type in now and

00:14:23.089 --> 00:14:28.100
this is going to take a little while but not
too long because this is going to download

00:14:28.100 --> 00:14:34.420
122 new packages, but it's still fast in the
building. So while it's going I should be

00:14:34.420 --> 00:14:40.189
able to--right. So my build is finished and
actually--hey, that's cool. It's still faster

00:14:40.189 --> 00:14:46.029
than the image on--yeah, on slashes. This
is one of the brand new Macs. I'm very happy

00:14:46.029 --> 00:14:47.519
with it, so. Yeah.
&gt;&gt; [INDISTINCT]

00:14:47.519 --> 00:14:52.939
&gt;&gt; GENTLE: I'm lucky I favor Apple on the
side [INDISTINCT] friends makes it. So, all

00:14:52.939 --> 00:14:59.600
right. So, now this is running as it's built.
I can just go ./run/server and it's going

00:14:59.600 --> 00:15:05.060
to run the Wave server completely with all
the default configuration settings. And this

00:15:05.060 --> 00:15:08.670
just works. So if you don't--and if you haven't
made the configurations by yourself you can

00:15:08.670 --> 00:15:12.760
just run it and it should just work. And you
can tell that it works because you'd see this

00:15:12.760 --> 00:15:19.509
thing. If this is a bit smaller, it looks
like that and that's my sort of mental cue

00:15:19.509 --> 00:15:23.730
for, you know, it's running and it's all happy.
Sometimes you see giant stack traces and if

00:15:23.730 --> 00:15:25.680
you see that then it's bad. And that means
it's not working, you've done something wrong.

00:15:25.680 --> 00:15:31.779
But if you see this like, you know, lots of,
you know, slash website things are all hooked

00:15:31.779 --> 00:15:37.300
up then you're golden. So once that's running
by default it's going to be running on local

00:15:37.300 --> 00:15:52.449
host, :9898, and if I go to that, then--it's
not working. No, okay. My default is running

00:15:52.449 --> 00:15:59.560
on my external IP and not local host. Yeah,
my host name/9898. So this is working. The

00:15:59.560 --> 00:16:06.050
default user store at the moment is still
the fake user, so I think, is it?

00:16:06.050 --> 00:16:08.290
&gt;&gt; [INDISTINCT]
&gt;&gt; GENTLE: Okay. All right, cool. So I can

00:16:08.290 --> 00:16:11.930
register a new user then. So I'm going to
register the ASDF user with new password.

00:16:11.930 --> 00:16:14.319
Cool, registration complete. I'm going to
sign in, ASDF and--woo-hoo, ASDF@sephsmac,

00:16:14.319 --> 00:16:19.920
choose my laptop, create a new wave and I
can talk to myself which is cool. Yeah, so

00:16:19.920 --> 00:16:27.041
that just works. So if you wanted to do all
of it, that's, you know, that's how easy it

00:16:27.041 --> 00:16:36.939
is to set-up and get it up and running. Yeah.
I don't what that's about. I won't go in there.

00:16:36.939 --> 00:16:41.079
All right. So meanwhile, let's install all
of these packages. And so a whole bunch of

00:16:41.079 --> 00:16:44.290
things are installed now including Mongo and
you can test if all this works if you want

00:16:44.290 --> 00:16:49.389
to. So for example, I can use Mongo and I'll
say, "Whoop. I'm connected to Mongo." She

00:16:49.389 --> 00:16:55.908
wants you, but you don't need to. Okay, so
the next thing I want to do is check out the

00:16:55.908 --> 00:16:59.629
source code. And this is exactly the same
as what is registered on my laptop so I'm

00:16:59.629 --> 00:17:06.059
going to do that. And if the Internet's any
faster than it is I would Google--yes, I think

00:17:06.059 --> 00:17:10.059
it is. Any other questions while we wait?
&gt;&gt; Is it--has anyone used Amazon Images for

00:17:10.059 --> 00:17:17.949
this? Is there any reason why it wouldn't
work there?

00:17:17.949 --> 00:17:23.839
&gt;&gt; GENTLE: The question was, "Has anyone used
Amazon Images for this? Is there any reason

00:17:23.839 --> 00:17:27.231
why it wouldn't work?" I haven't. I don't
know if anyone has. I suspect it should work.

00:17:27.231 --> 00:17:28.231
You have?
&gt;&gt; Yeah.

00:17:28.231 --> 00:17:40.220
&gt;&gt; GENTLE: It's good?
&gt;&gt; It's two steps, you set-up security [INDISTINCT].

00:17:40.220 --> 00:17:55.679
&gt;&gt; Did you use a [INDISTINCT]?
&gt;&gt; I used my Web to Oracle. So, I used an

00:17:55.679 --> 00:17:56.679
Oracle [INDISTINCT].
&gt;&gt; Okay, great.

00:17:56.679 --> 00:17:57.679
&gt;&gt; We need to break that at [INDISTINCT].
&gt;&gt; But I think I need to [INDISTINCT].

00:17:57.679 --> 00:17:58.679
&gt;&gt; GENTLE: No. No, there's nothing special
about--of Ant II, I think. That list of all

00:17:58.679 --> 00:17:59.750
the packages will be different on different
operating systems, but I'm sure it'll be fine.

00:17:59.750 --> 00:18:06.130
I mean it runs on Mac OS and Windows as well
so different flavors of Linux should be fine

00:18:06.130 --> 00:18:08.990
and--yeah. And then, so the answer for people
who are on video is that, yes, it does work

00:18:08.990 --> 00:18:12.700
but you need to configure the security settings
and defaults and everything else, but it runs

00:18:12.700 --> 00:18:18.899
well. So now I'm going to build and it's going
to take a little bit longer, I think, apparently.

00:18:18.899 --> 00:18:24.350
So for me on this box, it seems to take about
six minutes to compile everything and that

00:18:24.350 --> 00:18:28.049
includes the client. When you're doing development,
it's a real pain in the ass. But thankfully,

00:18:28.049 --> 00:18:31.010
you don't actually have to compile everything
when you're doing development. There's a couple

00:18:31.010 --> 00:18:34.149
of things you can do which will speed it up
a lot. The first one is that if you set up

00:18:34.149 --> 00:18:37.929
Eclipse properly and hopefully--yeah, grab
me after, we can show you how to set up Eclipse

00:18:37.929 --> 00:18:42.222
properly. I think Leonard's going to run you
through quickly how to set it up.

00:18:42.222 --> 00:18:43.640
&gt;&gt; A part of it, yes.
&gt;&gt; GENTLE: Set-up a part of it. If you set

00:18:43.640 --> 00:18:48.470
up Eclipse, Eclipse will actually automatically
build every time you save any file. So you

00:18:48.470 --> 00:18:52.910
can just develop an Eclipse and then you can
hit the run button and it will just run instantly.

00:18:52.910 --> 00:18:55.860
You don't have to wait for any build or anything
at least for the server. For the client, you

00:18:55.860 --> 00:19:00.240
still need to compile some of the witbits,
although, to the host [INDISTINCT] which will

00:19:00.240 --> 00:19:04.400
compile on the file. Is ZD around?
&gt;&gt; Yeah.

00:19:04.400 --> 00:19:09.190
&gt;&gt; GENTLE: Yes. So the person to ask about
getting hosting a group working is ZD. This

00:19:09.190 --> 00:19:16.320
guy back there, he helped me out and I couldn't
figure it out because I thought it was complicated.

00:19:16.320 --> 00:19:19.890
But yeah, we've all--we should also have instructions
up somewhere on the site. Do we have instructions

00:19:19.890 --> 00:19:25.700
somewhere? Okay. Well, ZD can hopefully get
instructions up as enough people--if enough

00:19:25.700 --> 00:19:27.720
people are bugging about it, sweet.
&gt;&gt; We definitely run through it on Thursday.

00:19:27.720 --> 00:19:29.909
&gt;&gt; GENTLE: Sorry?
&gt;&gt; We will definitely run through it on Thursday

00:19:29.909 --> 00:19:33.930
evening hopefully.
&gt;&gt; GENTLE: Great, yeah. We'll run through

00:19:33.930 --> 00:19:41.790
it all completely on Thursday when we have
the [INDISTINCT] session. Cool. Okay. So while

00:19:41.790 --> 00:19:45.740
that's going I'm going to talk about a couple
of other things. So as I showed you on my

00:19:45.740 --> 00:19:48.679
laptop, if you want to just get the server
up and running then this is pretty much what

00:19:48.679 --> 00:19:52.610
we need to do and I can run it. So I'm going
to run you through Federation. So for Federation

00:19:52.610 --> 00:19:56.270
we need a bunch of different things. We're
going to need--we're going to need a domain.

00:19:56.270 --> 00:20:02.260
So I've got this domain here which is my configuration
for wavebang.com. I've already registered

00:20:02.260 --> 00:20:07.139
it. I've already set-up, as you can see the
MX record which lets me receive email on this

00:20:07.139 --> 00:20:13.540
domain, and I've set that up and pointed that
to google.com. So to Google Apps domain because

00:20:13.540 --> 00:20:17.409
this is free and I can do it. You're going
to need to be able to receive email on either

00:20:17.409 --> 00:20:23.429
webmaster@yourdomain or postmaster@yourdomain.
So I set this up by going manage this domain

00:20:23.429 --> 00:20:28.899
and making my user name an alias for webmaster
in the Google Apps configuration stuff. It

00:20:28.899 --> 00:20:32.799
will be different if you use different email
providers. I can show you how to do that later

00:20:32.799 --> 00:20:38.880
if you want to. I've also obviously got slicehost,
which is running the actual server. So the

00:20:38.880 --> 00:20:41.539
first thing I'm going to do is I'm going to
take the IPaddressclick, don't want to have

00:20:41.539 --> 00:20:46.620
to get copying it and pasting it. And I'm
going to make a new DNS record in my domain

00:20:46.620 --> 00:20:50.250
so that I can just type in wavebang.com and
it's going to take us straight there. So I'll

00:20:50.250 --> 00:20:54.799
do this while it's compiling. So the sub-domain
is nothing and different DNS things will look

00:20:54.799 --> 00:20:59.740
slightly different so don't worry. I want
an A record which means that this is the authority

00:20:59.740 --> 00:21:05.440
record for this domain. And I want wavebang.com
to point to this IP address, which is the

00:21:05.440 --> 00:21:12.020
IP address of my server. So I'll save that.
And now you could see that here, it's the

00:21:12.020 --> 00:21:17.549
IP address of my slicehost server. And from
my terminal on my machine, they're not from

00:21:17.549 --> 00:21:23.860
the, you know, we haven't installed the tools
here, but from Linux you can type in dig A

00:21:23.860 --> 00:21:38.230
wavebang.com to see if it works. And it should
hopefully say--it might take a minute to refresh,

00:21:38.230 --> 00:21:43.830
unfortunately. Anyway, at some session we'll
be able to--or go ping wavebang.com. All right.

00:21:43.830 --> 00:21:52.840
It might take a couple of minutes for that
ripple through. But when it does we should

00:21:52.840 --> 00:21:58.710
be able to go to wavebang.com and it will
work. It was working instantly and so, which

00:21:58.710 --> 00:22:03.460
is a shame. Okay, so we're nearly, nearly
finished the compiling grid. So yeah--so I

00:22:03.460 --> 00:22:06.690
want to set that up and that's going to be
useful. Another thing that we're going to

00:22:06.690 --> 00:22:12.289
need to be able to have access to is StartSSL
certificates. So I mentioned this before the

00:22:12.289 --> 00:22:18.090
talk. To be able to--oops, I'm going to--just
go to the main page in this. To be able to

00:22:18.090 --> 00:22:25.059
get an SSL certificate, you can get free SSL
certificates from StartSSL and this is really

00:22:25.059 --> 00:22:28.100
useful. Unfortunately, it doesn't work in
Chrome. So if you want to use this site, you

00:22:28.100 --> 00:22:32.620
need to use it either from Safari or I think
Firefox. It's [INDISTINCT] Chrome though,

00:22:32.620 --> 00:22:37.530
we're bugging the site. The way they use authentication
stuff isn't supported by Chrome. So yeah.

00:22:37.530 --> 00:22:47.080
So, what you want to do when you go here is
click on sign-up, and you can fill out all

00:22:47.080 --> 00:22:52.600
of your personal details and then they give
you--so I'm going to show you that. I've already

00:22:52.600 --> 00:22:58.570
done it, it's just--it's a pain. All right.
I'm really excited. You type in all of your

00:22:58.570 --> 00:23:04.620
details and they're going to give you a download
link. So, what you have to do is you download

00:23:04.620 --> 00:23:09.720
it and you're going to get a little download
link with some randomly-named file. And on

00:23:09.720 --> 00:23:12.750
the Mac, you can just double-click on that
file and it will open up the keychain, sort

00:23:12.750 --> 00:23:19.520
of like this. And there it is, StartSSL, Start.com
free certificate, and then you can close that

00:23:19.520 --> 00:23:26.289
and it's all good and it works. So I'm just
going to delete again. But don't delete it,

00:23:26.289 --> 00:23:31.379
that's just because of my weak configuration.
Are we done yet?

00:23:31.379 --> 00:23:34.619
&gt;&gt; [INDISTINCT]
&gt;&gt; GENTLE: So yeah, we'll get there.

00:23:34.619 --> 00:23:39.710
&gt;&gt; How much RAM are we going to be able to
show?

00:23:39.710 --> 00:23:45.400
&gt;&gt; GENTLE: So, this machine has 512 Megs of
RAM, but it might work with 256 Megs which

00:23:45.400 --> 00:23:50.690
is--no? No good? Okay, I decided that I wanted
512 Megs of RAM for...

00:23:50.690 --> 00:23:54.480
&gt;&gt; So, when I run it in Harmony, it usually
takes about 12 minutes to do.

00:23:54.480 --> 00:24:00.000
&gt;&gt; GENTLE: Okay, maybe this is RAM limited
then. Yeah, it could well be, but it's getting

00:24:00.000 --> 00:24:03.460
there which is nice. And when you see this
compiling permutations thing, it's good. There's

00:24:03.460 --> 00:24:06.120
also another trick which is really useful
when you're developing. If you want to build

00:24:06.120 --> 00:24:14.070
a GWT client, you can type in @ compile_gwt_dev.
I might write that down on the white board,

00:24:14.070 --> 00:24:21.970
or maybe I maybe I could write in Wave. If
you want to, you can go compile--yeah, compile

00:24:21.970 --> 00:24:27.770
gwt_--and--I'll write it down. And that does
a development build which will build much

00:24:27.770 --> 00:24:32.370
more quickly, and it also gives you a console
underneath at the one of the client which

00:24:32.370 --> 00:24:37.019
let's you see the given information. So, if
ever--if the client crashes for some reason

00:24:37.019 --> 00:24:47.070
it's quite useful for us to be able to see
that work. Yeah, there we go. It's this. Come

00:24:47.070 --> 00:24:55.419
on, come on, faster. So where's everyone from?
Is--most people are from the States? So who's

00:24:55.419 --> 00:25:05.500
not from the U.S.? Okay. You guys are from
Australia and the Netherlands? You are from

00:25:05.500 --> 00:25:08.190
Germany? Okay.
&gt;&gt; Finland.

00:25:08.190 --> 00:25:10.890
&gt;&gt; GENTLE: Finland.
&gt;&gt; Singapore.

00:25:10.890 --> 00:25:14.390
&gt;&gt; GENTLE: Singapore. Anywhere else? No, international
people? Is my accent annoying to understand

00:25:14.390 --> 00:25:17.559
for you guys?
&gt;&gt; I find it terrible.

00:25:17.559 --> 00:25:24.700
&gt;&gt; GENTLE: Yeah, I've had some American friends
who--yeah, who I pretend to speak in an American

00:25:24.700 --> 00:25:29.799
accent for. It's probably terrible and really,
like, patronizing but it's...

00:25:29.799 --> 00:25:35.830
&gt;&gt; We have to put up when Americans try to
pretend to do Australian accents. So why can't

00:25:35.830 --> 00:25:40.330
we do it the same way around?
&gt;&gt; GENTLE: Yeah. So yeah, I can pretend to

00:25:40.330 --> 00:25:41.330
be an American if you like, I don't know.
&gt;&gt; Do it, I like it.

00:25:41.330 --> 00:25:43.150
&gt;&gt; GENTLE: Okay.
&gt;&gt; Come on, dude.

00:25:43.150 --> 00:25:46.720
&gt;&gt; GENTLE: Yeah.
&gt;&gt; Is this being streamed too--this part of

00:25:46.720 --> 00:25:50.490
it?
&gt;&gt; GENTLE: Yes. Yes, it should all be streamed.

00:25:50.490 --> 00:25:54.710
&gt;&gt; And so, what if something happens during
the stream?

00:25:54.710 --> 00:26:04.549
&gt;&gt; [INDISTINCT]
&gt;&gt; GENTLE: So yeah. The question was, "Is

00:26:04.549 --> 00:26:10.320
this being streamed as well?" And if you are
subscribed to the Wave-Protocol mailing list,

00:26:10.320 --> 00:26:16.450
then Pamela sent an email.
&gt;&gt; Or you can check our Twitter account with

00:26:16.450 --> 00:26:17.720
that.
&gt;&gt; GENTLE: Yeah, Gmail doesn't really run

00:26:17.720 --> 00:26:31.249
it very well with this apparently.
&gt;&gt; Is the Google Wave link [INDISTINCT]?

00:26:31.249 --> 00:26:39.720
&gt;&gt; GENTLE: I could open this up and watch
a video of myself. But yeah, so we've got

00:26:39.720 --> 00:26:42.089
a video, which is working. Impressive, okay.
&gt;&gt; We've got an ad.

00:26:42.089 --> 00:26:43.599
&gt;&gt; GENTLE: An ad, let's not watch that.
&gt;&gt; Yeah, an ad.

00:26:43.599 --> 00:26:45.580
&gt;&gt; GENTLE: Okay. This is a lot faster when
I did this last night. It's kind of annoying.

00:26:45.580 --> 00:26:49.549
I don't know why that is. So, I'm sorry about
the wait. Are there any other questions while

00:26:49.549 --> 00:26:52.389
we wait? Yes?
&gt;&gt; Can you explain the certificates?

00:26:52.389 --> 00:26:57.720
&gt;&gt; GENTLE: Sure. What was the other question?
I'll take them a couple at a time.

00:26:57.720 --> 00:27:08.130
&gt;&gt; MongoDB, is that--that's something you
will set the configuration or on this current

00:27:08.130 --> 00:27:09.130
field test completely?
&gt;&gt; GENTLE: So, the question--that question

00:27:09.130 --> 00:27:11.690
was--which is an easy question; I'll explain
that on a minute. The question was, "MongoDB,

00:27:11.690 --> 00:27:16.130
do you need separate configuration for that?"
The current bill by default will look for

00:27:16.130 --> 00:27:20.149
MongoDB running on the local machine. And
if you just install it on Linux then it will

00:27:20.149 --> 00:27:24.879
run on the local machine on the default port.
So it doesn't need any configuration at all

00:27:24.879 --> 00:27:28.480
if you just want to use the regular plain
old settings. So you can just install it and

00:27:28.480 --> 00:27:33.169
it'll just work, and everything's fine. So,
our build finally succeeded. Whoo! It took

00:27:33.169 --> 00:27:38.399
8 minutes, which is longer, and the GWT part
of it took, what, 475 seconds, whatever that

00:27:38.399 --> 00:27:41.351
is, it's probably the most of it. But if we
look at our directory now we've got all the

00:27:41.351 --> 00:27:53.179
files that I had on my laptop and I can go
run-server. And here we go, it's doing that

00:27:53.179 --> 00:27:57.950
thing where it works. Let's see if wavebang.com
is working. That's really annoying. I hope

00:27:57.950 --> 00:28:06.131
that's not going to be annoying later. So,
a little demo about--so I should be able to

00:28:06.131 --> 00:28:11.509
now go to the domain. Unfortunately, because
the DNS recorder hasn't updated yet it's on--it's--I'm

00:28:11.509 --> 00:28:18.510
not going to be able to send in to wavebang.com,
but I can type in the IP, :9898, and up I

00:28:18.510 --> 00:28:23.700
get a brand new Wave in a Box instance. So,
I can register a new account, and I'm going

00:28:23.700 --> 00:28:29.500
to register seph@wavebang.com, then a password,
thanks to my account. And I can log in--and

00:28:29.500 --> 00:28:34.850
there we go, just like on my laptop we've
got Wave in a Box running, which is cool.

00:28:34.850 --> 00:28:40.750
But I just want to federate. You know, notice
as well where it says, seph@boxtestone, which

00:28:40.750 --> 00:28:44.059
is the name of this computer. So that's not
what I--what I want, because I want this to

00:28:44.059 --> 00:28:48.470
be running on wavebang.com. Also, this is
currently at default, is set not to use the

00:28:48.470 --> 00:28:50.190
new USE_SOCKETIO code, which--who wrote the
USE_SOCKETIO code, are you here?

00:28:50.190 --> 00:28:56.440
&gt;&gt; TED: The JavaScript portion by Game O'Reilly,
and the server by me.

00:28:56.440 --> 00:29:04.450
&gt;&gt; GENTLE: Okay. Cool. All right. So--yes.
We don't have--what's your name again, I'm

00:29:04.450 --> 00:29:06.130
sorry?
&gt;&gt; TED: Ted.

00:29:06.130 --> 00:29:07.130
&gt;&gt; GENTLE: We don't have Ted's--Tab or Ted?
&gt;&gt; TED: Ted.

00:29:07.130 --> 00:29:11.000
&gt;&gt; GENTLE: Ted. We don't have Ted's new USE_SOCKETIO
code running by default so this will sort

00:29:11.000 --> 00:29:14.639
of might work in Firefox. So these things,
we can fix pretty easily by just doing some

00:29:14.639 --> 00:29:20.659
configuration. So, that was running. So configuration.
So, the first thing I want to do is copy the

00:29:20.659 --> 00:29:39.179
example configuration file across the run-config.sh.
So, if I kill this with Ctr+C--I'm going to

00:29:39.179 --> 00:29:47.679
copy run-config.sh.example to run-config.sh,
and then I'm going to edit it using my favorite

00:29:47.679 --> 00:29:56.370
editor--you can use whatever you like. I'm
just going to set an option so you canÃ³so

00:29:56.370 --> 00:30:04.080
you guys can read that. Okay, so this is the
big configuration part for Wave in a Box.

00:30:04.080 --> 00:30:07.179
There's a lot of things in here that you can
just completely ignore, which is nice. We

00:30:07.179 --> 00:30:11.309
should probably mark them somewhere. You also
can't see my cursor there but at the moment

00:30:11.309 --> 00:30:15.009
I'm on this line here. So the first thing
I'm going to change is the WAVE_SERVER_DOMAIN_NAME.

00:30:15.009 --> 00:30:17.850
Actually--no, the first thing I'm going to
do is remove these two lines. If you leave

00:30:17.850 --> 00:30:20.679
these two lines and it breaks, and says, "Hey,
stop. You need to configure this before running

00:30:20.679 --> 00:30:25.740
it." So, I'm just going to delete these two
lines and then I'm going to come down here,

00:30:25.740 --> 00:30:30.180
I'm going to go change the WAVE_SERVER_DOMAIN_NAME,
instead of being example.com, to being wavebang.com.

00:30:30.180 --> 00:30:38.870
All right. So, the public IP address is currently
set to whatever your computer name is, :9898.

00:30:38.870 --> 00:30:43.309
If you want to make this run on port 80 or
something, you can--if you want to you can

00:30:43.309 --> 00:30:47.929
change it here, and then run the server as
the root user, that this is ran upon. When

00:30:47.929 --> 00:30:52.429
we have good running configuration like start-up
scripts for Linux and Sun, then hopefully,

00:30:52.429 --> 00:30:57.710
those scripts will automatically run it on
whatever port you want. So--but for now it's

00:30:57.710 --> 00:31:01.429
probably best to leave it on port :9898. So
I'm going to leave that alone. What other

00:31:01.429 --> 00:31:05.389
things do I see in my Wave? So I should pull
in my units. So, I've changed my domain name,

00:31:05.389 --> 00:31:09.990
if I want to I could do a public IP address
to hostname:80. I'm also going to have to

00:31:09.990 --> 00:31:14.660
come down here for now and say ENABLE_FEDERATION
equals false, which is sad, but it'll crash

00:31:14.660 --> 00:31:20.249
when it sets up if I haven't configured all
things I need to do for federation. So, I'll

00:31:20.249 --> 00:31:27.789
disable Federation and also going to come
down here and--so, what kind of user store

00:31:27.789 --> 00:31:31.450
do we have at the moment? Okay, at the moment
the user account store is memory, which means

00:31:31.450 --> 00:31:34.759
every time the server restarts you'd lose
all of your users that have been set up, which

00:31:34.759 --> 00:31:38.220
is kind of annoying. It does this for other
waves as well which is sort of more annoying,

00:31:38.220 --> 00:31:47.790
but we should fix this really soon now. So
I'm going to come in here and I'm just going

00:31:47.790 --> 00:31:53.919
to change this to, say, MongoDB, and USE_SOCKETIO,
which is the new code from Ted, equals true.

00:31:53.919 --> 00:31:55.330
So, this means it should work on Firefox and
the accounts still in MongoDB and it's stored

00:31:55.330 --> 00:32:00.400
and it still remember my user account so I
won't have to type in every time. So I'm going

00:32:00.400 --> 00:32:02.989
to save this and then I'm going to run it
with run.server again. Doo too doo.

00:32:02.989 --> 00:32:03.989
&gt;&gt; How do you stop the server?
&gt;&gt; GENTLE: Ctrl+C.

00:32:03.989 --> 00:32:16.169
&gt;&gt; I tried it and I tried to do it again [INDISTINCT].
&gt;&gt; GENTLE: It shouldn't leave anything behind.

00:32:16.169 --> 00:32:17.660
What operating system...
&gt;&gt; 10.2.

00:32:17.660 --> 00:32:23.499
&gt;&gt; GENTLE: Ten-two? It should be okay. I don't
know. You can go kill Java or something if

00:32:23.499 --> 00:32:50.620
you want to. It's fine.
&gt;&gt; It's also says if you want to go delete

00:32:50.620 --> 00:33:04.490
server.
&gt;&gt; For those that want it, I do have a demo

00:33:04.490 --> 00:33:07.730
script that I can send up everyday, so I can
just type, 'CMS_WAVE_START.

00:33:07.730 --> 00:33:08.730
&gt;&gt; If you go to diamond stop script it'll
stop, stop script, that'll be great.

00:33:08.730 --> 00:33:09.730
&gt;&gt; Yeah, that'd be great.
&gt;&gt; And then you'd need some tweaking whenever

00:33:09.730 --> 00:33:10.730
you're using that because there's some [INDISTINCT]
I don't call though [INDISTINCT].

00:33:10.730 --> 00:33:11.730
&gt;&gt; GENTLE: Okay.
&gt;&gt; [INDISTINCT]

00:33:11.730 --> 00:33:12.730
&gt;&gt; GENTLE: So, yeah. The comment was, Ted's
got a run script for a bunch of Avance which

00:33:12.730 --> 00:33:13.730
works. So, yes, I'll make up a code with you;
we'd welcome it in the code base somewhere.

00:33:13.730 --> 00:33:18.749
If you can--if you're happy to maintain that
and throw that and, you know, make a card

00:33:18.749 --> 00:33:19.749
review.
&gt;&gt; Yes.

00:33:19.749 --> 00:33:20.749
&gt;&gt; GENTLE: Make them clash.
&gt;&gt; [INDISTINCT]

00:33:20.749 --> 00:33:22.040
&gt;&gt; GENTLE: That'd be cool. Alright, so I'm
going register myself user again because I

00:33:22.040 --> 00:33:26.639
changed the user store app. And now I can
sign in and this will now be consistent so

00:33:26.639 --> 00:33:30.660
I can sign as mainly with the password. Notice
that now it says seph@wavebang.com which is

00:33:30.660 --> 00:33:36.470
the domain I configured and, you know, since
it'd be better. If somebody just logged in

00:33:36.470 --> 00:33:40.850
as me and make a wave. "Hi. Hi, Alex." There,
it's--Alex logged in as himself and added

00:33:40.850 --> 00:33:55.450
me onto the Wave. So, I can talk to Alex and
I should be able to as well load this up from

00:33:55.450 --> 00:34:00.970
Firefox, which is exciting for me. I'm logging
as myself. Cool. Thanks, Pamela. Yes. So,

00:34:00.970 --> 00:34:15.960
it's all working and it's all, you know, maybe.
[INDISTINCT] All right. I think Pamela will

00:34:15.960 --> 00:34:35.599
play out with it. Well, got to get back to
work. Okay, so now I'm going to show you guys

00:34:35.599 --> 00:34:39.190
how to set-up Federation. So this is what
we need to do all of those bits. So, the first

00:34:39.190 --> 00:34:45.129
thing we need to do is DNS because this can
take some time to set up itself. So I'm going

00:34:45.129 --> 00:34:52.089
to set up--you need to set up an SRV record
which looks like this. There's instructions

00:34:52.089 --> 00:34:58.040
on the Wiki, on the code review page on one
of the Wikis on how to do all of these and

00:34:58.040 --> 00:35:01.210
what it all means and everything else. And
the same is true for pretty much this entire

00:35:01.210 --> 00:35:04.270
document. So, if it doesn't work or if you
are curious about why the command looks like

00:35:04.270 --> 00:35:11.420
it does, then feel free to go onto Wiki page
and look it up or just bug any of us during

00:35:11.420 --> 00:35:15.650
this session, or post on the waveprotocol
manual so people can help you out. For me,

00:35:15.650 --> 00:35:20.390
this is going to look like this. I'll come
in here I'll add a new record. The type is

00:35:20.390 --> 00:35:30.170
server and I need to paste--and so the sub-domain
is that, which is a magical XMPP sub-domain

00:35:30.170 --> 00:35:42.240
which is going to make the JavaServer be able
to work. And in the destination field I copy

00:35:42.240 --> 00:35:52.640
and paste all of this stuff.
So, the final entry is the--the final two

00:35:52.640 --> 00:35:59.119
entries are the port that the JavaServer is
running on and the--and your service domain.

00:35:59.119 --> 00:36:03.900
So this server is just wavebang.com so I can
just type in wavebang.com here and I can save.

00:36:03.900 --> 00:36:12.700
You can also type any applicator through the
server and [INDISTINCT]. I have a space in

00:36:12.700 --> 00:36:20.810
the end of that. Cool. And now the SRV record
is configured which is nice. It'd be really

00:36:20.810 --> 00:36:27.930
nice if these domains started working. No.
No good, no. It was all working basically

00:36:27.930 --> 00:36:34.320
instantly last night so I apologize. This
is--Federation may not work by the end of

00:36:34.320 --> 00:36:40.510
this talk. If I go to the SRV record now as
well, I should be able to if it was going

00:36:40.510 --> 00:36:50.690
to work instantly. After that, then that is
working, which is nice. So, the server code

00:36:50.690 --> 00:36:54.789
is [INDISTINCT] wavebang.com. The wavebang.com
is unfortunately coming our way.

00:36:54.789 --> 00:36:59.780
&gt;&gt; Can you show the record [INDISTINCT].
&gt;&gt; GENTLE: Yes. I'll just have to wait for

00:36:59.780 --> 00:37:01.720
it to operate. So, unfortunately, Federation
won't work until then which is sad. All right.

00:37:01.720 --> 00:37:04.470
So the next thing I'm going to configure is
XMPP. So, this is the JavaServer. But before

00:37:04.470 --> 00:37:09.260
I do, I'm going to answer Pamela's question
because--I'm sorry, what about you? So you

00:37:09.260 --> 00:37:13.269
were curious about what--how SLL works?
&gt;&gt; PAMELA: Yes, generally.

00:37:13.269 --> 00:37:19.010
&gt;&gt; GENTLE: Okay. So, SLL is the encryption
technology. SLL certificates--sorry, let's

00:37:19.010 --> 00:37:23.940
two parties communicate to each other securely.
The reason why certificates are needed is

00:37:23.940 --> 00:37:28.890
because I can just pretend to be anybody and
then say, "Hey, I'm me. I'm here." Start an

00:37:28.890 --> 00:37:33.820
encrypted session. So, yes, so you'll need
a certificate which is signed by a trusted

00:37:33.820 --> 00:37:38.290
third party. So the third party says, "Yes,
these encryption keys are really from Joseph."

00:37:38.290 --> 00:37:41.869
And then I can say, "I can encode things using
those keys and everyone else can decrypt them."

00:37:41.869 --> 00:37:44.809
And they'll know it's definitely for me because
I'm the only one who knows how to encrypt

00:37:44.809 --> 00:37:49.280
keys from Joseph. So, we use this on a whole
bunch of different places in Wave in a Box.

00:37:49.280 --> 00:37:53.530
Or at least we intend to, some things aren't
working just yet. The most important place

00:37:53.530 --> 00:37:58.180
is that we sign all the deltas. So when you
send a delta to you, attach some text in it

00:37:58.180 --> 00:38:03.260
in a Wave, every key start that I press it
gets signed using my server certificates.

00:38:03.260 --> 00:38:08.369
When I says, "Yes," that really was Joseph
typing these keys. And when it sends them

00:38:08.369 --> 00:38:13.440
on to wavesandbox.com or to acmewave.com or
wherever, then all the servers can check and

00:38:13.440 --> 00:38:17.880
make sure and they can tell that those key
strokes were really sent by my wave server.

00:38:17.880 --> 00:38:23.190
And my wave server is trusting in saying that
it was sent by me. So that gives you the all

00:38:23.190 --> 00:38:28.109
the nice security properties the wave has.
SSL is also used between the servers to be

00:38:28.109 --> 00:38:32.120
able to do the XMPP connection. But unfortunately,
that's not working in wavesandbox.com at the

00:38:32.120 --> 00:38:34.710
moment. So I'm not going to show you guys.
I'm not going set that up, so that wavesandbox.com

00:38:34.710 --> 00:38:37.600
Federation works. But of course, if you turn
that off then it means that those--yeah, it

00:38:37.600 --> 00:38:39.000
means there's potential for abuse and listening
to ops in the middle.

00:38:39.000 --> 00:38:42.740
&gt;&gt; Can you try and see if you can put the
boy box from one of these?

00:38:42.740 --> 00:38:48.910
&gt;&gt; GENTLE: Is this my--louder here or...
&gt;&gt; Yeah.

00:38:48.910 --> 00:38:56.839
&gt;&gt; GENTLE: Am I any louder now?
&gt;&gt; Yes. Yes, you are.

00:38:56.839 --> 00:39:00.690
&gt;&gt; GENTLE: Is that good?
&gt;&gt; Good.

00:39:00.690 --> 00:39:11.619
&gt;&gt; GENTLE: Okay. Cool. Testing, testing, sounds
[INDISTINCT]. All right. Yes. So we're using

00:39:11.619 --> 00:39:16.930
that and also SSL should be working from your
browser and the Wave in a Box server. But

00:39:16.930 --> 00:39:21.830
again--and that's what--why they use the HDVS
in googglewave.com but that's still not working

00:39:21.830 --> 00:39:27.630
in the federating server. Okay, so that's
all--that's all set up. So let's set-up XMPP.

00:39:27.630 --> 00:39:30.650
So there's a bunch of different XMPP servers.
I'm going to show you setting it up in Prosody

00:39:30.650 --> 00:39:35.050
because we've already got--because that definitely
works. So, I've installed Prosody and it's

00:39:35.050 --> 00:39:39.890
running already at the moment just from having
been in that upkit line. So I'm going to have

00:39:39.890 --> 00:39:44.770
to edit the config file for that. So I'm going
to kill the server and I'm going to type in--I

00:39:44.770 --> 00:39:53.311
didn't type that, you know. I'm going to go
sudo, so, do as the writ user, actually. I'm

00:39:53.311 --> 00:40:04.750
just going to become the writ user. So, sudo--I
mean, become the writ user. Again, my favorite

00:40:04.750 --> 00:40:23.410
vim/etc/prosody.cfg/lua. Let's just copy and
paste that into the Wave release. So this

00:40:23.410 --> 00:40:27.310
is the Prosody configuration file. It contains
all sort of stuff that we can just completely

00:40:27.310 --> 00:40:30.700
ignore. So the first thing I'm going to do
is, well, I'm going to copy and paste all

00:40:30.700 --> 00:40:36.220
this stuff. Componet_ports means which port
does the Wave in a Box server communicate

00:40:36.220 --> 00:40:40.859
on to the proxy server and I paste that up
here.

00:40:40.859 --> 00:40:46.700
&gt;&gt; [INDISTINCT]
&gt;&gt; GENTLE: Oh, CSR, sure. Yeah, yeah, there

00:40:46.700 --> 00:40:53.859
you go. Sorry about that. So it's on that
port. I'm going to disable TLS in Prosody

00:40:53.859 --> 00:41:00.230
because if you don't then it doesn't federate,
at least with wavesandbox. So, you can disable

00:41:00.230 --> 00:41:04.200
things by coming it out with just the dash-dash
thing that you see in all of the comments

00:41:04.200 --> 00:41:09.700
above. So then, I'm going to do these things.
I'm just going to copy and paste these lines.

00:41:09.700 --> 00:41:23.270
So this says that there is a new--oh, I'll
just write on the bottom. Oops. Let's paste

00:41:23.270 --> 00:41:29.510
it here. So this says there's a new component
called wave.wavebang.com, which is going to

00:41:29.510 --> 00:41:35.260
connect to you. It's secret so the Prosody
server here, the Java server and your server

00:41:35.260 --> 00:41:40.260
need to have a shared password that only those
two know. And my password is going to be,

00:41:40.260 --> 00:41:44.190
"Internet." And you have to just pick some
password and copy and paste it both in the

00:41:44.190 --> 00:41:48.071
configuration for the Java server and in the
wavebang server configuration file. Finally,

00:41:48.071 --> 00:41:53.980
wavebang.com as a domain, it's enabled so
if you're going to be serving wavebang.com

00:41:53.980 --> 00:41:59.280
waves you should know. So we'll write that
and then we'll click that and then I'm going

00:41:59.280 --> 00:42:15.000
to restart Prosody. So we do that like this,
"prosody restart," and that's just going to

00:42:15.000 --> 00:42:25.089
restart the server. I didn't do that last
time. Alright, once we edited that then we

00:42:25.089 --> 00:42:34.520
can reset. Alright, so then I'm going to have
to put this password into my Java my--sorry,

00:42:34.520 --> 00:42:40.090
my Wave in a Box config file. I need to tell
it that the place for the wave where the XMPP

00:42:40.090 --> 00:42:46.510
server is the local machine and the secret
is Internet. So, stopping the writ user and

00:42:46.510 --> 00:43:08.809
search a thing, me again, so I hit control
D to do that. Let's go down to where the XMPP

00:43:08.809 --> 00:43:24.200
server secret is. It's not as an open as me
instead. Internets. And the server IP for

00:43:24.200 --> 00:43:33.070
some reason, yeah, this doesn't work. And
if we say that it's just on the local machine

00:43:33.070 --> 00:43:36.980
then it works fine. You can leave all of the
other stuff. Don't worry about it saying,

00:43:36.980 --> 00:43:42.000
XMPP_SERVER_ PING.wavesonbox.com. That's still
fine. Alright, so now if we do that then that's

00:43:42.000 --> 00:43:46.880
the XMPP file. So, SSL certificate. So we're
going to need the SSL certificate so the server

00:43:46.880 --> 00:43:52.000
can find messages. So there's a little script
that checks to see whether the certificates

00:43:52.000 --> 00:43:58.369
will setup for play which is the check certificates
script. So this is going to like tell me what's

00:43:58.369 --> 00:44:01.569
currently burking in the certificates. So
if I run this, first of all it's going to

00:44:01.569 --> 00:44:05.840
say that this random configuration option
set defaults and it's reset to true. So let's

00:44:05.840 --> 00:44:17.510
just go in and fix that. Type the true and
it's reset to false. True, true, true is coming

00:44:17.510 --> 00:44:27.280
about it later on in the Wave. And if I run
it again it's going to--there you go, it's

00:44:27.280 --> 00:44:31.010
going to say that my--all my keys don't exist.
So I'm going to need some SSL certificates.

00:44:31.010 --> 00:44:35.920
I'm going to need some SSL keys. And I get
these from the StartSSL site. So, I've already

00:44:35.920 --> 00:44:39.140
signed up and I've already clicked on that
thing so I can click the authenticate button

00:44:39.140 --> 00:44:48.780
and this is going to log me in to the StartSSL
site as these that I've created. Thank you.

00:44:48.780 --> 00:44:52.109
"Howdy, Joseph Gentle! Thanks for choosing
StartSSL." Blah, blah, blah, blah, blah. So

00:44:52.109 --> 00:44:55.430
there's two things that you need to do here.
The first one is you need to prove to the

00:44:55.430 --> 00:44:59.840
StartSSL site that you really are in the domain
that you specified. And the second one is

00:44:59.840 --> 00:45:05.020
you need to actually get a certificate. So
you need to click on these things up here

00:45:05.020 --> 00:45:11.160
in the opposite order. So the first thing
you need to do is open up the Validation Wizard

00:45:11.160 --> 00:45:16.200
to validate you in it. So I'm going to--and
I should mention as well that I'm just following

00:45:16.200 --> 00:45:21.579
along now so I'm doing this a little bit out
of order. I'm coming down to the StartSSL

00:45:21.579 --> 00:45:30.940
dance with you. So I'm going to go to Validations
Wizard domain name validation. Continue into

00:45:30.940 --> 00:45:38.980
the main name. So the main name that I want
is going to be wavebang.com and I hit continue.

00:45:38.980 --> 00:45:43.109
What this is going to do is it's going to
send me an email and the email's going to

00:45:43.109 --> 00:45:47.360
say, "Hey, here's the code," and I'm going
to copy and paste that code back into the

00:45:47.360 --> 00:45:50.170
website. So I need to pick--I need to be able
to access one of these four email addresses,

00:45:50.170 --> 00:45:56.570
but I'm going to access the webmaster@wavebang.com
address and it's going to send me an email.

00:45:56.570 --> 00:46:10.650
So if I go back to my email--here we go. Paste
this in. Validation Success. I've authenticated

00:46:10.650 --> 00:46:17.720
the main wavebang.com. So now this site will
be able to give me certificates. So finish

00:46:17.720 --> 00:46:24.170
that off and I can go to Certificates Wizard.
So now, apps the next little bit in the wave

00:46:24.170 --> 00:46:35.069
down here. So I need a Web Server SSL/TLS
Certificate. Okay. So I'm going to need a

00:46:35.069 --> 00:46:40.339
key. So I'm going to just jump back up here
to these arbitrary OpenSSL commands now and

00:46:40.339 --> 00:46:44.880
show you them. So what I'm going to need to
do is generate a secret on my server. And

00:46:44.880 --> 00:46:47.980
I'm going to use that key and then I'm going
to get the OpenSSL server to sign and say,

00:46:47.980 --> 00:46:54.400
"Yes, this really is," you know, "wavebang.com
that's," you know, "That generated this key."

00:46:54.400 --> 00:46:58.000
So I need to execute these commands. This
is slightly different from what's in the Wiki

00:46:58.000 --> 00:47:01.030
page--what's in the Wiki page, but it does
all exactly the same thing so don't fret that

00:47:01.030 --> 00:47:04.480
it looks different. So the first one says,
"Generate new key," and it's going to ask

00:47:04.480 --> 00:47:08.400
me for a password. This password doesn't matter
at all so I'm just going to start in like

00:47:08.400 --> 00:47:17.530
AAAA or something. AAAA, AAAA. And then I'm
going to copy and paste in these lines. So

00:47:17.530 --> 00:47:22.520
it's going to generate me a key called encrypted.key
and then this one is going to say, "Take the

00:47:22.520 --> 00:47:31.109
key and turn it to a slightly different format."
AAAA, okay. And this one says, "Take the key

00:47:31.109 --> 00:47:37.490
and decrypt it and produce a--" this one says,
"Take the key and produce a certificate signing

00:47:37.490 --> 00:47:47.930
request sp produce something that I can ask
StartSSL to assign." Okay. Okay, a country

00:47:47.930 --> 00:47:52.060
code, full name. So you can enter in stuff
and all this stuff. StartSSL doesn't actually

00:47:52.060 --> 00:47:57.001
check any of it but most of the distributor
registry authorities will. But really, really,

00:47:57.001 --> 00:48:02.690
really important is note that common name,
your name. The common name field must, must,

00:48:02.690 --> 00:48:09.450
must, must, must otherwise everything is going
to break and it won't work, the wave.whatever-your-domain-is.com.

00:48:09.450 --> 00:48:13.920
Actually, if you don't do any of these stuff
it won't work so I guess there's no point

00:48:13.920 --> 00:48:16.069
emphasizing any particular stuff. It's going
to be wave.whatever-your-domain-name-is, wavebang.com,

00:48:16.069 --> 00:48:17.069
and then--yes?
&gt;&gt; Actually, as soon as the cell server will

00:48:17.069 --> 00:48:27.840
write everything you type in there and ask
you--one of the last steps is it says, "You

00:48:27.840 --> 00:48:34.109
must provide a sub [INDISTINCT] wavebang.com
&gt;&gt; GENTLE: Yes.

00:48:34.109 --> 00:48:36.140
&gt;&gt; So it validated in this little box and
I said, wave.

00:48:36.140 --> 00:48:39.690
&gt;&gt; GENTLE: Yeah.
&gt;&gt; and if you don't do that it won't work

00:48:39.690 --> 00:48:42.630
&gt;&gt; GENTLE: Yeah.
&gt;&gt; And basically it gives you a sub-domain

00:48:42.630 --> 00:48:46.490
plus a start up, StartSSL certificate.
&gt;&gt; Okay. It'll put blinds.com in wave that

00:48:46.490 --> 00:48:52.569
on the certificate.
&gt;&gt; GENTLE: Yeah, yeah.

00:48:52.569 --> 00:48:53.569
&gt;&gt; It writes everything you put in so.
&gt;&gt; GENTLE: Yeah, but...

00:48:53.569 --> 00:48:55.280
&gt;&gt; But it let's you run with it.
&gt;&gt; I think [INDISTINCT] also has to say that

00:48:55.280 --> 00:49:00.500
domain as well and it, like, the wave.whatever-your-domain-is.com.
&gt;&gt; I've never tried to...

00:49:00.500 --> 00:49:05.830
&gt;&gt; GENTLE: Yeah.
&gt;&gt; ...compare to see what would happen though.

00:49:05.830 --> 00:49:12.059
I mean that is, you know, that they claim
that they take, drop everything in the certificate

00:49:12.059 --> 00:49:13.651
except...
&gt;&gt; GENTLE: Right. I think they just don't

00:49:13.651 --> 00:49:17.710
check it. Anyway, yeah, cool. Yeah. You guys
can't see much of the files, but the important

00:49:17.710 --> 00:49:18.710
file here is this request.csr file which is
generated, yeah. And thanks for that, by the

00:49:18.710 --> 00:49:19.710
way. Yeah, it's good. So the request.csr file
is to request that we're going to generate

00:49:19.710 --> 00:49:23.500
and get the StartSSL signed. SSl.key is the
actual key. And I can actually do these but

00:49:23.500 --> 00:49:34.690
they're not going to be that meaningful. That's
the key. And this is the request. So the request

00:49:34.690 --> 00:49:39.040
is this long. So what I'm going to do is go
to--go back to the StartSSL site. So it's

00:49:39.040 --> 00:49:41.859
going to--it can generate me a private key,
but I'm not going to. I'm just going to skip

00:49:41.859 --> 00:49:47.000
that step because I've already generated my
own. And I get to copy and paste my CSR file

00:49:47.000 --> 00:49:56.111
in there. So I'm going to take this, and including
the bits in the top and bottom. Go and paste

00:49:56.111 --> 00:50:00.039
it in there and hit continue. And it's going
to--yeah, it's going to ignore all the fields

00:50:00.039 --> 00:50:04.450
except for the--I think--I'm pretty sure it
does check the common name field, and says

00:50:04.450 --> 00:50:09.460
it received it. Continue. So the Wave.bang
domain is the one that I'm going to be adding

00:50:09.460 --> 00:50:13.660
and using. And in here, I have to type in
wave.wavebang.com as well. So this is the

00:50:13.660 --> 00:50:18.290
domain that, you know, that it's going to
sign me for. And so, whenever--all my deltas

00:50:18.290 --> 00:50:23.660
are going to be signed for wave.wavebang.com,
which is what it--they have to be; wave.whateveryournameis.com.

00:50:23.660 --> 00:50:26.921
So, this is going to throw me up an hour,
because I've already this before yesterday.

00:50:26.921 --> 00:50:32.609
But for you guys, it's going to say, "Thanks,
here's another textbox that you can copy out--copy

00:50:32.609 --> 00:50:38.599
and paste out." And what you do is you copy
and paste that file back out into a file sitting

00:50:38.599 --> 00:50:46.230
on your server, and the way that you do that
is you go cut to--let me check my notes. You

00:50:46.230 --> 00:50:56.650
go cut to startssl.cot and then you copy and
paste all of the junk that it gives you, and

00:50:56.650 --> 00:51:01.599
then you hit control D or B and that means
I'm done. And so, that's going to generate

00:51:01.599 --> 00:51:08.230
me the studio file. But because I did it myself
before, I'm going to have to copy the files

00:51:08.230 --> 00:51:30.100
over from my computer. So, if only I had some
stand to hold this microphone in. So, this

00:51:30.100 --> 00:51:36.220
is going to copy in my files to wavebang.com,
and maybe it'll work. Hey, the domain is working,

00:51:36.220 --> 00:51:43.020
I think. Yeah, okay, so it's copied some keys
that I'd--here are some. I forgot I copied

00:51:43.020 --> 00:51:49.059
some keys in, and I'm just going to copy those
keys into this directory. Okay, so those are

00:51:49.059 --> 00:51:58.470
the keys I made, but for you, you want to
create your own key files and you need to

00:51:58.470 --> 00:52:03.340
create the key files you start the first time.
So the .CIT file is the certificate itself.

00:52:03.340 --> 00:52:07.170
And once I've done that, I'd need to do one
final step which is to tell the configuration

00:52:07.170 --> 00:52:13.500
stuff that that's where the keys are. And
that--and I also need to get this. So the

00:52:13.500 --> 00:52:18.819
key is signed by another key which you need
to have for it at all to work. So I'm going

00:52:18.819 --> 00:52:22.309
to type in that command which is going to
download a little file from status SSL website,

00:52:22.309 --> 00:52:29.160
which is another key. I can type in this which
says, "Please verify the key that I have with

00:52:29.160 --> 00:52:34.640
that other studio file will work." And it
says, "Yup, it's all signed and everything

00:52:34.640 --> 00:52:44.790
is hunky-dory." I don't think I've ever used
the word hunky dory before.

00:52:44.790 --> 00:52:52.970
&gt;&gt; Actually, it's very good in troubleshooting?
&gt;&gt; GENTLE: All right. Okay, so my private

00:52:52.970 --> 00:52:56.800
key file, this I called ssl.key and my certificate
filename list has to be--and even though it

00:52:56.800 --> 00:52:59.619
looks like you only put one thing here, you
actually have to put in both the certificate

00:52:59.619 --> 00:53:03.680
file and that other little file we just downloaded.
So, SSL.cot and that other file, we'll just

00:53:03.680 --> 00:53:12.160
go with that. Okay. And now if I run check
certificates, it should say "Success." All

00:53:12.160 --> 00:53:15.970
certificates are good. Are there any questions
with that whole SSL bit? I know everyone seems

00:53:15.970 --> 00:53:22.369
kind of asleep and tired and bored and it
is a very boring dry process and I apologize

00:53:22.369 --> 00:53:26.110
for that. Unfortunately, it's important for
crypto stuff, which is important for security.

00:53:26.110 --> 00:53:30.530
If they run happy or, at least, you know,
ambivalent about the whole next, next, next

00:53:30.530 --> 00:53:36.150
game. Cool. Yeah. Yeah.
&gt;&gt; Will you start using [INDISTINCT]...

00:53:36.150 --> 00:53:37.150
&gt;&gt; GENTLE: Yes.
&gt;&gt; [INDISTINCT]?

00:53:37.150 --> 00:53:40.509
&gt;&gt; GENTLE: It's on Ustream and also it's also
being recorded as far as I know.

00:53:40.509 --> 00:53:45.680
&gt;&gt; Yeah, so, we'll--we'll be publishing on
YouTube versions of the videos that are higher

00:53:45.680 --> 00:53:50.829
quality and the user [INDISTINCT].
&gt;&gt; And you can--you can attach that to the

00:53:50.829 --> 00:53:53.990
Wave.
&gt;&gt; Yeah, it'll probably take me couple of

00:53:53.990 --> 00:53:58.390
days to get them online to YouTube afterwards.
So, right now, I'm just posting the two files

00:53:58.390 --> 00:53:59.390
[INDISTINCT] and stuff, but we're recording
everything.

00:53:59.390 --> 00:54:00.390
&gt;&gt; Great.
&gt;&gt; GENTLE: Yes, so question was are all these

00:54:00.390 --> 00:54:01.390
videos being recorded so that you can just
watch all this stuff later when you're actually

00:54:01.390 --> 00:54:05.160
doing it and the answer is yes. We'll put
up high quality videos, which are being recorded

00:54:05.160 --> 00:54:09.680
by the--that little camera over there for
you guys to watch and click, you know, and

00:54:09.680 --> 00:54:15.460
watch and then hit pause every time I do anything.
Okay. So now, that certificate is setting

00:54:15.460 --> 00:54:21.140
up--set up, so I should be able to run my
server. And I also should also--that would've

00:54:21.140 --> 00:54:33.590
been really bad. Enable Federation equals
true, so this should turn that on. "/run server.sh."

00:54:33.590 --> 00:54:39.609
I think it works the first time in the demo.
So, now the server is running again and Federation

00:54:39.609 --> 00:54:47.839
should be enabled on it. So if I go back to
wavebang.com, those Waves don't exist anymore

00:54:47.839 --> 00:54:59.270
around because we aren't storing any Waves
yet. Sign in as me and I'm going to log in

00:54:59.270 --> 00:55:24.670
to acmewave.com. Okay, let's back it up on
some other Waves. Cool. Let's see if this

00:55:24.670 --> 00:55:28.789
works. So, I'm going to create a new Wave.
In my server, it's going to say its sending

00:55:28.789 --> 00:55:36.330
discovery requests back in Wave.com. And this
is the stressful moment where it's probably

00:55:36.330 --> 00:55:42.630
going to break. And it's doing something.
And it might be a good thing. I don't think

00:55:42.630 --> 00:55:48.089
it is. No, it doesn't look like it's working.
I suspect when I go in here. No, it's not

00:55:48.089 --> 00:55:54.819
working. Right. It's not connecting to acmewave.com.
I'm going to try wavesandbox.com because that

00:55:54.819 --> 00:56:18.380
might work. No, I don't know what these errors
mean. All right, so this is not going to work.

00:56:18.380 --> 00:56:23.301
I suspect I've forgotten some little step.
Yes, it's not working. All right. So, if it

00:56:23.301 --> 00:56:26.810
doesn't work, in the likely event that it
doesn't work, here are some things that you

00:56:26.810 --> 00:56:30.571
can do, because I was mucking around with
this a while. So, first of all, I want to

00:56:30.571 --> 00:56:34.029
check to make sure that my Wave server is
actually talking to my local JavaServer, my

00:56:34.029 --> 00:56:39.451
local XMPP server. So I'm going to become
the root user again and there's some log files

00:56:39.451 --> 00:56:49.530
that the XMPP server generates. So, if I look
at "/var/log/prosody/prosody.log," then it's

00:56:49.530 --> 00:56:54.319
going to say that I started up and then it
should say something saying I connected to

00:56:54.319 --> 00:56:57.400
the Wave server that you've just configured,
but it's not. So this is--this is where the

00:56:57.400 --> 00:57:00.199
problem is. My Wave server isn't talking to
the JavaServer.

00:57:00.199 --> 00:57:04.910
&gt;&gt; It's almost like they're tying not to [INDISTINCT]?
&gt;&gt; GENTLE: Yes, it looks like it didn't start

00:57:04.910 --> 00:57:09.099
up again. It's not even in the log in information.
&gt;&gt; [INDISTINCT] we've just the program process

00:57:09.099 --> 00:57:10.650
[INDISTINCT]?
&gt;&gt; Try stop and [INDISTINCT].

00:57:10.650 --> 00:57:13.150
&gt;&gt; GENTLE: Try what? Sorry? Stop and start?
&gt;&gt; Stop.

00:57:13.150 --> 00:57:16.589
&gt;&gt; GENTLE: I'm still not getting anything.
I don't know whether it's a...

00:57:16.589 --> 00:57:45.539
&gt;&gt; First, how do you use this?
&gt;&gt; GENTLE: Does it--will it automatically

00:57:45.539 --> 00:58:04.930
figure out which configuration files? Error,
Andrew Robinson.

00:58:04.930 --> 00:58:16.960
&gt;&gt; [INDISTINCT].
&gt;&gt; GENTLE: Sorry, I'm going to let my user

00:58:16.960 --> 00:58:18.000
be able to read the first [INDISTINCT] file.
Sorry? It's [INDISTINCT]. Yes, yes. Absolutely,

00:58:18.000 --> 00:58:43.470
thank you. Information job, actually, it's
config file. All right, so this is the demo

00:58:43.470 --> 00:58:48.279
I got. It should work for you though.
&gt;&gt; Just--you mentioned several server.

00:58:48.279 --> 00:58:55.380
&gt;&gt; No x plus s.
&gt;&gt; GENTLE: Oh, yes, thank you. I should just

00:58:55.380 --> 00:59:10.640
be able to go ahead and do that...
&gt;&gt; Should be [INDISTINCT].

00:59:10.640 --> 00:59:22.170
&gt;&gt; GENTLE: All right. So your data file is
through var/lib/prosody. So I might not actually

00:59:22.170 --> 00:59:32.390
get logging now because I might not have permission
to write to the load files as well. Maybe

00:59:32.390 --> 01:00:09.369
this will work or maybe it won't. Okay. Well,
it looks like Prosody is not working for me

01:00:09.369 --> 01:00:16.110
today, so that's sad. I will try it for one
more brief moment and failing that, I will

01:00:16.110 --> 01:00:20.369
give up. But that should work for you guys.
So we've got a session this afternoon where

01:00:20.369 --> 01:00:24.020
we'llÃ³well, we've got a session after everything
this afternoon, so if you want to get your

01:00:24.020 --> 01:00:28.000
server working or if your server doesn't work,
then you can come to either me. Soren is also

01:00:28.000 --> 01:00:33.059
a master of all of this stuff and you can
ask us about how to make Federation work properly.

01:00:33.059 --> 01:00:35.760
It was working yesterday and it was working
this morning as well with my old configuration

01:00:35.760 --> 01:00:39.560
file. Actually, I'm going to try one last
thing and maybe this will work and maybe it

01:00:39.560 --> 01:00:47.090
won't. And if it doesn't, either way we'll
go for lunch afterwards. So I think this configuration

01:00:47.090 --> 01:01:01.800
file might be bad or I might have done something
wrong.

01:01:01.800 --> 01:01:20.309
&gt;&gt; Soren, was it you who put the [INDISTINCT]
active lib configure on the [INDISTINCT]?

01:01:20.309 --> 01:01:45.089
&gt;&gt; GENTLE: Yes.
&gt;&gt; That's a very good configuration, so you

01:01:45.089 --> 01:01:51.710
might want to be able to grab that, and just
spin it, if you will, a moment.

01:01:51.710 --> 01:01:52.710
&gt;&gt; GENTLE: Yes.
&gt;&gt; [INDISTINCT].

01:01:52.710 --> 01:01:53.710
&gt;&gt; GENTLE: So here's a Prosody configuration
file I prepared earlier and let's give that

01:01:53.710 --> 01:01:54.710
a try. That's better. That's much better.
It usually doesn't bring out everything if

01:01:54.710 --> 01:01:55.710
you're lacking information. I might have done
something wrong. I'll share it with you guys

01:01:55.710 --> 01:01:57.650
these good configuration files that I've made
and--as well and you can use them to base

01:01:57.650 --> 01:02:03.839
off your configuration files if you want to.
So is Prosody running now? Yes, it is. If

01:02:03.839 --> 01:02:10.150
I "cut /var/log/prosody/prosody.log." Hello,
and welcome to Prosody. Cool. We might be

01:02:10.150 --> 01:02:20.510
working now. Run server. So I'm also going
to run this in the screen session. So in the

01:02:20.510 --> 01:02:24.130
unlikely event that it works, then I can disconnect
from this--I can just close this terminal

01:02:24.130 --> 01:02:31.200
and it will keep on running after. So this
is Wave in a Box starting up and in another

01:02:31.200 --> 01:02:39.230
console, I'm going to say "cut/var/log/prosody/prosody.log"
and it says...

01:02:39.230 --> 01:02:46.661
&gt;&gt; Server disconnected.
&gt;&gt; GENTLE: Server disconnected. It got--it

01:02:46.661 --> 01:02:50.930
successfully daemonized. You've got a Java
connection and Wave.wavebang.com authentication

01:02:50.930 --> 01:02:53.289
failed.
&gt;&gt; Your sequence is probably wrong.

01:02:53.289 --> 01:02:59.960
&gt;&gt; GENTLE: My sequence probably wrong in that
configuration file; absolutely right. I'm

01:02:59.960 --> 01:03:07.859
sorry for keeping you guys. So, this is the
state of setting up Wave in a Box and getting

01:03:07.859 --> 01:03:12.160
Federation working at the moment. So we hope
to, like, do a whole bunch of stuff to make

01:03:12.160 --> 01:03:27.200
this much, much nicer soon.
&gt;&gt; If anybody wants to write a script that

01:03:27.200 --> 01:03:49.640
will run on the stuff that'll allow us to
just run through these things, it would be

01:03:49.640 --> 01:03:50.680
great.
&gt;&gt; Yes. Come on. Come on. Component authentication

01:03:50.680 --> 01:04:08.430
successful. All right, I'm going to try--come
on, come on. So, there you go. All right.

01:04:08.430 --> 01:04:23.400
So, sign-in as me. Let's create a new Wave.
Oops, that was me. In our logs, we see--it's

01:04:23.400 --> 01:04:31.680
got your request is--it's something, no. Maybe.
Sometimes it takes a little while before it

01:04:31.680 --> 01:04:35.950
pops up anyway. But it looks like it's not
talking to acmewave.com, which is sad. Anyway,

01:04:35.950 --> 01:04:40.560
we're very close and it's probably only a
small change, and I can show you guys later

01:04:40.560 --> 01:04:45.869
when I fix that. But that's setting up Wave
in a Box. So hands up everyone who's going

01:04:45.869 --> 01:04:47.039
to get it working or has it working on their
laptops. Yes.

01:04:47.039 --> 01:04:49.250
&gt;&gt; Joint.
&gt;&gt; GENTLE: Hands up, people who got it working

01:04:49.250 --> 01:04:50.680
on their laptop already.
&gt;&gt; Have what?

01:04:50.680 --> 01:04:54.619
&gt;&gt; GENTLE: Have Wave in a Box working?
&gt;&gt; No Federation.

01:04:54.619 --> 01:04:59.269
&gt;&gt; GENTLE: No Federation, just the server?
Cool. That's a whole lot of people. So the

01:04:59.269 --> 01:05:02.420
people who have your hands down--keep your
hands up, okay. The people that have your

01:05:02.420 --> 01:05:06.000
hands down, look around the room. All of these
people can help you set it up if you need

01:05:06.000 --> 01:05:11.339
to. Talk to James and talk to Anthony Watkins
if you want it set up on Windows. I don't

01:05:11.339 --> 01:05:16.970
have Windows here. So even if I--even if I
could help you a lot, I can't show you things.

01:05:16.970 --> 01:05:26.760
But yes, so these--all these people can help
you get it all set up and working, which is

01:05:26.760 --> 01:05:27.760
great.
&gt;&gt; [INDISTINCT] turn around.

01:05:27.760 --> 01:05:30.319
&gt;&gt; I want to have [INDISTINCT].
&gt;&gt; That's acmewave.com in case you're wondering.

01:05:30.319 --> 01:05:42.329
I'm sorry to get your hopes up. Yes, I can
try it again with Wave Sandbox. This is a

01:05:42.329 --> 01:05:54.400
long shot now. No, it's not. Not happy. Error
code undefined condition. So, yes, so we want

01:05:54.400 --> 01:05:57.860
to make this all a lot easier and make this
lot better and if you guys get Federation

01:05:57.860 --> 01:06:00.260
working, then show and send us your config
files. Help us out. This would be great and

01:06:00.260 --> 01:06:06.119
we can make the server look better. It's still
very much early stages so, yes, get involved.

01:06:06.119 --> 01:06:12.430
But that's me done. I think there's lunch
at the back of the room and I'm going to ahead

01:06:12.430 --> 01:06:15.040
and get one.
&gt;&gt; Yes. Thank you, sir.

