WEBVTT
Kind: captions
Language: en

00:00:01.684 --> 00:00:02.530
RAY CROMWELL: Hi.

00:00:02.530 --> 00:00:06.380
My name is Ray Cromwell, and
this is Daniel Kurka, and we

00:00:06.380 --> 00:00:09.650
are engineers at Google who work
on ZWT, and this is GMT

00:00:09.650 --> 00:00:11.820
Roadmap for the Future.

00:00:11.820 --> 00:00:15.202
Now, if you were here last year
at Google I/O, there was

00:00:15.202 --> 00:00:18.840
a session called "The History
and Future of GWT" where we

00:00:18.840 --> 00:00:23.140
talked about creating this new
GWT steering committee that

00:00:23.140 --> 00:00:25.680
was going to be in combination
with Google, as well some of

00:00:25.680 --> 00:00:28.370
the top heavy hitters in
the GWT community--

00:00:28.370 --> 00:00:32.009
people like Sencha, people like
Vaddin, like Red Hat--

00:00:32.009 --> 00:00:36.360
to help define the roadmap for
GWT in the future in a way

00:00:36.360 --> 00:00:39.020
that takes the community's needs
into account and not

00:00:39.020 --> 00:00:42.600
just Google's internal needs,
which has been driving GWT

00:00:42.600 --> 00:00:44.870
over the last couple of years.

00:00:44.870 --> 00:00:49.390
And so what I'd like to do is
talk about what's happened

00:00:49.390 --> 00:00:51.980
since last year when
we announced that.

00:00:51.980 --> 00:00:54.500
So the steering committee has
met several times, and we've

00:00:54.500 --> 00:00:58.400
had a lot of discussions, and
we've implemented some changes

00:00:58.400 --> 00:00:59.990
to the project based on
those discussions.

00:00:59.990 --> 00:01:03.230
So the first thing is we have
moved the GWT source code to a

00:01:03.230 --> 00:01:06.550
Git repository now hosted
on gwt.googlesource.com.

00:01:06.550 --> 00:01:12.540
Secondly, we've migrated to a
totally new code review system

00:01:12.540 --> 00:01:14.980
called Gerrit, which is much
nicer than the old system we

00:01:14.980 --> 00:01:18.360
used, and it's much more of a
pleasure to use in my opinion.

00:01:18.360 --> 00:01:22.230
Third, if you like the GitHub
interface or you really like

00:01:22.230 --> 00:01:24.750
working on code on GitHub,
we actually mirror

00:01:24.750 --> 00:01:25.900
GWT to GitHub now.

00:01:25.900 --> 00:01:28.240
So you can go to
GitHub.com/gwtproject and

00:01:28.240 --> 00:01:30.960
track the project there.

00:01:30.960 --> 00:01:33.980
Fourth, Red Hat has graciously
allowed to donate some

00:01:33.980 --> 00:01:38.950
resources from their OpenShift
cloud to basically do

00:01:38.950 --> 00:01:40.760
continuous integration
builds of GWT.

00:01:40.760 --> 00:01:43.590
So every time there's a commit,
we'll do a build, run

00:01:43.590 --> 00:01:44.790
tests, and we'll push
out nightly

00:01:44.790 --> 00:01:47.160
snapshots very, very soon.

00:01:47.160 --> 00:01:51.510
Finally, there's a totally new
home for the GWT project,

00:01:51.510 --> 00:01:55.420
which Daniel's going to talk
about a little bit later.

00:01:55.420 --> 00:01:57.250
So there's been some steering
committee updates as well.

00:01:57.250 --> 00:01:59.250
So I announced last year
the members of

00:01:59.250 --> 00:02:00.366
the steering committee.

00:02:00.366 --> 00:02:02.880
I'm not going to go over the
complete list, but we've added

00:02:02.880 --> 00:02:06.410
JetBrains, makers of IntelliJ
IDEA, which in my opinion is

00:02:06.410 --> 00:02:07.900
the most awesome IDE there is.

00:02:07.900 --> 00:02:11.430
They also make the new Android
IDE for Google.

00:02:11.430 --> 00:02:13.070
So they are now a member of
the steering committee, so

00:02:13.070 --> 00:02:16.220
hopefully that means really good
things in terms of GWT

00:02:16.220 --> 00:02:18.800
support within IntelliJ IDEA,
which already actually is

00:02:18.800 --> 00:02:20.620
pretty good.

00:02:20.620 --> 00:02:23.890
The steering committee also met
and approved a roadmap,

00:02:23.890 --> 00:02:27.580
which I'm going to talk about
today for GWT 2.6 and beyond.

00:02:27.580 --> 00:02:29.700
And third, there's been a
start of what we call

00:02:29.700 --> 00:02:30.700
decentralization.

00:02:30.700 --> 00:02:33.940
What this means basically is
some of the pieces of this

00:02:33.940 --> 00:02:37.930
roadmap which external people
have proposed now have

00:02:37.930 --> 00:02:40.020
external leaders.

00:02:40.020 --> 00:02:41.750
These are people who are going
to take responsibility for

00:02:41.750 --> 00:02:44.100
those pieces and are going
to drive them.

00:02:44.100 --> 00:02:47.870
For example, Vaadin is going to
drive IE 10, Windows Phone,

00:02:47.870 --> 00:02:49.670
Microsoft Surface support.

00:02:49.670 --> 00:02:53.240
Thomas Broyer is fully
mavenizing GWT into modules,

00:02:53.240 --> 00:02:58.140
and he's taking over
RequestFactory support.

00:02:58.140 --> 00:03:00.020
We also released a new
version of GWT since

00:03:00.020 --> 00:03:02.010
last year, GWT 2.5.1.

00:03:02.010 --> 00:03:04.090
Mostly bug fixes.

00:03:04.090 --> 00:03:05.610
There were a couple
of improvements.

00:03:05.610 --> 00:03:09.820
One, for example, is the Direct
Install Linker now

00:03:09.820 --> 00:03:12.320
supports content security
policy, so you can build GWT

00:03:12.320 --> 00:03:16.060
apps that install as Chrome
apps and extensions.

00:03:16.060 --> 00:03:17.960
There's a couple of other things
that we've improved,

00:03:17.960 --> 00:03:23.770
but you can see the full
set of changes online.

00:03:23.770 --> 00:03:24.840
Let's talk about the future.

00:03:24.840 --> 00:03:26.130
I think that's what
most people in

00:03:26.130 --> 00:03:26.930
the room are curious.

00:03:26.930 --> 00:03:27.870
They're worried about GWT.

00:03:27.870 --> 00:03:30.920
They're wondering, is
it getting stale?

00:03:30.920 --> 00:03:34.680
How is it going to evolve
in the future?

00:03:34.680 --> 00:03:36.610
So the steering committee
met several times.

00:03:36.610 --> 00:03:39.490
Just recently, we had our own
summit two days before I/O

00:03:39.490 --> 00:03:41.100
where we got together
over two days,

00:03:41.100 --> 00:03:42.850
huddled down in a bunker.

00:03:42.850 --> 00:03:45.760
We discussed what we're going
to do going forward.

00:03:45.760 --> 00:03:48.330
First, we defined the set of
core principles and areas of

00:03:48.330 --> 00:03:51.840
focus that we believe that GWT
should address going forward

00:03:51.840 --> 00:03:54.710
into the future, and we've
agreed to them by consensus.

00:03:54.710 --> 00:03:57.010
Those are openness and
simplicity, speed,

00:03:57.010 --> 00:03:59.460
interoperability, mobility,
reliability, and

00:03:59.460 --> 00:04:00.780
embeddability.

00:04:00.780 --> 00:04:02.870
First, let's talk about openness
and simplicity.

00:04:02.870 --> 00:04:04.420
What does that mean?

00:04:04.420 --> 00:04:06.485
I talked about this at I/O last
year, but basically, when

00:04:06.485 --> 00:04:09.580
we complete the move to open
source, it'll make it easier

00:04:09.580 --> 00:04:12.150
for everyone to join in and
contribute going forward.

00:04:12.150 --> 00:04:14.380
GWT steering committee members
are now allowed as direct

00:04:14.380 --> 00:04:14.890
committers.

00:04:14.890 --> 00:04:17.269
This is the first time
in several years.

00:04:17.269 --> 00:04:20.240
That means someone can actually
make a patch and just

00:04:20.240 --> 00:04:23.640
commit directly to the
source trunk of GWT.

00:04:23.640 --> 00:04:25.860
We have a public continuous
integration server.

00:04:25.860 --> 00:04:27.350
So very soon, this
will be pushed

00:04:27.350 --> 00:04:28.370
out in nightly snapshots.

00:04:28.370 --> 00:04:30.350
So if you don't want to wait
for GWT 2.6, you can just

00:04:30.350 --> 00:04:32.605
depend on that in your Maven
dependency file and just pick

00:04:32.605 --> 00:04:35.320
it up nightly.

00:04:35.320 --> 00:04:37.700
Speaking of that, we're going
to fully mavenize GWT.

00:04:37.700 --> 00:04:41.180
So you don't just have to pick
up the whole GWT.user SDK.

00:04:41.180 --> 00:04:44.660
Maybe you only want to use GWT
Core, GWT [? ITNN ?], and some

00:04:44.660 --> 00:04:46.560
GWT widgets, but you don't want
RequestFactory, Factory,

00:04:46.560 --> 00:04:48.560
or you don't want GWT RPC.

00:04:48.560 --> 00:04:51.490
So by breaking GWT up into
smaller pieces, you can

00:04:51.490 --> 00:04:54.290
actually speed up your compiles
and also prune your

00:04:54.290 --> 00:04:55.200
dependency tree.

00:04:55.200 --> 00:04:57.980
I think that's going to be more
exciting going forward

00:04:57.980 --> 00:05:01.670
because it should enable
iterating faster.

00:05:01.670 --> 00:05:02.960
And we're going to have regular
public steering

00:05:02.960 --> 00:05:06.220
committee meetings, and some
of those actually will

00:05:06.220 --> 00:05:08.050
probably be done with Hangouts
on Air so you will actually be

00:05:08.050 --> 00:05:10.750
able to join and watch the
debate as it happens.

00:05:10.750 --> 00:05:12.360
Simplicity.

00:05:12.360 --> 00:05:14.670
The GWT SDK is basically
monolithic, and that means

00:05:14.670 --> 00:05:17.330
that there's a lot of
interdependencies that makes

00:05:17.330 --> 00:05:20.060
it hard to modularize it,
and so we're working on

00:05:20.060 --> 00:05:22.610
disentangling those
interdependencies and breaking

00:05:22.610 --> 00:05:26.280
them up into smaller pieces,
making everything simpler.

00:05:26.280 --> 00:05:28.620
We're going to try to reduce
the need for GWT.XML files.

00:05:28.620 --> 00:05:31.740
So if you're not really using
deferred bindings, and you're

00:05:31.740 --> 00:05:35.370
just using it for declaring
inherit clauses, maybe we can

00:05:35.370 --> 00:05:36.800
have something that's simpler.

00:05:36.800 --> 00:05:38.600
And we're going to delete a lot
of deprecated code that's

00:05:38.600 --> 00:05:42.210
sitting in there, that's been
there since GWT 1.1, 1.2,

00:05:42.210 --> 00:05:45.120
stuff like Safari 2 and
3 browser support.

00:05:45.120 --> 00:05:48.030
Anybody still care
about Safari 2?

00:05:48.030 --> 00:05:49.840
There's a lot of stuff in there
that's cruft that we

00:05:49.840 --> 00:05:52.450
need basically, to move forward,
we need to go back

00:05:52.450 --> 00:05:54.360
and remove some stuff that's
holding us down, that's

00:05:54.360 --> 00:05:56.390
technical debt.

00:05:56.390 --> 00:05:56.970
Speed.

00:05:56.970 --> 00:05:59.000
So GWT has always been
about speed.

00:05:59.000 --> 00:06:02.490
We've always cared a lot about
download speed, latency, code

00:06:02.490 --> 00:06:05.190
size, execution speed.

00:06:05.190 --> 00:06:09.230
But we haven't really talked
a lot about compile speed.

00:06:09.230 --> 00:06:11.120
I know a lot of people have
complained in the past about

00:06:11.120 --> 00:06:13.000
the compiler in terms
of its speed.

00:06:13.000 --> 00:06:16.250
So minimally, we're looking at
doubling the speed of the

00:06:16.250 --> 00:06:18.950
compiler and also improving the
speed of Super Dev Mode

00:06:18.950 --> 00:06:21.160
Refresh so it becomes a lot
more viable as a real

00:06:21.160 --> 00:06:24.780
replacement for Dev Mode if
you should so choose.

00:06:24.780 --> 00:06:26.910
And we're going to continue
to improve on code size,

00:06:26.910 --> 00:06:29.260
especially as we talk about
mobile, including improving

00:06:29.260 --> 00:06:33.170
the CodeSplitter to make it a
lot simpler to use, not so

00:06:33.170 --> 00:06:35.330
much of a black art to find
the right places to insert

00:06:35.330 --> 00:06:37.720
your split points.

00:06:37.720 --> 00:06:42.480
GWT was created actually even
before V8, and so those were

00:06:42.480 --> 00:06:43.740
the Dark Ages of browsers.

00:06:43.740 --> 00:06:47.460
And so we've heard some talk
about the fact that JITs in

00:06:47.460 --> 00:06:50.240
browsers with JavaScript have
evolved so much that the

00:06:50.240 --> 00:06:52.540
compiler might be outputting
code that's suboptimal for

00:06:52.540 --> 00:06:53.790
some of the very newest
browsers.

00:06:53.790 --> 00:06:57.130
So we need to actually look at
that, figure out what we need

00:06:57.130 --> 00:06:59.770
to change to actually fully
leverage the newest browsers,

00:06:59.770 --> 00:07:01.550
especially on mobile.

00:07:01.550 --> 00:07:04.690
And just to complete the
performance and speed story,

00:07:04.690 --> 00:07:06.740
we need some better tools for
profiling and spotting

00:07:06.740 --> 00:07:09.500
performance problems
in GWT apps.

00:07:09.500 --> 00:07:11.540
Interoperability.

00:07:11.540 --> 00:07:13.840
GWT has always had an
interoperability story, which

00:07:13.840 --> 00:07:15.610
is the JavaScript native
interface.

00:07:15.610 --> 00:07:18.050
I'm sure everybody who has been
using GWT for awhile has

00:07:18.050 --> 00:07:20.230
probably written one or
two over the years.

00:07:20.230 --> 00:07:22.980
But if you want to wrap a
JavaScript library that has a

00:07:22.980 --> 00:07:24.510
few hundred methods,
you end up writing

00:07:24.510 --> 00:07:26.310
a lot of JSNI methods.

00:07:26.310 --> 00:07:30.940
It's just a lot of boilerplate
just to consume an API.

00:07:30.940 --> 00:07:32.750
And we want to make that
a lot more automatic.

00:07:32.750 --> 00:07:34.760
We think you should just be able
to drop a library in, and

00:07:34.760 --> 00:07:37.710
there should be some tool to
just automatically generate

00:07:37.710 --> 00:07:41.450
overlay types by just looking
at the JavaScript itself.

00:07:41.450 --> 00:07:43.620
That's going to entail improving
integration and

00:07:43.620 --> 00:07:46.920
support with the Closure
Compiler, which does a good

00:07:46.920 --> 00:07:51.510
job at type inferencing, as
well as accomplishing the

00:07:51.510 --> 00:07:54.250
first two items will allow
us to support hybrid apps

00:07:54.250 --> 00:07:54.660
efficiently.

00:07:54.660 --> 00:07:57.450
That means maybe you've got 80%
GWT code and you've got

00:07:57.450 --> 00:07:59.470
some web designers who want to
sprinkle in a little bit of

00:07:59.470 --> 00:08:00.710
JavaScript.

00:08:00.710 --> 00:08:03.520
It should be easy to do cross
calls between the two without

00:08:03.520 --> 00:08:04.050
a lot of effort.

00:08:04.050 --> 00:08:07.100
Likewise, maybe someone's got
a JavaScript app that's 80%

00:08:07.100 --> 00:08:09.400
JavaScript, but there's some
Java library out there they

00:08:09.400 --> 00:08:10.520
want to consume.

00:08:10.520 --> 00:08:12.415
And so the JavaScript programmer
should be able to

00:08:12.415 --> 00:08:14.540
just make a call directly to
Java code, and it should be

00:08:14.540 --> 00:08:16.960
really easy and painless
to do that.

00:08:16.960 --> 00:08:19.450
But I think the thing that
people are going to be most

00:08:19.450 --> 00:08:23.110
excited about is a commitment to
full Java 7 and 8 support.

00:08:23.110 --> 00:08:25.190
So we haven't really announced
it yet, but there's actually a

00:08:25.190 --> 00:08:28.630
patch about to land in GWT very,
very soon that fully

00:08:28.630 --> 00:08:29.820
enables Java 7.

00:08:29.820 --> 00:08:32.740
That means all the newest Java
7 language features will

00:08:32.740 --> 00:08:35.330
basically be available in GWT
including try-with-resources,

00:08:35.330 --> 00:08:39.450
multi-catch, diamond operator,
you name it.

00:08:39.450 --> 00:08:41.530
And so it's been a long time
since we upgraded the language

00:08:41.530 --> 00:08:44.240
support, and now we're finally
starting to do that.

00:08:44.240 --> 00:08:46.900
But the real thing that I think
people are waiting for

00:08:46.900 --> 00:08:48.370
is lambdas in Java 8.

00:08:48.370 --> 00:08:52.870
And so the minute that Oracle
launches Java 8 and there's a

00:08:52.870 --> 00:08:56.470
JDT library that's released that
supports parsing Java 8

00:08:56.470 --> 00:09:00.120
source code, we're going to jump
right on integrating that

00:09:00.120 --> 00:09:05.010
into GWT so you can start using
closures or lambdas for

00:09:05.010 --> 00:09:07.490
all of those event erasing
[INAUDIBLE] based APIs.

00:09:10.350 --> 00:09:11.950
Reliability.

00:09:11.950 --> 00:09:13.840
If you've been looking at the
Issue Tracker over the years,

00:09:13.840 --> 00:09:16.020
you might have noticed it's kind
of stale, doesn't seem to

00:09:16.020 --> 00:09:16.930
get much traction.

00:09:16.930 --> 00:09:20.170
You file bugs, no one pays
attention to them.

00:09:20.170 --> 00:09:23.390
I talked about this last year
at I/O, but we really

00:09:23.390 --> 00:09:24.470
apologize for that.

00:09:24.470 --> 00:09:26.890
Some of it's basically that we
have our own internal issue

00:09:26.890 --> 00:09:29.810
tracker, and as more and more
GWT Apps were created inside

00:09:29.810 --> 00:09:33.370
Google from really important
teams like AdWords or at the

00:09:33.370 --> 00:09:35.740
other GWT presentation
earlier, Wallet.

00:09:35.740 --> 00:09:38.890
They file bugs on us too, and
we tend to fix the ones that

00:09:38.890 --> 00:09:40.780
are first from the internal
Google apps, and then we look

00:09:40.780 --> 00:09:41.800
at the external repo.

00:09:41.800 --> 00:09:44.490
And it turns out external
repo got really stale.

00:09:44.490 --> 00:09:46.940
So the steering committee
members are basically going

00:09:46.940 --> 00:09:51.360
through bug by bug in the
external repository and

00:09:51.360 --> 00:09:53.270
closing issues that
are really stale--

00:09:53.270 --> 00:09:56.890
for example, Safari 2
or 3, or IE 6 bugs.

00:09:56.890 --> 00:09:59.890
And bugs that have a lot of
votes, we're actually going to

00:09:59.890 --> 00:10:03.270
start looking at fixing
them and closing them.

00:10:03.270 --> 00:10:05.560
We're also going to try to
improve GWT unit testing to

00:10:05.560 --> 00:10:06.760
make it a lot less painful.

00:10:06.760 --> 00:10:09.540
A lot of people don't bother
writing GWT test cases just

00:10:09.540 --> 00:10:13.300
because invoking them is really
slow, and they tend to

00:10:13.300 --> 00:10:18.260
be flaky sometimes, especially
in browsers like IE 6 and 7.

00:10:18.260 --> 00:10:20.430
So we're looking at improving
that experience and making

00:10:20.430 --> 00:10:24.100
round tripping unit tests with
GWT and Super Dev Mode to be a

00:10:24.100 --> 00:10:26.230
much more pleasurable experience
in the future.

00:10:26.230 --> 00:10:29.650
But really, just to confess
over the years in terms of

00:10:29.650 --> 00:10:33.240
what breaks the GWT build and
what breaks GWT apps, 99% of

00:10:33.240 --> 00:10:35.410
the time, it's IE 6 and 7.

00:10:35.410 --> 00:10:38.840
Someone commits a change to GWT,
Unit Test Suite runs, the

00:10:38.840 --> 00:10:40.920
breakage is always
in some IE 6 or 7

00:10:40.920 --> 00:10:41.790
class out there somewhere.

00:10:41.790 --> 00:10:44.860
So a big part of this
is for GWT 3.0--

00:10:44.860 --> 00:10:47.250
not next release but the
release after that--

00:10:47.250 --> 00:10:51.150
we're going to remove IE 6 and 7
support finally and bury it.

00:10:51.150 --> 00:10:52.220
It's like a vampire.

00:10:52.220 --> 00:10:54.256
It seems like you can't kill
it, but we're going to try.

00:10:54.256 --> 00:10:57.100
[APPLAUSE]

00:10:57.100 --> 00:10:59.560
RAY CROMWELL: And this will
remove a huge technical debt.

00:10:59.560 --> 00:11:01.700
For example, when Daniel talks
about mobile later, it's

00:11:01.700 --> 00:11:06.840
really hard to design an
efficient mobile widget API if

00:11:06.840 --> 00:11:09.620
you have to support IE
6 Layout Engine.

00:11:14.000 --> 00:11:14.660
Embeddability.

00:11:14.660 --> 00:11:18.940
So some people actually build
tools like Red Hat, Vaadin,

00:11:18.940 --> 00:11:21.180
Sencha, and they tend
to actually need to

00:11:21.180 --> 00:11:22.260
use pieces of GWT.

00:11:22.260 --> 00:11:24.130
Maybe you don't want to use the
whole GWT compiler, but

00:11:24.130 --> 00:11:26.040
you want to basically use the
part that can make parse some

00:11:26.040 --> 00:11:30.720
Java and hand you back an AST
of the source, and maybe you

00:11:30.720 --> 00:11:35.160
want to filter over the source
and do some transformations.

00:11:35.160 --> 00:11:36.930
Maybe you want to do static
analysis tools,

00:11:36.930 --> 00:11:39.610
look for bad code.

00:11:39.610 --> 00:11:41.790
And so we're going to start
trying to break it up a little

00:11:41.790 --> 00:11:44.040
bit and add more public APIs
so you can just pull out a

00:11:44.040 --> 00:11:46.460
piece of GWT and reuse
it or embed it in

00:11:46.460 --> 00:11:47.710
another tool chain.

00:11:50.480 --> 00:11:55.180
So now we come to mobile, which
I think is the most

00:11:55.180 --> 00:11:56.950
important part of this
presentation.

00:11:56.950 --> 00:11:59.720
Maybe it's the most exciting
thing yet.

00:11:59.720 --> 00:12:03.610
So as you may have heard over
the years, mobile has been

00:12:03.610 --> 00:12:05.270
becoming increasingly
important.

00:12:05.270 --> 00:12:06.990
It really is the most
important thing now.

00:12:06.990 --> 00:12:10.700
For some key metrics on some
applications, mobile usage has

00:12:10.700 --> 00:12:12.560
surpassed desktop usage.

00:12:12.560 --> 00:12:17.140
But GWT created in the era of
desktop apps back in 2006, and

00:12:17.140 --> 00:12:20.050
so there wasn't a lot of thought
back then given to

00:12:20.050 --> 00:12:22.570
actually designing
it to efficiently

00:12:22.570 --> 00:12:27.060
support mobile apps.

00:12:27.060 --> 00:12:28.730
It turns out, actually, it is
pretty good for building

00:12:28.730 --> 00:12:31.270
mobile apps, which it has some
core fundamentals that enable

00:12:31.270 --> 00:12:32.790
that, and Daniel's going to
talk about that later.

00:12:32.790 --> 00:12:36.120
But some of the key things we
decided for the roadmap on the

00:12:36.120 --> 00:12:38.050
steering committee is to support
modern mobile web

00:12:38.050 --> 00:12:42.700
browsers directly, to create
a set and support a set of

00:12:42.700 --> 00:12:45.720
mobile optimized widgets so you
don't have to worry about

00:12:45.720 --> 00:12:51.110
jankiness, to integrate with
application life cycle and on

00:12:51.110 --> 00:12:53.710
and offline detection on mobile
devices, and to support

00:12:53.710 --> 00:12:54.810
package app deployment.

00:12:54.810 --> 00:12:57.510
So if you want to put a GWT app
in an App Store, it should

00:12:57.510 --> 00:13:01.170
be really easy to do so.

00:13:01.170 --> 00:13:03.570
And with that, I'd like to turn
it over to Daniel Kurka,

00:13:03.570 --> 00:13:06.270
author of the excellent and
fabulous MGWT Library if

00:13:06.270 --> 00:13:09.110
you've never seen it, and newly
minted Google employee

00:13:09.110 --> 00:13:10.820
and member of the GWT team.

00:13:10.820 --> 00:13:15.250
[APPLAUSE]

00:13:15.250 --> 00:13:15.850
DANIEL KURKA: Hello, everyone.

00:13:15.850 --> 00:13:18.970
I want to talk about GWT and
mobile, and as it turns out,

00:13:18.970 --> 00:13:21.120
performance on mobile is really
important because in

00:13:21.120 --> 00:13:24.730
performance, we do have slow
CPUs, we do have slow network

00:13:24.730 --> 00:13:26.290
connections, and we're
running on battery.

00:13:26.290 --> 00:13:29.450
So even if we were getting
faster CPUs, we can't really

00:13:29.450 --> 00:13:31.150
use them because we're
just going to

00:13:31.150 --> 00:13:33.270
drain the user's battery.

00:13:33.270 --> 00:13:35.790
And GWT, as it turns out, is
in a quite unique position

00:13:35.790 --> 00:13:38.880
when it comes to performance
because the GWT compiler just

00:13:38.880 --> 00:13:42.270
doesn't know about just your
JavaScript, it knows about all

00:13:42.270 --> 00:13:43.920
your resources and
can optimize on

00:13:43.920 --> 00:13:46.870
all of them at once.

00:13:46.870 --> 00:13:49.850
If you want to get the basic
things on web performance,

00:13:49.850 --> 00:13:51.980
there's a really good talk from
Ilya Grigorik, one of our

00:13:51.980 --> 00:13:53.070
colleagues at Google.

00:13:53.070 --> 00:13:53.860
It's three hours long.

00:13:53.860 --> 00:13:56.520
It covers all the basics there,
so I encourage you to

00:13:56.520 --> 00:13:57.230
check that out.

00:13:57.230 --> 00:13:59.520
There's a link on the slides.

00:13:59.520 --> 00:14:01.110
To me, there are different
kinds of performances.

00:14:01.110 --> 00:14:04.280
There's startup performance,
there's runtime, and of

00:14:04.280 --> 00:14:06.190
course, there's resource
usage.

00:14:06.190 --> 00:14:10.030
So let's drill into
all of these.

00:14:10.030 --> 00:14:12.820
Startup on mobile, start upon
any browser drills down to you

00:14:12.820 --> 00:14:16.590
have to download your resources,
you have to parse

00:14:16.590 --> 00:14:18.900
them, and you have
to execute them.

00:14:18.900 --> 00:14:20.260
[MUSIC PLAYING]

00:14:20.260 --> 00:14:21.510
DANIEL KURKA: What's
happening?

00:14:23.672 --> 00:14:25.060
RAY CROMWELL: We're like
the Academy Awards.

00:14:27.700 --> 00:14:29.180
DANIEL KURKA: Where was I?

00:14:29.180 --> 00:14:31.240
Well, startup performance on
mobile drills down to you have

00:14:31.240 --> 00:14:33.990
to download your resources, you
have to parse them, and

00:14:33.990 --> 00:14:37.680
you have to execute them.

00:14:37.680 --> 00:14:40.810
The GWT compiler is really good
at helping you with those

00:14:40.810 --> 00:14:41.970
kinds of things.

00:14:41.970 --> 00:14:43.920
So let's take a look into
different things the GWT

00:14:43.920 --> 00:14:45.830
compiler is really good at.

00:14:45.830 --> 00:14:50.010
So if you're transferring text
resources such as HTML, CSS,

00:14:50.010 --> 00:14:53.190
or JavaScript, you should be
transferring them as gzipped.

00:14:53.190 --> 00:14:55.460
This is basically like
a free lunch.

00:14:55.460 --> 00:14:57.070
And with GWT, that's
very easy.

00:14:57.070 --> 00:14:59.120
You're just going to zip up
those compiler outputs

00:14:59.120 --> 00:15:01.960
upfront, put them in your WAR
Directory, deploy a small

00:15:01.960 --> 00:15:04.530
servlet filter over that, and
if the client supports gzip,

00:15:04.530 --> 00:15:06.940
you're going to use the
gzipped version.

00:15:06.940 --> 00:15:11.350
So you're not going to even pack
the service CPU for that.

00:15:11.350 --> 00:15:13.930
Another thing that's pretty
important in web performance

00:15:13.930 --> 00:15:16.950
is not to have blocking script
tags because as soon as a

00:15:16.950 --> 00:15:20.510
parser hits a blocking script
tag, the browser has to go

00:15:20.510 --> 00:15:24.810
fetch that script, parse
it, and execute it.

00:15:24.810 --> 00:15:26.960
And after that, it can just
continue browsing.

00:15:26.960 --> 00:15:29.590
So imagine doing that on a
really slow network connection

00:15:29.590 --> 00:15:32.210
with lots of different
script tags.

00:15:32.210 --> 00:15:34.530
But with GWT, you're just going
to have one script tag,

00:15:34.530 --> 00:15:37.740
and the GWT compiler actually
controls the [? boot step ?]

00:15:37.740 --> 00:15:41.360
process and is really
good at doing this.

00:15:41.360 --> 00:15:43.000
The other thing you need to
get right for mobile, you

00:15:43.000 --> 00:15:45.420
don't want to re-download
resources you've once

00:15:45.420 --> 00:15:46.950
downloaded before.

00:15:46.950 --> 00:15:50.640
So you need to set your HTTP
headers right for caching.

00:15:50.640 --> 00:15:52.760
And with GWT, again, that's
very straightforward.

00:15:52.760 --> 00:15:54.790
You don't need to think about
individual resources and how

00:15:54.790 --> 00:15:55.500
to cache them.

00:15:55.500 --> 00:15:57.560
You basically get two
kinds of resources.

00:15:57.560 --> 00:16:01.380
You do have a nocache.js file,
which you won't cache for

00:16:01.380 --> 00:16:06.630
long, and you do have a cache.js
or cache.html file,

00:16:06.630 --> 00:16:08.130
which you can cache forever.

00:16:10.750 --> 00:16:13.160
On mobile, the user's going to
have a flaky connection, so

00:16:13.160 --> 00:16:14.850
sometimes, they're going
to be offline.

00:16:14.850 --> 00:16:17.620
So you need to be looking to
actually using app cache for

00:16:17.620 --> 00:16:20.050
solving that so this application
still works even

00:16:20.050 --> 00:16:22.720
if a user doesn't have
connectivity.

00:16:22.720 --> 00:16:25.090
People are actually writing
articles on how hard it is to

00:16:25.090 --> 00:16:27.280
use App Cache and to deploy
that properly.

00:16:27.280 --> 00:16:29.970
But again, with GWT, because the
compiler knows all about

00:16:29.970 --> 00:16:33.320
your resources, it can just help
you write that manifest

00:16:33.320 --> 00:16:33.870
file for you.

00:16:33.870 --> 00:16:36.330
Just going to use a custom
linker and get that manifest

00:16:36.330 --> 00:16:42.340
file ready, so there's just one
line in your GWT XML file.

00:16:42.340 --> 00:16:44.550
Then again, the GWT compiler
is really good

00:16:44.550 --> 00:16:46.010
at minifying resources.

00:16:46.010 --> 00:16:49.230
We all know it's really good at
JavaScript, but what's not

00:16:49.230 --> 00:16:51.300
so well known, it's
really good at CSS

00:16:51.300 --> 00:16:52.880
and images as well.

00:16:52.880 --> 00:16:56.190
So if you have a big library
like MGWT with lots of

00:16:56.190 --> 00:16:59.130
different widgets, but you're
only using 20% of those

00:16:59.130 --> 00:17:03.350
widgets, the compiler removes
all the other JavaScript but

00:17:03.350 --> 00:17:05.119
the CSS as well.

00:17:05.119 --> 00:17:07.030
This also applies to images.

00:17:07.030 --> 00:17:09.420
Let's say you have a button with
a small image on there.

00:17:09.420 --> 00:17:12.079
It also removes that image if
you're not using the button,

00:17:12.079 --> 00:17:13.740
so that's pretty important
as well.

00:17:13.740 --> 00:17:16.430
And the GWT compiler has been
doing that since 2007,

00:17:16.430 --> 00:17:17.950
basically, inlining
and spriting.

00:17:20.579 --> 00:17:23.400
This actually solves the amount
of HTTP requests you

00:17:23.400 --> 00:17:24.450
have to do back to the server.

00:17:24.450 --> 00:17:26.240
If you're spriting images,
you're just going to do one

00:17:26.240 --> 00:17:27.050
HTTP request.

00:17:27.050 --> 00:17:30.530
If you're inlining them, you
don't do any HTTP requests

00:17:30.530 --> 00:17:32.880
whatsoever.

00:17:32.880 --> 00:17:34.690
Many of you are probably
writing really big GWT

00:17:34.690 --> 00:17:35.990
applications.

00:17:35.990 --> 00:17:38.340
And for mobile, this is kind of
a problem because you don't

00:17:38.340 --> 00:17:40.910
want to ship a megabyte of
JavaScript to a mobile device

00:17:40.910 --> 00:17:42.780
and wait for the slow network
connection to actually

00:17:42.780 --> 00:17:44.210
download that.

00:17:44.210 --> 00:17:46.990
So within GWT, we do have a
notion of actually shipping a

00:17:46.990 --> 00:17:50.100
small part of the application
first while the rest is

00:17:50.100 --> 00:17:51.700
downloading in the background.

00:17:51.700 --> 00:17:53.730
We call that code splitting.

00:17:53.730 --> 00:17:56.880
And with GWT, that's very easy
and straightforward to use.

00:17:56.880 --> 00:18:01.060
You just do a GWT.runAsync
call, and the compiler

00:18:01.060 --> 00:18:02.770
actually takes care
of splitting up

00:18:02.770 --> 00:18:04.020
that output for you.

00:18:06.490 --> 00:18:08.390
The other thing you want to be
doing is you want batch your

00:18:08.390 --> 00:18:09.290
data calls.

00:18:09.290 --> 00:18:11.020
So if your application boots
up, there are going to be

00:18:11.020 --> 00:18:13.000
several presenters on the
screen, and they're all going

00:18:13.000 --> 00:18:13.590
to need data.

00:18:13.590 --> 00:18:15.730
If they are all going to do an
HTTP request back to the

00:18:15.730 --> 00:18:18.900
server, you're not going to have
enough TCP connections

00:18:18.900 --> 00:18:20.320
back to the server.

00:18:20.320 --> 00:18:21.900
So what you actually want to be
doing, you want to be using

00:18:21.900 --> 00:18:25.700
a command pattern and batching
those requests into lists of

00:18:25.700 --> 00:18:30.980
commands, sending them off to
the server, and getting a list

00:18:30.980 --> 00:18:32.830
of responses back and
dispatching them back to your

00:18:32.830 --> 00:18:33.780
presenters.

00:18:33.780 --> 00:18:35.785
And again, with
Schedule.scheduleFinally in

00:18:35.785 --> 00:18:39.840
GWT, this is very
easy to achieve.

00:18:39.840 --> 00:18:42.290
So this is about downloading.

00:18:42.290 --> 00:18:44.340
Once you've downloaded
everything, you still need to

00:18:44.340 --> 00:18:47.930
parse everything, and you
need to execute it.

00:18:47.930 --> 00:18:50.570
And please keep in mind, parsing
JavaScript actually

00:18:50.570 --> 00:18:54.490
blocks the UI, so you don't want
to be parsing megabytes

00:18:54.490 --> 00:18:56.820
of JavaScript upfront.

00:18:56.820 --> 00:18:59.710
And all the resources you're
going to need, they have to be

00:18:59.710 --> 00:19:01.170
downloaded and parsed
before you can

00:19:01.170 --> 00:19:03.272
actually do initial painting.

00:19:03.272 --> 00:19:05.330
This is quite important
as well.

00:19:05.330 --> 00:19:09.480
So your HTML is going to be
parsed into the DOM, your CSS

00:19:09.480 --> 00:19:12.470
is going to be parsed into the
CSS tree, and now the browser

00:19:12.470 --> 00:19:15.050
actually has to match those two
trees into one, which is

00:19:15.050 --> 00:19:16.490
called the render tree.

00:19:16.490 --> 00:19:19.340
The next step, it has to lay out
that render tree and then

00:19:19.340 --> 00:19:21.300
paint the render tree
to the screen.

00:19:21.300 --> 00:19:23.830
And here's some common
performance pitfalls.

00:19:23.830 --> 00:19:26.970
So if you've got to fill a
huge, humongous DOM, that

00:19:26.970 --> 00:19:29.900
matching process becomes
incredibly slow, so you need

00:19:29.900 --> 00:19:32.570
to be careful about how many
DOM elements you're using.

00:19:32.570 --> 00:19:34.800
But luckily with the GWT
compiler, we can actually

00:19:34.800 --> 00:19:37.300
build mobile optimized widgets
which just take

00:19:37.300 --> 00:19:41.480
care of that for you.

00:19:41.480 --> 00:19:43.620
The other thing you want to
have, you want to have good

00:19:43.620 --> 00:19:44.900
selected performance matching.

00:19:44.900 --> 00:19:48.710
So if the browser is matching
those two trees into one, you

00:19:48.710 --> 00:19:51.330
want to be careful about how
deeply your CSS selectors are

00:19:51.330 --> 00:19:53.920
actually nested.

00:19:53.920 --> 00:19:56.850
But as it turns out, CssResource
is really good at

00:19:56.850 --> 00:19:59.490
keeping those selectors unique,
so you don't need to

00:19:59.490 --> 00:20:02.310
use deeply nested selectors if
you're using CssResource.

00:20:06.700 --> 00:20:09.700
So we've downloaded the
application, it's running, but

00:20:09.700 --> 00:20:13.250
people still think that HTML5
applications have to feel

00:20:13.250 --> 00:20:15.610
somewhat sluggish on a phone.

00:20:15.610 --> 00:20:17.400
They have to be somewhat
slower than native

00:20:17.400 --> 00:20:18.910
applications can be.

00:20:18.910 --> 00:20:21.880
But if you pay attention on how
the browser works, and if

00:20:21.880 --> 00:20:24.840
you do your work thoroughly,
you can be as fast or even

00:20:24.840 --> 00:20:28.060
faster as native applications
can be.

00:20:28.060 --> 00:20:30.480
And there are two main points I
actually want to point out.

00:20:30.480 --> 00:20:33.880
I call them native layout
and native animations.

00:20:33.880 --> 00:20:36.520
So what do I mean by
native layout?

00:20:36.520 --> 00:20:41.570
Well, you should be never
doing your layout in

00:20:41.570 --> 00:20:42.300
JavaScript.

00:20:42.300 --> 00:20:45.910
You should be doing all your
layout in native code.

00:20:45.910 --> 00:20:47.750
That's a very strange statement
to make as a web

00:20:47.750 --> 00:20:51.060
developer because frankly, we
are never writing native code.

00:20:51.060 --> 00:20:54.810
Well, in a way we are because
if you do all your layout in

00:20:54.810 --> 00:20:59.170
CSS, the layout is actually
executed by the layout engine,

00:20:59.170 --> 00:21:01.640
and this means it's actually
executed by native code, so

00:21:01.640 --> 00:21:03.740
this is really fast.

00:21:03.740 --> 00:21:06.710
And on mobile phones, you've
got those really advanced

00:21:06.710 --> 00:21:09.490
browsers so you can actually
do that using the

00:21:09.490 --> 00:21:11.520
flexible box model.

00:21:11.520 --> 00:21:14.070
If you don't know about the
flexible box model, there's a

00:21:14.070 --> 00:21:15.410
really good talk from
last year's

00:21:15.410 --> 00:21:17.470
I/O from Eric Bidelmann.

00:21:17.470 --> 00:21:19.130
You might want to
check that out.

00:21:19.130 --> 00:21:21.170
And again, that's a really good
case of what we can do

00:21:21.170 --> 00:21:24.790
with GWT for mobile
optimized widgets.

00:21:24.790 --> 00:21:28.090
The other thing you want to
do right is animations.

00:21:28.090 --> 00:21:29.770
Animations should be
feeling on a phone

00:21:29.770 --> 00:21:31.870
really slick and fast.

00:21:31.870 --> 00:21:35.510
So some JavaScript libraries
do animations like this.

00:21:35.510 --> 00:21:38.560
Let's say they want to move
a Div from here to there.

00:21:38.560 --> 00:21:40.440
And what they're doing is
they're firing off a timer

00:21:40.440 --> 00:21:43.140
which fires every 60
milliseconds to get that 60

00:21:43.140 --> 00:21:45.520
FPS rate, and then they're
updating the

00:21:45.520 --> 00:21:47.580
position top and left.

00:21:47.580 --> 00:21:49.400
What's happening here is they're
basically telling the

00:21:49.400 --> 00:21:51.120
browser, move it one
pixel, move it one

00:21:51.120 --> 00:21:52.850
pixel, move it one pixel.

00:21:52.850 --> 00:21:55.270
So what the browser does
underneath, it updates the DOM

00:21:55.270 --> 00:21:56.850
that updates the render tree.

00:21:56.850 --> 00:21:58.353
The render tree needs
to be layouted and

00:21:58.353 --> 00:22:00.660
drawn to the screen.

00:22:00.660 --> 00:22:03.070
So what if you actually
tell the browser what

00:22:03.070 --> 00:22:03.870
you want to be doing?

00:22:03.870 --> 00:22:06.780
I want to move that Div from
here to there in 300

00:22:06.780 --> 00:22:10.020
milliseconds with a certain
timing curve.

00:22:10.020 --> 00:22:11.900
Then the browser can actually
find a decent way

00:22:11.900 --> 00:22:13.490
of executing that.

00:22:13.490 --> 00:22:15.940
And as it turns out, what
happens then this if you do a

00:22:15.940 --> 00:22:18.890
whole animation in CSS, the
browser actually draws a

00:22:18.890 --> 00:22:21.720
picture of the region you want
to move, uploads that to the

00:22:21.720 --> 00:22:25.520
GPU, and moves that on the GPU
so you're not using any CPU

00:22:25.520 --> 00:22:26.760
whatsoever.

00:22:26.760 --> 00:22:29.210
And this is really, really fast
and doesn't consume any

00:22:29.210 --> 00:22:31.610
real battery whatsoever.

00:22:31.610 --> 00:22:33.120
And again, this is something
we can pack

00:22:33.120 --> 00:22:34.370
into the GWT compiler.

00:22:36.950 --> 00:22:40.900
So GWT has been designed from
the ground up to be really,

00:22:40.900 --> 00:22:41.660
really performant.

00:22:41.660 --> 00:22:44.620
The GWT team always cared deeply
about performance.

00:22:44.620 --> 00:22:47.600
They went to great lengths to
actually optimize the compiler

00:22:47.600 --> 00:22:50.310
to be as performant as possible
because in Google

00:22:50.310 --> 00:22:53.530
production, we care deeply
about performance.

00:22:53.530 --> 00:22:56.210
And as it turns out, mobile
exactly needs that

00:22:56.210 --> 00:22:58.100
performance.

00:22:58.100 --> 00:23:01.480
So using GWT for writing mobile
applications is an

00:23:01.480 --> 00:23:04.320
actual no-brainer.

00:23:04.320 --> 00:23:09.460
But with GWT on mobile, we
can actually do more.

00:23:09.460 --> 00:23:12.930
You can take today your well
written GWT application and

00:23:12.930 --> 00:23:17.780
run that on any modern phone
or tablet using PhoneGap.

00:23:17.780 --> 00:23:20.440
And if you stick to good
practices with your CSS, you

00:23:20.440 --> 00:23:26.030
can actually achieve a native
look and feel just fine.

00:23:26.030 --> 00:23:29.150
But as a web application,
we can actually do more.

00:23:29.150 --> 00:23:32.320
We can use all the same cool
APIs that the native

00:23:32.320 --> 00:23:34.220
developers are using,
but we can use

00:23:34.220 --> 00:23:37.080
them through web standards.

00:23:37.080 --> 00:23:41.930
So this means that you can
actually use the same code for

00:23:41.930 --> 00:23:46.830
your phone, your tablet, and
your desktop application.

00:23:46.830 --> 00:23:50.810
In MVP terms, this means you can
have the same presenter,

00:23:50.810 --> 00:23:54.550
you can have the same models,
the same RPC, the same almost

00:23:54.550 --> 00:23:56.750
everything--

00:23:56.750 --> 00:23:59.350
despite having different views
because you want to have

00:23:59.350 --> 00:24:02.740
different views on a phone
up to the desktop--

00:24:02.740 --> 00:24:04.200
you're going to have different
navigation

00:24:04.200 --> 00:24:06.250
between those views.

00:24:06.250 --> 00:24:09.110
So if you want to do that today,
you can do that using

00:24:09.110 --> 00:24:11.940
MGWT, and we've got lots of
mobile optimized widgets in

00:24:11.940 --> 00:24:15.220
there which we're going
to start to improve in

00:24:15.220 --> 00:24:17.640
GWT proper with 3.0.

00:24:17.640 --> 00:24:23.108
And you can use PhoneGap
by using GWT PhoneGap.

00:24:23.108 --> 00:24:25.770
And actually, I want to show you
some of that stuff running

00:24:25.770 --> 00:24:27.020
on different devices.

00:24:32.370 --> 00:24:36.390
So this is a GWT application
running on an iPhone.

00:24:36.390 --> 00:24:38.650
So notice what happens
if I hit Reload.

00:24:38.650 --> 00:24:40.740
This is how long it actually
takes to start up such an

00:24:40.740 --> 00:24:41.410
application.

00:24:41.410 --> 00:24:43.440
This is not a small
application, so

00:24:43.440 --> 00:24:44.690
this is quite big.

00:24:46.830 --> 00:24:50.290
You can see the difference
in layouting in such an

00:24:50.290 --> 00:24:50.900
application.

00:24:50.900 --> 00:24:55.340
If I actually go ahead and turn
the phone, you can see--

00:24:55.340 --> 00:24:56.590
just a second.

00:25:01.140 --> 00:25:02.180
Sorry about that.

00:25:02.180 --> 00:25:05.170
Let's actually go first
to full screen.

00:25:05.170 --> 00:25:07.120
So this is the same application
just pushed to the

00:25:07.120 --> 00:25:09.810
home screen.

00:25:09.810 --> 00:25:12.680
So you can do different
animations in here,

00:25:12.680 --> 00:25:13.240
like we just said.

00:25:13.240 --> 00:25:15.350
Those animations are actually
done with CSS.

00:25:15.350 --> 00:25:17.760
This is why they behave
slick and fast.

00:25:17.760 --> 00:25:20.920
So you do all kinds of animation
that you like to do,

00:25:20.920 --> 00:25:24.280
slide it in between.

00:25:24.280 --> 00:25:26.370
But you can actually put some
time into it and build

00:25:26.370 --> 00:25:28.050
different mobile widgets
as well.

00:25:28.050 --> 00:25:30.280
So you can build something like
a carousel where you have

00:25:30.280 --> 00:25:35.270
different scrolling widgets
which scroll fine like this,

00:25:35.270 --> 00:25:39.000
and they can even be scrolled
individually.

00:25:39.000 --> 00:25:41.700
You can even build lists with
headers that push themselves

00:25:41.700 --> 00:25:45.050
out at the top, which
behave really fast.

00:25:45.050 --> 00:25:47.280
You can see that if I turn my
finger here, how fast that is

00:25:47.280 --> 00:25:48.530
actually working.

00:25:56.500 --> 00:26:02.170
But since we are GWT, we can use
the compiler to actually

00:26:02.170 --> 00:26:04.470
swap out the CSS for
different devices.

00:26:04.470 --> 00:26:07.020
You can take the same
application that I've just

00:26:07.020 --> 00:26:10.600
shown you, launch that on an
Android phone, and it looks

00:26:10.600 --> 00:26:13.310
like an Android application
because we can just introduce

00:26:13.310 --> 00:26:16.190
a compiler permutation here
and write different CSS.

00:26:16.190 --> 00:26:20.220
So none of the CSS that's there
to power the style looks

00:26:20.220 --> 00:26:22.440
of that application
is inside that

00:26:22.440 --> 00:26:25.040
application, and vice versa.

00:26:25.040 --> 00:26:28.450
That really makes a huge
difference in size.

00:26:28.450 --> 00:26:31.790
So on Android, you're going to
have the same widgets that do

00:26:31.790 --> 00:26:34.000
the same stuff just fine.

00:26:34.000 --> 00:26:38.710
But this gets even cooler when
you get to the third platform

00:26:38.710 --> 00:26:41.410
and take an Android application
with different

00:26:41.410 --> 00:26:44.070
styling that works
fine on an iPad.

00:26:44.070 --> 00:26:45.720
So you're going to have the same
widgets, you're going to

00:26:45.720 --> 00:26:47.850
lay out the application a little
bit different, you're

00:26:47.850 --> 00:26:51.050
going to have different MVPs
running, of course.

00:26:51.050 --> 00:26:56.030
But it just behaves fine like
you would expect it to be.

00:26:56.030 --> 00:27:03.900
We can even continue doing that
just like that, and pull

00:27:03.900 --> 00:27:07.630
on an Android tablet
just fine.

00:27:07.630 --> 00:27:13.060
So you can do things like put
Refresh widgets really easy

00:27:13.060 --> 00:27:15.690
and really slick.

00:27:15.690 --> 00:27:17.770
But this is all just Web UI.

00:27:17.770 --> 00:27:20.300
What if we actually wanted
to go and access native

00:27:20.300 --> 00:27:21.980
functionality on a device?

00:27:21.980 --> 00:27:25.280
Well, we can do that
using PhoneGap.

00:27:25.280 --> 00:27:27.340
This is a GWT application
running

00:27:27.340 --> 00:27:29.430
inside a PhoneGap container.

00:27:29.430 --> 00:27:32.510
So as a web application, I can't
read the accelerometer.

00:27:32.510 --> 00:27:37.050
So if I want to do that, I
actually need that PhoneGap

00:27:37.050 --> 00:27:37.800
container to run.

00:27:37.800 --> 00:27:40.270
But as soon as I hit Start, I'm
asking PhoneGap to give me

00:27:40.270 --> 00:27:42.630
the values of the
accelerometer.

00:27:42.630 --> 00:27:45.620
You can see as I turn my phone,
the values are just

00:27:45.620 --> 00:27:47.940
changing with it.

00:27:47.940 --> 00:27:51.750
I can even get one
step further and

00:27:51.750 --> 00:27:53.120
actually use the camera.

00:27:53.120 --> 00:27:55.860
So this is still the GWT
application running here, but

00:27:55.860 --> 00:27:58.530
as soon as I hit that button
down here, we're actually

00:27:58.530 --> 00:28:01.100
changing to a native view which
invokes the camera.

00:28:01.100 --> 00:28:03.220
I can take a picture and put
that picture back into the

00:28:03.220 --> 00:28:04.720
JavaScript application.

00:28:04.720 --> 00:28:06.540
So let me do that.

00:28:06.540 --> 00:28:08.670
I'll pick up the phone.

00:28:08.670 --> 00:28:10.860
So I should probably
do it like this.

00:28:10.860 --> 00:28:12.500
Everyone smile.

00:28:12.500 --> 00:28:14.410
Take that picture.

00:28:14.410 --> 00:28:15.190
So here's the picture.

00:28:15.190 --> 00:28:19.050
This is still inside
a native view.

00:28:19.050 --> 00:28:21.510
And we can just hit Use-- that's
a German phone, so

00:28:21.510 --> 00:28:21.600
[GERMAN]

00:28:21.600 --> 00:28:22.910
is "Use" in German--

00:28:22.910 --> 00:28:25.020
and actually dispatch that
picture back into

00:28:25.020 --> 00:28:26.620
JavaScript and there.

00:28:26.620 --> 00:28:29.430
Oh, it's not a nice one,
but there it is.

00:28:29.430 --> 00:28:31.290
So this is how we can
actually do device

00:28:31.290 --> 00:28:33.270
integration on a phone.

00:28:33.270 --> 00:28:36.120
But since this is a GWT
application, we can actually

00:28:36.120 --> 00:28:37.750
tell it to run offline
just fine.

00:28:37.750 --> 00:28:39.150
Remember I said we can
just produce the

00:28:39.150 --> 00:28:40.160
manifest file for you.

00:28:40.160 --> 00:28:42.900
So I just put the phone in
flight mode so it doesn't have

00:28:42.900 --> 00:28:45.000
any real connection
whatsoever.

00:28:45.000 --> 00:28:48.630
So I can now take that GWT
application just fine, hit

00:28:48.630 --> 00:28:50.230
Reload, and it still works.

00:29:00.640 --> 00:29:05.570
I actually want to talk quickly
about gwtproject.org.

00:29:05.570 --> 00:29:07.090
So this has been mobile.

00:29:07.090 --> 00:29:09.710
There's one other thing which
we wanted to address.

00:29:09.710 --> 00:29:13.260
Since GWT is now a community
owned project, we wanted to

00:29:13.260 --> 00:29:16.340
have a home for all the
GWT-related stuff out there.

00:29:16.340 --> 00:29:19.490
So this used to be
developers.google.com, which

00:29:19.490 --> 00:29:21.620
was a problem because only
Google employees could do

00:29:21.620 --> 00:29:23.820
anything to it.

00:29:23.820 --> 00:29:25.070
So we thought about this.

00:29:25.070 --> 00:29:28.820
Since we are an open source
project, we wanted to be the

00:29:28.820 --> 00:29:32.230
website and the documentation
open source as well so anyone

00:29:32.230 --> 00:29:35.040
can actually contribute to the
website just fine or the

00:29:35.040 --> 00:29:36.840
documentation.

00:29:36.840 --> 00:29:39.300
And so we figured Markdown these
days is quite popular,

00:29:39.300 --> 00:29:41.310
and we thought maybe we
can build a whole

00:29:41.310 --> 00:29:45.130
page based on Markdown.

00:29:45.130 --> 00:29:47.960
And because we don't want to put
Markdown on a web server,

00:29:47.960 --> 00:29:51.870
we want to do out of HTML,
CSS, and JavaScript.

00:29:51.870 --> 00:29:54.570
So we figured we're just going
to write a maven plugin to

00:29:54.570 --> 00:29:58.550
actually convert that Markdown
to a nice looking home page.

00:29:58.550 --> 00:30:01.260
So today, you can contribute
to the website and the

00:30:01.260 --> 00:30:04.670
documentation using the same
review process, the same

00:30:04.670 --> 00:30:08.800
guidelines, that we use for
GWT proper source code.

00:30:08.800 --> 00:30:11.280
So if you want to do something
cool to the home page, if you

00:30:11.280 --> 00:30:14.280
just want to fix a bug inside
the documentation, you can

00:30:14.280 --> 00:30:15.090
just do that.

00:30:15.090 --> 00:30:16.940
If you want to do something
cool, write an article or

00:30:16.940 --> 00:30:20.200
anything else, just talk to us
and we'll figure it out.

00:30:20.200 --> 00:30:23.360
So if you want to do that,
what do you do?

00:30:23.360 --> 00:30:26.360
Well, you go ahead and clone
the Git repository.

00:30:26.360 --> 00:30:28.650
Then you take a look at the
Markdown and fix the docs or

00:30:28.650 --> 00:30:31.350
write something yourself.

00:30:31.350 --> 00:30:33.290
If you want to take a look at
how it actually looks, you can

00:30:33.290 --> 00:30:37.770
just do a local MVN Clean
Install, and you can take a

00:30:37.770 --> 00:30:40.300
look at target/generated-site,
and the whole site will be

00:30:40.300 --> 00:30:42.700
generated in that
folder for you.

00:30:42.700 --> 00:30:44.720
And if you think what you've
been doing is great and other

00:30:44.720 --> 00:30:46.290
people could benefit from this,
you're just going to do

00:30:46.290 --> 00:30:48.785
a Commit and push that commit
off to us for review.

00:30:53.110 --> 00:30:56.370
And if you get a positive
review, we automatically push

00:30:56.370 --> 00:30:57.720
that to the new home page.

00:30:57.720 --> 00:31:00.140
It's going to be live
on the page.

00:31:00.140 --> 00:31:03.340
If you want to know more about
this, take a look at

00:31:03.340 --> 00:31:07.900
gwtproject.org/makinggwtbetter,
and this is

00:31:07.900 --> 00:31:10.100
how it actually looks.

00:31:10.100 --> 00:31:11.150
RAY CROMWELL: By the way,
the website is now

00:31:11.150 --> 00:31:13.790
actually a GWT app.

00:31:13.790 --> 00:31:15.680
DANIEL KURKA: Ray is right.

00:31:15.680 --> 00:31:17.040
The website is actually
a GWT application.

00:31:17.040 --> 00:31:18.290
RAY CROMWELL: It actually
uses GWT now.

00:31:21.060 --> 00:31:23.150
So the big question you might
have is when is all

00:31:23.150 --> 00:31:24.750
this going to happen?

00:31:24.750 --> 00:31:26.770
Steering committee got
together trying

00:31:26.770 --> 00:31:27.810
to decide on a schedule.

00:31:27.810 --> 00:31:30.430
We're going to adopt a tick-tock
model like Intel.

00:31:30.430 --> 00:31:32.930
Every six months, we're going
to have minor revision.

00:31:32.930 --> 00:31:34.310
Every year, major revision.

00:31:34.310 --> 00:31:38.790
So quarter four 2013 this year,
look for GWT 2.6, which

00:31:38.790 --> 00:31:41.520
would be a minor update.

00:31:41.520 --> 00:31:44.380
The dot, dot, dot, there could
be some other minor releases

00:31:44.380 --> 00:31:45.190
in between.

00:31:45.190 --> 00:31:48.150
Then for I/O 2014, another six
months later, look for GWT

00:31:48.150 --> 00:31:52.240
3.0, which should have all the
goodies that we've discussed

00:31:52.240 --> 00:31:53.890
here today.

00:31:53.890 --> 00:31:57.600
So before I go to questions, I
want to shout out some thanks.

00:31:57.600 --> 00:31:59.510
First of all, I'd like to thank
the steering committee

00:31:59.510 --> 00:32:02.500
for meeting for many, many hours
over the past year to

00:32:02.500 --> 00:32:03.910
hash all this out.

00:32:03.910 --> 00:32:04.740
Thanks to Red Hat.

00:32:04.740 --> 00:32:06.000
Mike Brock is over there.

00:32:06.000 --> 00:32:07.820
He's a steering committee
member.

00:32:07.820 --> 00:32:11.200
Thanks, Mike, for providing the
build bot and OpenShift

00:32:11.200 --> 00:32:14.650
resources on the Red Hat cloud
for hosting all this stuff.

00:32:14.650 --> 00:32:18.370
Thanks to Vaadin and
Julienne Dramaix--

00:32:18.370 --> 00:32:19.920
I hope that's how you
pronounce it-- of

00:32:19.920 --> 00:32:21.200
the GWTQuery project.

00:32:21.200 --> 00:32:22.790
GWTQuery is actually being
used in the new

00:32:22.790 --> 00:32:26.105
gwtproject.org, and he worked
with Daniel as well as Vaadin

00:32:26.105 --> 00:32:28.780
to actually make the site
look a lot better

00:32:28.780 --> 00:32:31.410
and freshen it up.

00:32:31.410 --> 00:32:34.840
I also would like to extend
a special thanks to Thomas

00:32:34.840 --> 00:32:37.255
Broyer if no one knows who he
is or has been following the

00:32:37.255 --> 00:32:38.670
GWT Contributors News Group.

00:32:38.670 --> 00:32:40.670
He's been our largest GWT
contributor over the last

00:32:40.670 --> 00:32:41.770
couple of years.

00:32:41.770 --> 00:32:43.020
He's fixed hundreds of bugs.

00:32:43.020 --> 00:32:45.940
He's probably actually
fixed more bugs than

00:32:45.940 --> 00:32:47.460
the GWT team combined.

00:32:47.460 --> 00:32:50.370
And so I really wanted him to
be at I/O this year but he

00:32:50.370 --> 00:32:53.040
couldn't make it, so hopefully
he's watching.

00:32:53.040 --> 00:32:55.610
And so I'd just like to extend
a special thanks towards

00:32:55.610 --> 00:32:57.690
Thomas for all his hard
work over the years.

00:32:57.690 --> 00:32:59.094
DANIEL KURKA: Yeah.

00:32:59.094 --> 00:33:04.250
[APPLAUSE]

00:33:04.250 --> 00:33:06.440
RAY CROMWELL: So in summary,
what's the future of GWT?

00:33:06.440 --> 00:33:09.600
I think it's pretty bright, but
to summarize it up, faster

00:33:09.600 --> 00:33:12.930
development in an open setting
for the modern and mobile web

00:33:12.930 --> 00:33:16.070
with fewer surprises, more
compatibility with Java, and

00:33:16.070 --> 00:33:20.680
easier interoperability with the
rest of the non-GWT world.

00:33:20.680 --> 00:33:21.340
Thanks very much.

00:33:21.340 --> 00:33:23.380
And with that, I'll take the
remaining questions.

00:33:23.380 --> 00:33:26.548
We have about six and
a half minutes.

00:33:26.548 --> 00:33:27.020
DANIEL KURKA: Thank you.

00:33:27.020 --> 00:33:37.800
[APPLAUSE]

00:33:37.800 --> 00:33:42.520
AUDIENCE: So you mentioned
improved interactions between

00:33:42.520 --> 00:33:44.100
Java and JavaScript.

00:33:44.100 --> 00:33:47.970
Can you a little bit
expand on that?

00:33:47.970 --> 00:33:54.320
I'm particularly interested in
basically building a reusable

00:33:54.320 --> 00:33:58.790
library using GWT but that
can be used uniquely from

00:33:58.790 --> 00:34:00.460
JavaScript without having--

00:34:00.460 --> 00:34:01.190
RAY CROMWELL: Yeah.

00:34:01.190 --> 00:34:04.230
So I am the original author of
the GWT Exporter Project,

00:34:04.230 --> 00:34:06.530
which basically, you put
annotations on methods like At

00:34:06.530 --> 00:34:10.330
Export and it exports
a public API.

00:34:10.330 --> 00:34:12.280
The code's kind of bloated,
and it doesn't actually

00:34:12.280 --> 00:34:15.600
generate a code that's easy for
JavaScript programmers to

00:34:15.600 --> 00:34:17.040
eyeball and actually
figure out how they

00:34:17.040 --> 00:34:18.310
should be calling it.

00:34:18.310 --> 00:34:20.670
We're starting to actually use
GWT Exporter a lot within

00:34:20.670 --> 00:34:22.800
Google itself, and I'm putting
in a lot of time and resources

00:34:22.800 --> 00:34:27.040
to rewriting it essentially to
make it much more idiomatic in

00:34:27.040 --> 00:34:29.610
terms of the output looking
really like a handwritten

00:34:29.610 --> 00:34:33.400
JavaScript library and having
less bloat and overhead.

00:34:33.400 --> 00:34:35.880
But there'll be more information
on the GWT

00:34:35.880 --> 00:34:37.370
steering mailing list
and in the roadmap.

00:34:37.370 --> 00:34:39.760
We're going to actually release
the detailed roadmap

00:34:39.760 --> 00:34:40.610
very, very soon.

00:34:40.610 --> 00:34:41.879
It's a G Drive Document.

00:34:41.879 --> 00:34:44.460
You'll be able to look at it.

00:34:44.460 --> 00:34:45.590
Next?

00:34:45.590 --> 00:34:45.870
AUDIENCE: Hi.

00:34:45.870 --> 00:34:47.920
My name is Sebastian.

00:34:47.920 --> 00:34:51.520
In my company, I actually use
GWT in enterprise solutions,

00:34:51.520 --> 00:34:54.100
and it's always been
a bit of a scary

00:34:54.100 --> 00:34:56.820
moment, especially recently.

00:34:56.820 --> 00:35:00.850
We don't have really
support for GWT.

00:35:00.850 --> 00:35:04.300
As you mentioned yourself,
Google was prioritizing the

00:35:04.300 --> 00:35:09.260
internal box instead
of the public box.

00:35:09.260 --> 00:35:12.700
Is there any kind of--

00:35:12.700 --> 00:35:13.790
RAY CROMWELL: External
support?

00:35:13.790 --> 00:35:16.390
AUDIENCE: External support
that can be purchased.

00:35:16.390 --> 00:35:18.750
RAY CROMWELL: If you talk to
Mike Brock right over there on

00:35:18.750 --> 00:35:22.560
the far right, I know Red Hat
actually does some support, as

00:35:22.560 --> 00:35:23.570
well as Vaadin.

00:35:23.570 --> 00:35:26.980
If you visit vaadin.com, they
provide official support for

00:35:26.980 --> 00:35:28.390
GWT externally.

00:35:28.390 --> 00:35:30.365
And so if you actually have a
super high priority thing that

00:35:30.365 --> 00:35:33.210
you need fixed, they actually
will do it.

00:35:33.210 --> 00:35:35.580
And behind you in
line is Navigo.

00:35:35.580 --> 00:35:39.490
They might actually be able to
help you out if you have some

00:35:39.490 --> 00:35:41.040
issues, too.

00:35:41.040 --> 00:35:43.970
But we are going to pay
attention, community wide,

00:35:43.970 --> 00:35:46.450
more attention to the
issue tracker.

00:35:46.450 --> 00:35:49.320
And since we can accept bug
fixes much easier, instead of

00:35:49.320 --> 00:35:51.425
people putting a patch into the
issue tracker and it sits

00:35:51.425 --> 00:35:53.170
there for two years and
no one looks at it.

00:35:53.170 --> 00:35:55.130
Now actually, it will go
immediately into the code

00:35:55.130 --> 00:35:58.250
review system, everyone gets
emailed, someone looks at it,

00:35:58.250 --> 00:35:59.750
they actually just click
a button that says

00:35:59.750 --> 00:36:01.030
it looks OK to me.

00:36:01.030 --> 00:36:03.195
Then you get an OK, you
click a button, and

00:36:03.195 --> 00:36:04.030
you commit it yourself.

00:36:04.030 --> 00:36:05.640
And poof, it's fixed
and it's in.

00:36:05.640 --> 00:36:07.480
DANIEL KURKA: If you paid
attention to the issue tracker

00:36:07.480 --> 00:36:09.565
in the last month, we actually
brought the amount of issues

00:36:09.565 --> 00:36:10.300
down quite a bit.

00:36:10.300 --> 00:36:11.140
RAY CROMWELL: We closed
about half the

00:36:11.140 --> 00:36:12.990
issues in Issue Tracker.

00:36:12.990 --> 00:36:16.470
AUDIENCE: Just to add on my
question, do we have a clear

00:36:16.470 --> 00:36:19.210
picture on the commitment
of Google in GWT?

00:36:19.210 --> 00:36:24.000
We know currently, some Google
employees are committing to

00:36:24.000 --> 00:36:28.380
GWT, but do you have more
commitment from Google?

00:36:28.380 --> 00:36:29.000
RAY CROMWELL: Google
is continuing

00:36:29.000 --> 00:36:30.340
to develop new apps.

00:36:30.340 --> 00:36:34.160
There are actually internal apps
as we speak, not old ones

00:36:34.160 --> 00:36:36.180
but new ones actually
are being created

00:36:36.180 --> 00:36:37.810
every day using GWT.

00:36:37.810 --> 00:36:44.450
So it's not being deprecated
or dropped.

00:36:44.450 --> 00:36:47.280
We're not dropping support for
it, if that's your question.

00:36:47.280 --> 00:36:51.690
Let me go to the next person
before we run out of time.

00:36:51.690 --> 00:36:53.220
You can talk to me afterwards.

00:36:53.220 --> 00:36:54.820
AUDIENCE: I've been following
GWT for awhile.

00:36:54.820 --> 00:36:56.990
I just wondered how does the
future of GWT fit in with the

00:36:56.990 --> 00:36:58.830
future of Dart?

00:36:58.830 --> 00:37:00.260
RAY CROMWELL: That's a question
that's been asked

00:37:00.260 --> 00:37:01.960
many, many times.

00:37:01.960 --> 00:37:04.220
I think it's orthogonal.

00:37:04.220 --> 00:37:06.620
In other words, Dart is not
replacing GWT or vice versa.

00:37:06.620 --> 00:37:07.630
Google is a large company.

00:37:07.630 --> 00:37:08.760
We have many, many languages.

00:37:08.760 --> 00:37:10.960
Some teams choose Dart, some
teams choose GWT, some choose

00:37:10.960 --> 00:37:12.360
Closure Compiler.

00:37:12.360 --> 00:37:14.210
Some people write stuff
in JQuery, actually,

00:37:14.210 --> 00:37:15.320
internally at Google.

00:37:15.320 --> 00:37:16.660
YouTube is based on Python.

00:37:16.660 --> 00:37:20.270
Some teams build their apps in
Go on the back end, some Java.

00:37:20.270 --> 00:37:21.590
There's no mandate from above.

00:37:21.590 --> 00:37:23.610
Larry doesn't say everyone has
to write everything in a

00:37:23.610 --> 00:37:24.400
certain language.

00:37:24.400 --> 00:37:28.240
Basically, people choose based
on what they're interested in.

00:37:28.240 --> 00:37:29.980
AUDIENCE: So do you think
is GWT ever going to

00:37:29.980 --> 00:37:32.810
compile into Dart?

00:37:32.810 --> 00:37:34.710
RAY CROMWELL: I don't know.

00:37:34.710 --> 00:37:41.050
Talk to me afterwards,
and we can speculate.

00:37:41.050 --> 00:37:41.220
AUDIENCE: Hi.

00:37:41.220 --> 00:37:43.600
I'm Dennis.

00:37:43.600 --> 00:37:46.130
Two questions, real
quick ones.

00:37:46.130 --> 00:37:47.940
You mentioned the slides
at the beginning.

00:37:47.940 --> 00:37:51.635
Are those available, because I
know this one isn't filmed.

00:37:51.635 --> 00:37:53.860
You didn't video this one.

00:37:53.860 --> 00:37:54.835
DANIEL KURKA: It's
actually filmed.

00:37:54.835 --> 00:37:56.280
AUDIENCE: Oh, it is?

00:37:56.280 --> 00:37:57.960
RAY CROMWELL: It will be
available on YouTube.

00:37:57.960 --> 00:38:00.070
We also will make the
slides available.

00:38:00.070 --> 00:38:04.180
The Google website, the new
gwtproject.org, will have a

00:38:04.180 --> 00:38:06.232
public G Drive folder associated
with it, and there

00:38:06.232 --> 00:38:07.660
will be lots of documents we'll
be dropping in there,

00:38:07.660 --> 00:38:10.420
presentations, plus the steering
committee meeting

00:38:10.420 --> 00:38:13.010
minutes, plus the roadmap,
the detailed roadmap.

00:38:13.010 --> 00:38:13.340
AUDIENCE: OK.

00:38:13.340 --> 00:38:16.570
Second question, is there
someone, like you guys or

00:38:16.570 --> 00:38:20.160
someone available to talk
about GWT offline?

00:38:20.160 --> 00:38:22.590
Because I had some bugs in
some of my GWT that I was

00:38:22.590 --> 00:38:26.200
hoping to just talk to you
about here at Google I/O?

00:38:26.200 --> 00:38:29.890
But I noticed there's no
sandboxes out there for GWT.

00:38:29.890 --> 00:38:30.670
DANIEL KURKA: We can
talk afterwards.

00:38:30.670 --> 00:38:32.790
RAY CROMWELL: You can talk to
him afterwards, right after.

00:38:32.790 --> 00:38:33.150
AUDIENCE: Great.

00:38:33.150 --> 00:38:34.730
Thanks.

00:38:34.730 --> 00:38:36.520
RAY CROMWELL: Go ahead.

00:38:36.520 --> 00:38:36.840
AUDIENCE: Hi.

00:38:36.840 --> 00:38:40.300
Can you say anything about the
future of GWT Designer or

00:38:40.300 --> 00:38:43.190
potentially other tools for
developing GWT applications?

00:38:43.190 --> 00:38:45.330
RAY CROMWELL: I actually don't
know anything about that

00:38:45.330 --> 00:38:47.600
because that's actually run
by a different team.

00:38:47.600 --> 00:38:51.980
That's run by Rajeev Dayal,
who is in New York, and I

00:38:51.980 --> 00:38:53.900
think he deals with the team.

00:38:53.900 --> 00:38:58.000
John, are they in partly Russia,
the team behind the

00:38:58.000 --> 00:38:59.291
[? GPE ?] plugin?

00:38:59.291 --> 00:39:03.640
MALE SPEAKER: Last I knew,
it [? wasn't. ?]

00:39:03.640 --> 00:39:05.550
RAY CROMWELL: They have a
different reporting structure

00:39:05.550 --> 00:39:06.680
within Google, so they
actually don't

00:39:06.680 --> 00:39:08.220
report to the GWT team.

00:39:08.220 --> 00:39:10.210
It's almost like a
separate product.

00:39:10.210 --> 00:39:13.720
So I would actually
have to ask them.

00:39:13.720 --> 00:39:16.940
But maybe send a message to
Contributors News Group, and I

00:39:16.940 --> 00:39:19.100
can get Rajeev to respond to
you, who runs the stuff.

00:39:22.780 --> 00:39:27.700
AUDIENCE: Really quick following
question if there is

00:39:27.700 --> 00:39:33.040
plans to integrate Java and
JavaScript more, and is there

00:39:33.040 --> 00:39:37.010
any plan to put annotations on
the produced JavaScript so

00:39:37.010 --> 00:39:40.740
that closure might be able
to better process

00:39:40.740 --> 00:39:42.270
some things or optimize?

00:39:42.270 --> 00:39:42.486
RAY CROMWELL: Yes.

00:39:42.486 --> 00:39:43.880
We actually already have
something like that

00:39:43.880 --> 00:39:45.370
internally, and that's more
what I mean about

00:39:45.370 --> 00:39:47.080
interoperability.

00:39:47.080 --> 00:39:50.050
The idea basically is that
GWT can now output JSDoc

00:39:50.050 --> 00:39:54.430
annotations, closurized code
with @constructor and @type

00:39:54.430 --> 00:39:55.470
annotations.

00:39:55.470 --> 00:39:57.750
So when you actually consume it
from Closure Code, you'll

00:39:57.750 --> 00:40:00.260
get type checking, static
type checking enclosure.

00:40:00.260 --> 00:40:02.080
IntelliJ IDEA will actually
allow you

00:40:02.080 --> 00:40:03.450
step through the code.

00:40:03.450 --> 00:40:05.550
The reverse is also true.

00:40:05.550 --> 00:40:08.220
Eventually, you'll be able to
point GWT to closurized code,

00:40:08.220 --> 00:40:10.630
and it will understand the
closure annotations, and you

00:40:10.630 --> 00:40:12.210
won't have to actually write
a JSNI method to

00:40:12.210 --> 00:40:13.370
call closure code.

00:40:13.370 --> 00:40:16.410
It will synthesize on the fly
an actual overlay type based

00:40:16.410 --> 00:40:18.370
on the type information that's
present in the JSDoc.

00:40:18.370 --> 00:40:21.350
And that's what I meant about
better interoperability

00:40:21.350 --> 00:40:23.550
between the two languages.

00:40:23.550 --> 00:40:25.030
I've got 38 seconds left.

00:40:25.030 --> 00:40:26.847
Anybody got one more question?

00:40:26.847 --> 00:40:27.781
DANIEL KURKA: No time.

00:40:27.781 --> 00:40:29.100
This is actually counting up.

00:40:29.100 --> 00:40:30.210
RAY CROMWELL: Oh, sorry.

00:40:30.210 --> 00:40:30.910
I'm actually over.

00:40:30.910 --> 00:40:32.680
I went negative.

00:40:32.680 --> 00:40:35.370
But if you have any other
questions for me, you can see

00:40:35.370 --> 00:40:36.090
me outside the room.

00:40:36.090 --> 00:40:38.290
You can talk to me or Daniel.

00:40:38.290 --> 00:40:40.740
Thank you very much for
coming and see you

00:40:40.740 --> 00:40:41.990
guys maybe next year.

