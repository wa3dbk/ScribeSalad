WEBVTT
Kind: captions
Language: en

00:00:01.000 --> 00:00:03.340
The following content is
provided under a Creative

00:00:03.340 --> 00:00:04.760
Commons license.

00:00:04.760 --> 00:00:06.970
Your support will help
MIT OpenCourseWare

00:00:06.970 --> 00:00:11.060
continue to offer high-quality
educational resources for free.

00:00:11.060 --> 00:00:13.600
To make a donation or to
view additional materials

00:00:13.600 --> 00:00:17.560
from hundreds of MIT courses,
visit MIT OpenCourseWare

00:00:17.560 --> 00:00:18.922
at ocw.mit.edu.

00:00:21.954 --> 00:00:24.890
GABRIEL SANCHEZ-MARTINEZ: Let's
get started with Lecture 9.

00:00:24.890 --> 00:00:29.170
Today's lecture is very
relevant to the homework.

00:00:29.170 --> 00:00:32.590
We'll run through some
examples of performance models

00:00:32.590 --> 00:00:35.610
like the ones you have
to work on or specify

00:00:35.610 --> 00:00:37.840
an estimate on your homework.

00:00:37.840 --> 00:00:40.730
So we talk about performance,
performance models.

00:00:40.730 --> 00:00:41.680
What is performance?

00:00:41.680 --> 00:00:43.510
What do we mean by performance?

00:00:43.510 --> 00:00:49.420
Typically, this is a key
word used to describe output

00:00:49.420 --> 00:00:53.860
and some sense of how well
the output service was, so

00:00:53.860 --> 00:00:57.620
both in terms of the operator
and in terms of the passenger.

00:00:57.620 --> 00:01:02.320
So things like running times,
waiting times, headways, things

00:01:02.320 --> 00:01:04.810
that you can measure
from observations

00:01:04.810 --> 00:01:08.530
of service being delivered,
we call that performance,

00:01:08.530 --> 00:01:09.690
generally.

00:01:09.690 --> 00:01:12.280
And the kinds of models
that we're going to look at

00:01:12.280 --> 00:01:15.190
are wait time models,
service variation

00:01:15.190 --> 00:01:17.960
along routes where you'll see
how it's not always the same.

00:01:17.960 --> 00:01:20.830
You might start off at
the terminal one way

00:01:20.830 --> 00:01:23.277
and end up a very different way.

00:01:23.277 --> 00:01:25.610
We'll look at running time
models and dwell time models.

00:01:25.610 --> 00:01:29.510
So these are the components
of running times.

00:01:29.510 --> 00:01:32.110
Let's start with waiting time.

00:01:32.110 --> 00:01:35.660
Well, before that, actually,
let's think about--

00:01:35.660 --> 00:01:37.840
so here are some
kinds of models.

00:01:37.840 --> 00:01:41.280
Why would we be interested
in modeling these things?

00:01:45.040 --> 00:01:50.526
What applications can you think
of for these kinds of models?

00:01:50.526 --> 00:01:52.510
That's two ways of
putting the same question.

00:01:55.690 --> 00:01:58.000
Why would we be interested
in having a waiting time

00:01:58.000 --> 00:02:01.830
model or a running time model?

00:02:01.830 --> 00:02:02.955
Just give some examples.

00:02:06.190 --> 00:02:07.290
Yeah, over in the back?

00:02:07.290 --> 00:02:11.135
AUDIENCE: We want to understand
how people are waiting exactly.

00:02:11.135 --> 00:02:12.510
GABRIEL
SANCHEZ-MARTINEZ: But you

00:02:12.510 --> 00:02:13.884
can go out and
measure it, right?

00:02:17.910 --> 00:02:21.990
You can go out and do
a survey and observe

00:02:21.990 --> 00:02:23.310
how people are waiting.

00:02:23.310 --> 00:02:27.600
So why would a model be good?

00:02:27.600 --> 00:02:31.670
What would a model do that
observations don't do?

00:02:31.670 --> 00:02:32.870
AUDIENCE: For a new service.

00:02:32.870 --> 00:02:33.690
GABRIEL SANCHEZ-MARTINEZ:
For a new service,

00:02:33.690 --> 00:02:35.310
OK, we're starting to
get some ideas, yeah.

00:02:35.310 --> 00:02:36.610
AUDIENCE: Or changes in service.

00:02:36.610 --> 00:02:37.500
GABRIEL SANCHEZ-MARTINEZ:
Changes in service--

00:02:37.500 --> 00:02:39.830
OK, so can you give
me an example of that?

00:02:39.830 --> 00:02:42.900
AUDIENCE: Like [INAUDIBLE]
making the Victoria line 20%

00:02:42.900 --> 00:02:43.874
more frequent.

00:02:43.874 --> 00:02:46.290
GABRIEL SANCHEZ-MARTINEZ: OK,
so if you increase frequency

00:02:46.290 --> 00:02:51.679
on the Victoria line, what does
that do to demand and to dwell

00:02:51.679 --> 00:02:52.220
time and to--

00:02:52.220 --> 00:02:54.845
AUDIENCE: The Oxford Circuit is
now closed for 30 minutes a day

00:02:54.845 --> 00:02:56.520
because can only
interchange, not enter.

00:02:56.520 --> 00:02:58.020
GABRIEL SANCHEZ-MARTINEZ:
OK, so you

00:02:58.020 --> 00:03:01.790
can try to use them to
predict service changes

00:03:01.790 --> 00:03:05.460
or changes in performance
due to changes in service.

00:03:05.460 --> 00:03:07.300
What else, any other ideas?

00:03:10.478 --> 00:03:11.926
[INAUDIBLE]?

00:03:11.926 --> 00:03:14.490
AUDIENCE: [INAUDIBLE]
service variation,

00:03:14.490 --> 00:03:18.770
that's [INAUDIBLE] to crowded
and to crowded on the bus.

00:03:18.770 --> 00:03:22.940
It's depending on how
the planned headway

00:03:22.940 --> 00:03:28.100
sort of variance over time will
impact how many people end up

00:03:28.100 --> 00:03:29.300
boarding on a bus.

00:03:29.300 --> 00:03:32.420
Let's say, a bus that
came substantially

00:03:32.420 --> 00:03:35.730
after the previous
bus might be crowded.

00:03:35.730 --> 00:03:38.522
And I won't be able board.

00:03:38.522 --> 00:03:40.800
And you might even have--

00:03:40.800 --> 00:03:42.565
so denied boardings for--

00:03:42.565 --> 00:03:44.106
GABRIEL SANCHEZ-MARTINEZ:
[INAUDIBLE]

00:03:44.106 --> 00:03:45.170
will you summarize that?

00:03:45.170 --> 00:03:48.480
Maybe I'll try summarizing.

00:03:48.480 --> 00:03:49.970
You could use one
of these models

00:03:49.970 --> 00:03:54.150
to fill in things
about performance

00:03:54.150 --> 00:03:56.310
that you can't measure
directly from data.

00:03:56.310 --> 00:04:00.900
So you gave an example of
measuring headways and then

00:04:00.900 --> 00:04:03.870
estimating crowding on
the bus based on headways.

00:04:03.870 --> 00:04:05.065
Was that more or less--

00:04:05.065 --> 00:04:05.690
AUDIENCE: Yeah.

00:04:05.690 --> 00:04:06.260
GABRIEL SANCHEZ-MARTINEZ:
--getting at--

00:04:06.260 --> 00:04:06.420
AUDIENCE: [INAUDIBLE]

00:04:06.420 --> 00:04:08.878
GABRIEL SANCHEZ-MARTINEZ: OK,
trying to generalize a little

00:04:08.878 --> 00:04:10.080
bit--

00:04:10.080 --> 00:04:11.295
any other ideas?

00:04:11.295 --> 00:04:12.690
[INAUDIBLE]?

00:04:12.690 --> 00:04:16.980
AUDIENCE: I mean, you could
use this as a [INAUDIBLE] model

00:04:16.980 --> 00:04:18.660
in any other simulation.

00:04:18.660 --> 00:04:20.493
GABRIEL SANCHEZ-MARTINEZ:
Simulation models,

00:04:20.493 --> 00:04:22.830
so if you want to do a
simulation model of a system

00:04:22.830 --> 00:04:27.270
that has transit in it, you
need all these things to--

00:04:27.270 --> 00:04:28.050
right?

00:04:28.050 --> 00:04:31.260
Because you need to have
your [INAUDIBLE] which,

00:04:31.260 --> 00:04:34.620
it could be a bus, or a
passenger waiting, or dwelling,

00:04:34.620 --> 00:04:35.860
or moving between stops.

00:04:35.860 --> 00:04:38.190
So you need these things.

00:04:38.190 --> 00:04:40.530
Any other applications,
practical, very

00:04:40.530 --> 00:04:42.153
practical applications?

00:04:45.394 --> 00:04:50.840
So for dwell time and
running time models,

00:04:50.840 --> 00:04:53.090
we all have our
prediction of when

00:04:53.090 --> 00:04:55.490
the bus is coming to the stop.

00:04:55.490 --> 00:04:58.370
So you need some model to take
the bus from where it is right

00:04:58.370 --> 00:05:01.160
now, which you can
measure, to how long

00:05:01.160 --> 00:05:02.920
will it take me to
reach this stop.

00:05:02.920 --> 00:05:06.680
And so the passenger can look
up on the phone, how long will

00:05:06.680 --> 00:05:07.640
I have to wait.

00:05:07.640 --> 00:05:10.250
So these are all examples.

00:05:10.250 --> 00:05:11.240
And there are more.

00:05:11.240 --> 00:05:12.890
Let's start with waiting time.

00:05:12.890 --> 00:05:18.620
So we've already seen this first
simple model of waiting time.

00:05:18.620 --> 00:05:23.370
We say that the expected waiting
time is half the headway.

00:05:23.370 --> 00:05:26.630
And here, we are considering
both waiting time and headway

00:05:26.630 --> 00:05:29.610
to be stochastic quantities.

00:05:29.610 --> 00:05:35.060
So if we observe many headways
over a long period of time,

00:05:35.060 --> 00:05:37.550
we see a probability
distribution of headways.

00:05:37.550 --> 00:05:40.130
And we're saying, the
average headway divided by 2

00:05:40.130 --> 00:05:42.320
should equal the
average waiting time.

00:05:42.320 --> 00:05:44.420
Now, this is a
very simple model.

00:05:44.420 --> 00:05:47.000
And we know there are
some problems with it.

00:05:47.000 --> 00:05:52.460
So we are assuming that
passengers arrive independent

00:05:52.460 --> 00:05:54.020
of vehicle departure times.

00:05:54.020 --> 00:05:56.840
We are assuming that
vehicles are departing

00:05:56.840 --> 00:05:58.830
at equal intervals
deterministically,

00:05:58.830 --> 00:06:01.880
so they're sort
of evenly spaced,

00:06:01.880 --> 00:06:03.456
and that every
passenger can board

00:06:03.456 --> 00:06:04.580
the first vehicle they see.

00:06:04.580 --> 00:06:09.050
So nobody is left behind
by a bus that is too full.

00:06:09.050 --> 00:06:12.450
So obviously, these
things don't always hold.

00:06:12.450 --> 00:06:16.010
And particularly, the part
of vehicles departing exactly

00:06:16.010 --> 00:06:19.110
at equal intervals doesn't hold.

00:06:19.110 --> 00:06:20.040
It rarely holds.

00:06:23.470 --> 00:06:25.250
AUDIENCE: Even if
they depart, there

00:06:25.250 --> 00:06:28.510
are a lot of things along the
way that impact the variation.

00:06:28.510 --> 00:06:29.360
GABRIEL SANCHEZ-MARTINEZ:
Yeah, so but we're

00:06:29.360 --> 00:06:31.880
saying departing from each stop
deterministically, not just

00:06:31.880 --> 00:06:33.500
the terminal.

00:06:33.500 --> 00:06:36.140
So obviously, there are
some problems with this.

00:06:36.140 --> 00:06:39.020
And so how do we need to--

00:06:39.020 --> 00:06:44.490
well, if we start taking
care of some of these things,

00:06:44.490 --> 00:06:45.950
what will happen
to waiting time?

00:06:45.950 --> 00:06:47.390
Will it decrease or increase?

00:06:51.230 --> 00:06:53.534
So if we take this
particular one.

00:06:53.534 --> 00:06:55.200
This is the strongest
assumption, right?

00:06:55.200 --> 00:06:58.235
So that vehicles depart
deterministically

00:06:58.235 --> 00:07:00.510
at equal intervals--

00:07:00.510 --> 00:07:03.210
and we say, no, they
don't, actually.

00:07:03.210 --> 00:07:04.710
Some of them depart late.

00:07:04.710 --> 00:07:06.390
Some of them depart early.

00:07:06.390 --> 00:07:07.687
There is bunching.

00:07:07.687 --> 00:07:09.770
So what happens to waiting
time when that happens?

00:07:09.770 --> 00:07:10.500
AUDIENCE: It goes up.

00:07:10.500 --> 00:07:12.041
GABRIEL SANCHEZ-MARTINEZ:
It goes up.

00:07:12.041 --> 00:07:15.479
So how do we adjust this
model to account for that?

00:07:15.479 --> 00:07:16.270
Let's look at that.

00:07:16.270 --> 00:07:18.066
AUDIENCE: Doesn't
it depend though

00:07:18.066 --> 00:07:19.440
when the passengers
are arriving?

00:07:19.440 --> 00:07:21.981
GABRIEL SANCHEZ-MARTINEZ: If
you look at an average or a long

00:07:21.981 --> 00:07:26.760
period of time, and you'd have
the same number of vehicles

00:07:26.760 --> 00:07:30.960
and drivers, so you either-- the
best thing you can do if people

00:07:30.960 --> 00:07:32.314
are arriving randomly is to--

00:07:32.314 --> 00:07:33.980
AUDIENCE: OK, they're
arriving randomly.

00:07:33.980 --> 00:07:35.646
GABRIEL SANCHEZ-MARTINEZ:
Yeah, so we're

00:07:35.646 --> 00:07:38.380
only tackling that assumption.

00:07:38.380 --> 00:07:42.180
OK, so there are some
issues, as we said.

00:07:42.180 --> 00:07:44.190
There is bulk arrivals.

00:07:44.190 --> 00:07:47.730
So you have a bus stop right
outside of a train station.

00:07:47.730 --> 00:07:49.020
And the train has just left.

00:07:49.020 --> 00:07:50.700
And a bunch of people
get off the train

00:07:50.700 --> 00:07:52.980
and they all want
to board the bus.

00:07:52.980 --> 00:07:54.560
That's not being
captured by this.

00:07:57.360 --> 00:08:01.490
And we can think of the
passenger arrival process

00:08:01.490 --> 00:08:04.350
in steps, from
having no information

00:08:04.350 --> 00:08:06.270
to having a lot of information.

00:08:06.270 --> 00:08:09.420
So random arrivals
is what we typically

00:08:09.420 --> 00:08:13.200
assume, certainly for
high-frequency service,

00:08:13.200 --> 00:08:16.350
and in some cases, for
all kinds of service.

00:08:16.350 --> 00:08:17.869
And that's more problematic.

00:08:17.869 --> 00:08:19.410
If you know how
long-headway service,

00:08:19.410 --> 00:08:22.410
people are going to try
to time their arrival

00:08:22.410 --> 00:08:24.080
at the stop to the schedule.

00:08:24.080 --> 00:08:26.660
But you will see
some models that--

00:08:26.660 --> 00:08:29.280
in the literature,
that, for simplicity,

00:08:29.280 --> 00:08:31.520
especially service planning
models, for simplicity,

00:08:31.520 --> 00:08:32.740
might assume this anyway.

00:08:32.740 --> 00:08:34.049
You have a question.

00:08:34.049 --> 00:08:36.035
AUDIENCE: Like random,
but Poisson distributed,

00:08:36.035 --> 00:08:37.200
or just, like, random?

00:08:37.200 --> 00:08:39.330
GABRIEL SANCHEZ-MARTINEZ: Yeah,
Poisson distributed-- sometimes

00:08:39.330 --> 00:08:40.470
it could just be random.

00:08:40.470 --> 00:08:43.650
Typically the assumption made
is that it's a Poisson process.

00:08:43.650 --> 00:08:46.020
So inter-arrival times
are negative exponential

00:08:46.020 --> 00:08:48.300
distribution.

00:08:48.300 --> 00:08:51.240
OK, then some passengers
will time their arrivals

00:08:51.240 --> 00:08:52.500
to minimum waiting.

00:08:52.500 --> 00:08:58.770
So this could be that you have
a phone app or a schedule.

00:08:58.770 --> 00:09:01.200
And you show up a couple
of minutes before.

00:09:01.200 --> 00:09:04.530
You're trying to minimize
your waiting time.

00:09:04.530 --> 00:09:07.560
You're trying to arrive shortly
before the vehicle departs.

00:09:07.560 --> 00:09:09.930
And then there is the
running to the vehicle

00:09:09.930 --> 00:09:14.080
before it leaves the stop, and
therefore, I have no waiting.

00:09:14.080 --> 00:09:15.870
That's everyone's
favorite, right?

00:09:15.870 --> 00:09:19.650
So if we look at a graph
of expected headway

00:09:19.650 --> 00:09:23.790
on the horizontal axis
and expected waiting

00:09:23.790 --> 00:09:25.620
time on the vertical
axis, you will

00:09:25.620 --> 00:09:27.650
see that around 10 minutes--

00:09:27.650 --> 00:09:30.150
some people say 15, some people
say 10, but somewhere around

00:09:30.150 --> 00:09:31.260
there, 12--

00:09:31.260 --> 00:09:37.310
so you will see that
the actual waiting

00:09:37.310 --> 00:09:40.670
time that you would observe
is much lower than what

00:09:40.670 --> 00:09:42.710
the simple model
says it is, which

00:09:42.710 --> 00:09:46.610
is half the headway for headways
longer than 10, 12, 15 minutes.

00:09:46.610 --> 00:09:49.430
And I think those people
will have some strategy

00:09:49.430 --> 00:09:51.770
to minimize their waiting time.

00:09:51.770 --> 00:09:56.330
So below that amount, people
tend to not time their arrivals

00:09:56.330 --> 00:09:56.960
at stops.

00:09:56.960 --> 00:10:02.240
And they tend to arrive
randomly, essentially.

00:10:02.240 --> 00:10:04.960
So if you try to take the
Red line here in Boston,

00:10:04.960 --> 00:10:06.920
you just show up
at whatever time.

00:10:06.920 --> 00:10:09.820
And typically, most people
won't be looking at their phone

00:10:09.820 --> 00:10:12.460
and trying to time their
arrival, although that

00:10:12.460 --> 00:10:14.230
is happening increasingly.

00:10:14.230 --> 00:10:17.230
So for those people, the
model, the simple model

00:10:17.230 --> 00:10:20.940
of headway divided by 2
tends to underestimate

00:10:20.940 --> 00:10:21.940
the actual waiting time.

00:10:21.940 --> 00:10:24.090
And that's due to headway
variability, mostly.

00:10:27.850 --> 00:10:33.420
So we have to take care
of that assumption.

00:10:33.420 --> 00:10:36.090
Let's look at a formulation
that relaxes that.

00:10:36.090 --> 00:10:37.950
Let's say that vehicle
departures are not

00:10:37.950 --> 00:10:39.930
regular and deterministic.

00:10:39.930 --> 00:10:44.290
So let's refine the model
to take care of that.

00:10:44.290 --> 00:10:47.580
So let's define n as
a function of headway

00:10:47.580 --> 00:10:49.500
to be the number of
passengers arriving

00:10:49.500 --> 00:10:54.690
at some headway and the mean
waiting time of headway, h,

00:10:54.690 --> 00:10:59.360
to be, well, that mean headway
of some specific headway

00:10:59.360 --> 00:11:03.260
that we observe, and then g
to be the probability density

00:11:03.260 --> 00:11:04.290
function of headway.

00:11:04.290 --> 00:11:06.300
So we observe many
of these highways.

00:11:06.300 --> 00:11:09.150
And we have a
histogram of headways.

00:11:09.150 --> 00:11:13.740
So if you want to compute
the expected waiting

00:11:13.740 --> 00:11:16.050
time across all
passengers, what we want

00:11:16.050 --> 00:11:18.300
is the expected total
passenger waiting

00:11:18.300 --> 00:11:21.710
time divided by the expected
number of passengers

00:11:21.710 --> 00:11:25.110
over many, many observations
of vehicles leaving.

00:11:25.110 --> 00:11:29.670
And that is expressed
mathematically in the equation

00:11:29.670 --> 00:11:30.540
below.

00:11:30.540 --> 00:11:33.300
We have integrals, in this
case, from 0 to infinity,

00:11:33.300 --> 00:11:35.410
because headways
can't be negative,

00:11:35.410 --> 00:11:38.460
so we're not going from negative
infinity to positive infinity.

00:11:38.460 --> 00:11:43.080
And we're saying, yeah,
for any given headway,

00:11:43.080 --> 00:11:44.910
we'll multiply the
number of people times

00:11:44.910 --> 00:11:46.920
how much they wait
on average times

00:11:46.920 --> 00:11:49.540
the probability that
I see that headway.

00:11:49.540 --> 00:11:52.140
And let's integrate over
all possible headways

00:11:52.140 --> 00:11:54.930
and divide that by the number
of people on each headway.

00:11:54.930 --> 00:11:56.466
Does that make
sense conceptually?

00:11:59.660 --> 00:12:02.690
OK, so now let's make
some assumptions.

00:12:02.690 --> 00:12:05.900
Let's say that people
do arrive uniformly

00:12:05.900 --> 00:12:08.990
with some rate, lambda.

00:12:08.990 --> 00:12:12.560
And so the number of people
arriving in a given headway

00:12:12.560 --> 00:12:15.110
is going to be some arrival
rate, which we've said

00:12:15.110 --> 00:12:17.520
is constant, times the headway.

00:12:17.520 --> 00:12:20.370
So if we say that 10
people arrive per minute,

00:12:20.370 --> 00:12:23.780
and lambda therefore is
10 passengers per minute,

00:12:23.780 --> 00:12:28.080
then if the headway is 2
minutes, we have 20 people.

00:12:28.080 --> 00:12:29.520
Does that make sense?

00:12:29.520 --> 00:12:32.130
Any questions so far?

00:12:32.130 --> 00:12:33.932
OK, and then--

00:12:33.932 --> 00:12:36.015
AUDIENCE: Can you repeat
just what you said there?

00:12:36.015 --> 00:12:38.120
GABRIEL SANCHEZ-MARTINEZ:
Yeah, so lambda

00:12:38.120 --> 00:12:40.140
is the passenger arrival rate.

00:12:40.140 --> 00:12:43.536
And I gave an example of it
being 10 passengers per minute.

00:12:43.536 --> 00:12:44.910
So is that something
you measure.

00:12:44.910 --> 00:12:46.460
And we're assuming
that that amount

00:12:46.460 --> 00:12:52.160
is constant for a specific time
of day at a specific place.

00:12:52.160 --> 00:12:54.440
And then we're saying,
if you-- once you

00:12:54.440 --> 00:12:57.410
assume that, then you observe
a headway, which could be, say,

00:12:57.410 --> 00:12:58.130
2 minutes long.

00:12:58.130 --> 00:13:00.310
Then you multiply
by the arrival rate.

00:13:00.310 --> 00:13:04.084
Now we say it's 20 passengers
for that particular headway.

00:13:04.084 --> 00:13:06.500
And there might be another
headway that is 5 minutes long.

00:13:06.500 --> 00:13:07.730
That's 50 people--

00:13:07.730 --> 00:13:09.980
1 minute long, 10
people, and so forth.

00:13:09.980 --> 00:13:11.690
And then for each
of those headways,

00:13:11.690 --> 00:13:14.210
the average waiting
time is going

00:13:14.210 --> 00:13:18.514
to be half of that
headway, correct?

00:13:18.514 --> 00:13:19.430
AUDIENCE: Correct.

00:13:19.430 --> 00:13:21.096
GABRIEL SANCHEZ-MARTINEZ:
We're assuming

00:13:21.096 --> 00:13:23.690
people arrive randomly, so
within a particular headway,

00:13:23.690 --> 00:13:26.756
this is true.

00:13:26.756 --> 00:13:28.380
There's no problem
with this assumption

00:13:28.380 --> 00:13:30.213
as long as you are
comfortable with assuming

00:13:30.213 --> 00:13:32.840
that people arrive randomly.

00:13:32.840 --> 00:13:37.430
So now we have this equation
for expected waiting time.

00:13:42.140 --> 00:13:47.490
Let me write on the board how we
get to that from the integrals.

00:14:05.620 --> 00:14:08.770
Can somebody say why--

00:14:08.770 --> 00:14:15.100
so why is it the case that, when
we have headway variability,

00:14:15.100 --> 00:14:17.050
the waiting time goes up?

00:14:17.050 --> 00:14:20.651
What's the concept
that leads to that?

00:14:20.651 --> 00:14:21.150
Eli?

00:14:21.150 --> 00:14:22.525
AUDIENCE: There
is unreliability,

00:14:22.525 --> 00:14:26.360
and so people need to build in
more [INAUDIBLE] time instead

00:14:26.360 --> 00:14:26.860
of--

00:14:26.860 --> 00:14:28.276
GABRIEL SANCHEZ-MARTINEZ:
There is

00:14:28.276 --> 00:14:31.400
something else that is sort
of more fundamental happening.

00:14:31.400 --> 00:14:34.906
AUDIENCE: A bus that
comes at a larger headway

00:14:34.906 --> 00:14:36.280
than it was planned
will actually

00:14:36.280 --> 00:14:37.610
be collecting more people.

00:14:37.610 --> 00:14:41.890
So more people will
be waiting more time.

00:14:41.890 --> 00:14:44.440
GABRIEL SANCHEZ-MARTINEZ: So
from a passenger's perspective,

00:14:44.440 --> 00:14:46.481
the probability of arriving
during a long headway

00:14:46.481 --> 00:14:48.677
is greater than arriving
during a short headway.

00:14:48.677 --> 00:14:49.510
What is that called?

00:14:49.510 --> 00:14:52.974
There is a name for that that's
important in transportation.

00:14:55.640 --> 00:15:02.200
Random-- random incidence, so
this is something you, if you

00:15:02.200 --> 00:15:05.030
took 200, you should know that.

00:15:05.030 --> 00:15:08.350
But it's good to know,
random incidence.

00:15:08.350 --> 00:15:11.860
It's called the random
incidence paradox,

00:15:11.860 --> 00:15:14.770
because people without-- if you
don't think about it too much,

00:15:14.770 --> 00:15:16.020
you say it's half the headway.

00:15:16.020 --> 00:15:19.870
And then somebody says, no,
actually the average waiting

00:15:19.870 --> 00:15:21.140
time is much longer.

00:15:21.140 --> 00:15:21.980
Why is that?

00:15:21.980 --> 00:15:24.070
And you have to sort
of solve the paradox.

00:15:24.070 --> 00:15:26.840
It isn't really a
paradox, but here we are.

00:15:30.895 --> 00:15:33.860
So the expected waiting time--

00:15:33.860 --> 00:15:38.560
we'll start from the
equation, the last equation

00:15:38.560 --> 00:15:40.330
on slide four.

00:15:40.330 --> 00:15:43.180
And we're just going to plug
in what our assumption is.

00:15:43.180 --> 00:15:48.500
So we have integral
from 0 to infinity.

00:15:48.500 --> 00:15:52.240
And we said we had n of h.

00:15:52.240 --> 00:15:54.520
And we said that that's
going to be lambda h.

00:15:54.520 --> 00:16:01.900
So let's just put
that in, lambda h.

00:16:01.900 --> 00:16:05.470
And then we said,
for waiting time,

00:16:05.470 --> 00:16:12.550
we said it was going
to be 1/2, so 1/2 h.

00:16:12.550 --> 00:16:15.900
And then we're going to
multiply times the PVF

00:16:15.900 --> 00:16:19.930
the probability of
that headway times dh.

00:16:32.990 --> 00:16:36.392
All right, and here
we have the same,

00:16:36.392 --> 00:16:37.600
but without the waiting time.

00:16:41.980 --> 00:16:43.600
So that's just
substitution, shouldn't

00:16:43.600 --> 00:16:44.805
be anything wrong with that.

00:16:44.805 --> 00:16:50.410
So now, lambda and 1/2 come out.

00:16:50.410 --> 00:16:52.900
They're not a function of
h, so they are constants.

00:16:52.900 --> 00:16:54.390
We can take them out.

00:16:54.390 --> 00:17:02.290
And we are left with, let's see,
lambda over 2 integral from 0

00:17:02.290 --> 00:17:07.390
to infinity of h squared--

00:17:07.390 --> 00:17:10.960
because we have two h's here--

00:17:10.960 --> 00:17:15.819
times dh dh.

00:17:15.819 --> 00:17:19.140
And here we have--
lambda comes out.

00:17:19.140 --> 00:17:26.589
And we integrate from 0
to infinity of h dh dh.

00:17:26.589 --> 00:17:30.140
OK, now the first
observation is that lambda

00:17:30.140 --> 00:17:33.770
has come out on both sides.

00:17:33.770 --> 00:17:36.500
So there's just one lambda on
the top, one on the bottom,

00:17:36.500 --> 00:17:38.690
so we can cancel them out.

00:17:38.690 --> 00:17:40.670
So that's very convenient.

00:17:40.670 --> 00:17:42.230
What does that mean?

00:17:42.230 --> 00:17:44.030
This happens because
we are assuming

00:17:44.030 --> 00:17:45.870
that lambda is constant.

00:17:45.870 --> 00:17:47.720
That wouldn't happen
if it weren't constant.

00:17:47.720 --> 00:17:50.390
But that's convenient, right?

00:17:50.390 --> 00:17:52.760
So now we have some
quantity that does not

00:17:52.760 --> 00:17:55.580
depend on the arrival rate.

00:17:55.580 --> 00:17:58.820
So the same equation is
not affected by that.

00:17:58.820 --> 00:18:03.070
And let's see if
we can recognize

00:18:03.070 --> 00:18:04.720
what these quantities are.

00:18:04.720 --> 00:18:08.000
So let's start with
the one on the bottom.

00:18:08.000 --> 00:18:11.680
This is the definition
of the expectancy.

00:18:11.680 --> 00:18:14.570
So this is just the average.

00:18:14.570 --> 00:18:19.330
So we're essentially
saying, take every--

00:18:19.330 --> 00:18:21.550
take the average headway,
so take every headway,

00:18:21.550 --> 00:18:23.920
and multiply times the
probability of observing it.

00:18:23.920 --> 00:18:25.610
Add them all up.

00:18:25.610 --> 00:18:28.520
That's what the average is.

00:18:28.520 --> 00:18:36.290
So we have 2 times
the expected headway.

00:18:36.290 --> 00:18:40.570
And at the top, we have the
expectants of h squared.

00:18:44.180 --> 00:18:47.700
So I think that takes
us to where we are

00:18:47.700 --> 00:18:51.450
on this slide, which is great.

00:18:51.450 --> 00:18:55.620
So part of it was
just recognizing

00:18:55.620 --> 00:18:58.410
that that was the definition
of expectants, so that's great.

00:18:58.410 --> 00:19:05.000
And now, somehow, we go
from here to this equation.

00:19:05.000 --> 00:19:12.730
It's not entirely clear,
but it's convenient

00:19:12.730 --> 00:19:17.260
that variance is a function of
the expectants of h squared.

00:19:17.260 --> 00:19:20.020
So I'll just remind you,
if you haven't seen it,

00:19:20.020 --> 00:19:23.179
then introduce you to the
definition-- or not quite

00:19:23.179 --> 00:19:24.220
the definition, actually.

00:19:24.220 --> 00:19:27.400
This is you take the
definition and you expand it

00:19:27.400 --> 00:19:29.080
and collect like terms.

00:19:29.080 --> 00:19:33.590
And then you get that
the variance of h

00:19:33.590 --> 00:19:46.450
is the expectation of h squared
minus the expectation of h

00:19:46.450 --> 00:19:51.700
quantity squared, so means
of square minus squares mean.

00:19:51.700 --> 00:19:53.280
You might have seen that before.

00:19:53.280 --> 00:19:59.520
So essentially, if we solve that
equation for expectation of h

00:19:59.520 --> 00:20:02.930
squared and plug that in here,
we can collect like terms

00:20:02.930 --> 00:20:05.580
and get this last equation.

00:20:05.580 --> 00:20:09.170
So now we have that
the expected waiting

00:20:09.170 --> 00:20:13.680
time is half the headway
times some adjustment factor.

00:20:13.680 --> 00:20:18.170
And that adjustment factor
is 1 plus some amount--

00:20:18.170 --> 00:20:22.340
that amount is what we call
the coefficient of variation--

00:20:22.340 --> 00:20:22.879
squared.

00:20:22.879 --> 00:20:24.920
So coefficient of variation
is standard deviation

00:20:24.920 --> 00:20:26.010
divided by mean.

00:20:26.010 --> 00:20:28.360
So we have normalizing
the standard deviation.

00:20:28.360 --> 00:20:29.450
You square that quantity.

00:20:29.450 --> 00:20:30.940
You add it to 1.

00:20:30.940 --> 00:20:35.310
And that'll increase your
waiting time by some amount.

00:20:38.510 --> 00:20:40.160
Let's stop here for a second.

00:20:40.160 --> 00:20:43.550
Any questions with the
derivation and what

00:20:43.550 --> 00:20:44.570
the meaning of this is?

00:20:47.200 --> 00:20:47.790
Yes, Henry?

00:20:47.790 --> 00:20:49.410
AUDIENCE: Can you
go back to that step

00:20:49.410 --> 00:20:52.939
where you went from the
integral to 2 e of h.

00:20:52.939 --> 00:20:54.230
GABRIEL SANCHEZ-MARTINEZ: Here?

00:20:54.230 --> 00:20:54.890
AUDIENCE: Yeah.

00:20:54.890 --> 00:20:57.670
GABRIEL SANCHEZ-MARTINEZ: So
this is a matter of definition.

00:20:57.670 --> 00:21:00.010
So this here, the
integral from 0--

00:21:00.010 --> 00:21:03.000
from negative infinity to
positive infinity of some

00:21:03.000 --> 00:21:07.540
amount times the probability of
observing that amount over all

00:21:07.540 --> 00:21:09.490
possibilities of the amount--

00:21:09.490 --> 00:21:12.220
that's why we go from negative
infinity to positive infinity--

00:21:12.220 --> 00:21:15.020
equals the average
of that amount,

00:21:15.020 --> 00:21:17.080
or the expectation
of that amount.

00:21:17.080 --> 00:21:20.150
So that part-- do
you understand?

00:21:20.150 --> 00:21:21.160
AUDIENCE: [INAUDIBLE]

00:21:21.160 --> 00:21:22.520
GABRIEL SANCHEZ-MARTINEZ: Yes?

00:21:22.520 --> 00:21:24.890
And then here, we're
just saying, well,

00:21:24.890 --> 00:21:27.800
this is the same thing,
except of the amount instead

00:21:27.800 --> 00:21:30.090
of being h is h squared.

00:21:30.090 --> 00:21:34.070
So we're taking the
average of h squared.

00:21:34.070 --> 00:21:36.230
This comes from here to
here from the definition

00:21:36.230 --> 00:21:39.120
of expectation.

00:21:39.120 --> 00:21:41.540
And the reason we're not
going from negative infinity

00:21:41.540 --> 00:21:44.270
to positive infinity
is that h can only

00:21:44.270 --> 00:21:46.610
take non-negative values.

00:21:46.610 --> 00:21:48.230
It can be 0 or higher.

00:21:48.230 --> 00:21:51.890
So it's the same thing to
integrate from 0 to infinity,

00:21:51.890 --> 00:21:54.310
in that case.

00:21:54.310 --> 00:21:57.030
Does that clear up the question?

00:21:57.030 --> 00:21:58.285
Any other questions?

00:22:01.170 --> 00:22:09.030
So now we have this modified
model of waiting time,

00:22:09.030 --> 00:22:10.560
mainly for
high-frequency service,

00:22:10.560 --> 00:22:12.310
where people are
arriving randomly

00:22:12.310 --> 00:22:15.070
but vehicles are not
necessarily departing stops

00:22:15.070 --> 00:22:17.760
deterministically on
equal intervals anymore.

00:22:17.760 --> 00:22:20.730
Now these vehicles can come--

00:22:20.730 --> 00:22:23.300
as long as they come independent
of the passenger arrival

00:22:23.300 --> 00:22:26.780
process, it doesn't really
matter how they come.

00:22:26.780 --> 00:22:31.260
This model calculates
the expected waiting time

00:22:31.260 --> 00:22:32.650
across all passengers.

00:22:32.650 --> 00:22:34.740
So we have some cases
that we can look at.

00:22:34.740 --> 00:22:36.360
First case is simple.

00:22:36.360 --> 00:22:38.430
Let's say that
the variance is 0.

00:22:38.430 --> 00:22:40.980
That means we go back
to the assumption of,

00:22:40.980 --> 00:22:43.740
well, if the variance
of headway is 0,

00:22:43.740 --> 00:22:47.120
vehicles are arriving exactly
every five minutes, say.

00:22:47.120 --> 00:22:50.890
They're deterministically
at equally spaced intervals.

00:22:50.890 --> 00:22:55.610
So we then have that the
coefficients of variation is 0.

00:22:55.610 --> 00:22:57.610
And we end up with the
same thing we had before.

00:22:57.610 --> 00:23:00.180
So that really checks out
with our previous model

00:23:00.180 --> 00:23:03.570
in that special case, but
we generalized the model.

00:23:03.570 --> 00:23:06.580
So we can try it with different
vehicle arrival or departure

00:23:06.580 --> 00:23:08.150
processes.

00:23:08.150 --> 00:23:11.002
One that we have here is, let's
say that vehicle departures are

00:23:11.002 --> 00:23:12.820
a Poisson process.

00:23:12.820 --> 00:23:16.770
So this would mean that they are
arriving randomly, essentially,

00:23:16.770 --> 00:23:21.690
and that the time of arrival
of a vehicle at a stop

00:23:21.690 --> 00:23:24.270
is independent of any
other previous arrival.

00:23:24.270 --> 00:23:27.480
So that would be a good
model for a service that

00:23:27.480 --> 00:23:29.610
is controlled very loosely.

00:23:29.610 --> 00:23:32.220
They are hardly controlled.

00:23:32.220 --> 00:23:34.290
So you essentially
sometimes see bunching.

00:23:34.290 --> 00:23:35.130
Sometimes you don't.

00:23:35.130 --> 00:23:36.546
Sometimes you have
a long headway.

00:23:36.546 --> 00:23:38.080
Sometimes you don't.

00:23:38.080 --> 00:23:43.230
So the definition-- if you go
through the Poisson process

00:23:43.230 --> 00:23:46.710
and look at the definitions of
the probability distributions

00:23:46.710 --> 00:23:48.720
of inter-arrival
times, et cetera,

00:23:48.720 --> 00:23:51.630
you will see that the
variance in such a process

00:23:51.630 --> 00:23:53.700
is the square of
the expectation, so

00:23:53.700 --> 00:23:55.300
the square of the mean.

00:23:55.300 --> 00:23:58.600
And if we plug that
into our equation,

00:23:58.600 --> 00:24:03.120
we get that the expected waiting
time is the expected headway.

00:24:03.120 --> 00:24:07.620
So people are essentially
waiting about as long

00:24:07.620 --> 00:24:11.210
as your mean headway,
which is a bad situation.

00:24:11.210 --> 00:24:13.470
You've doubled
their waiting time

00:24:13.470 --> 00:24:17.970
from half the headway
to the full headway.

00:24:17.970 --> 00:24:21.150
If you have a system where
your vehicles are all bunched

00:24:21.150 --> 00:24:23.460
and you're running
pairs of bunches,

00:24:23.460 --> 00:24:28.650
that's more or less what
you get, because you have--

00:24:28.650 --> 00:24:30.410
if you had vehicles
every 5 minutes, now

00:24:30.410 --> 00:24:33.672
you have two vehicles every 10.

00:24:33.672 --> 00:24:37.470
Your average headway is
five, but your waiting time

00:24:37.470 --> 00:24:40.700
is now five as well.

00:24:40.700 --> 00:24:43.290
OK, what about the third case?

00:24:43.290 --> 00:24:47.070
The headway sequence is
5, 15, 5, 15, 5, 15--

00:24:47.070 --> 00:24:49.710
thank you, keep going like
that, so not quite bunched

00:24:49.710 --> 00:24:52.240
all the way, but there
is a lot of variability.

00:24:52.240 --> 00:24:55.260
So I'm saying that the
expected headway is 10.

00:24:55.260 --> 00:24:56.836
Does that make sense?

00:24:56.836 --> 00:24:58.120
It's 5, 15, 5, 15.

00:24:58.120 --> 00:25:01.520
The average of
that process is 10.

00:25:01.520 --> 00:25:04.840
So we have an average
headway of 10.

00:25:04.840 --> 00:25:07.084
And now what's the
expected waiting time?

00:25:10.720 --> 00:25:19.630
So it helps to draw a timeline
and to divide that timeline

00:25:19.630 --> 00:25:36.910
into pieces, so 5, 15, 5, 15.

00:25:36.910 --> 00:25:47.670
So we have vehicles arriving
or departing here, here, here,

00:25:47.670 --> 00:25:49.690
and here.

00:25:49.690 --> 00:25:53.154
And there is a
five-minute headway here,

00:25:53.154 --> 00:25:55.570
and a 15-minute headway here,
a five-minute headway there,

00:25:55.570 --> 00:25:57.040
and a 15-minute headway here.

00:25:57.040 --> 00:25:58.860
And people are
arriving randomly.

00:25:58.860 --> 00:26:01.450
People arrive independent
of this process.

00:26:01.450 --> 00:26:05.260
So what you'll see is
that, the first thing

00:26:05.260 --> 00:26:09.130
is, if you were to arrive
on a five-minute headway,

00:26:09.130 --> 00:26:11.080
the average waiting
time for you would

00:26:11.080 --> 00:26:15.470
be half of that five-minute
headway, 2 and 1/2 minutes.

00:26:15.470 --> 00:26:18.470
And if you arrive on
15-minute headway,

00:26:18.470 --> 00:26:20.530
then your expected
waiting time, given

00:26:20.530 --> 00:26:24.580
that you arrive on a 15-minute
headway is 7 and 1/2 minutes.

00:26:24.580 --> 00:26:28.360
So that's the 2.5 and
the 7.5 on this equation.

00:26:28.360 --> 00:26:29.980
And then we have
the probabilities

00:26:29.980 --> 00:26:32.350
of having arrived on
any of those headways.

00:26:32.350 --> 00:26:35.380
Because the 15-minute
headway is 3 times longer

00:26:35.380 --> 00:26:38.110
than the 5-minute headway,
you are 3 times more

00:26:38.110 --> 00:26:40.930
likely to arrive during
a 15-minute headway

00:26:40.930 --> 00:26:42.310
than during a 5-minute headway.

00:26:42.310 --> 00:26:46.600
So therefore, 25% of
passengers will arrive

00:26:46.600 --> 00:26:48.280
on the 15-minute headways.

00:26:48.280 --> 00:26:53.320
And you essentially
computing a weighted average,

00:26:53.320 --> 00:26:56.560
so 6 and 1/4 minutes.

00:26:59.482 --> 00:27:00.456
Questions on this?

00:27:13.130 --> 00:27:15.380
All right, another
assumption that we

00:27:15.380 --> 00:27:17.060
were looking at
in the first model

00:27:17.060 --> 00:27:18.770
that we are still
having in this model

00:27:18.770 --> 00:27:20.730
is that people can
board the first vehicle

00:27:20.730 --> 00:27:22.730
that they see arrive.

00:27:22.730 --> 00:27:26.870
So no vehicle is too
full to take passengers.

00:27:26.870 --> 00:27:28.850
No vehicle is leaving
people behind.

00:27:28.850 --> 00:27:29.975
That's not true.

00:27:29.975 --> 00:27:34.310
If we look at any
process, and we say here

00:27:34.310 --> 00:27:37.880
that w0 is the
expected waiting time

00:27:37.880 --> 00:27:40.580
when people can board
their first vehicle,

00:27:40.580 --> 00:27:45.290
so when no vehicle
is full, and we then

00:27:45.290 --> 00:27:48.630
look at all the expected waiting
times for passengers including

00:27:48.630 --> 00:27:52.490
passengers that are left
behind, when that capacity is

00:27:52.490 --> 00:27:53.540
being reached--

00:27:53.540 --> 00:27:55.640
so here on the
horizontal, we have rho,

00:27:55.640 --> 00:27:57.820
which is flow over capacity.

00:28:00.209 --> 00:28:02.000
You may have seen this
kind of relationship

00:28:02.000 --> 00:28:02.940
from queuing theory.

00:28:02.940 --> 00:28:06.470
So when rho is 0, it means
that you will have some supply

00:28:06.470 --> 00:28:08.090
and nobody is using it.

00:28:08.090 --> 00:28:11.270
If rho is 0.5,
then your capacity

00:28:11.270 --> 00:28:14.780
is double of the demand.

00:28:14.780 --> 00:28:16.250
That's OK usually.

00:28:16.250 --> 00:28:18.590
If rho is 1, you are--

00:28:18.590 --> 00:28:20.600
your capacity
equals your demand.

00:28:20.600 --> 00:28:23.780
And what we see is that
the expected waiting

00:28:23.780 --> 00:28:27.735
time for service will
start to approach infinity.

00:28:27.735 --> 00:28:31.130
There is a term that we use
in, say, queuing theory,

00:28:31.130 --> 00:28:32.466
for such a system.

00:28:32.466 --> 00:28:33.340
Does anybody know it?

00:28:38.370 --> 00:28:42.930
We say that the system
blows up when this happens.

00:28:42.930 --> 00:28:45.000
If you hear that,
you'll see that.

00:28:45.000 --> 00:28:49.190
If you take any sort of queuing
theory, you'll hear that.

00:28:49.190 --> 00:28:52.980
So as rho equals 1, let's
say that you have-- you're

00:28:52.980 --> 00:28:55.620
providing a bus
service with capacity

00:28:55.620 --> 00:28:59.550
for 100 people per minute.

00:28:59.550 --> 00:29:03.560
That's pretty high.

00:29:03.560 --> 00:29:07.060
And then your demand equals
100 people per minute.

00:29:07.060 --> 00:29:09.540
So if people are
arriving uniformly,

00:29:09.540 --> 00:29:12.450
you might just provide
a capacity for everyone.

00:29:12.450 --> 00:29:14.160
And nobody is being left behind.

00:29:14.160 --> 00:29:16.870
But that doesn't happen,
because people arrive randomly.

00:29:20.940 --> 00:29:23.810
Some people will leave with
some remaining capacity.

00:29:23.810 --> 00:29:26.670
And the next vehicle won't have
enough space for that person.

00:29:26.670 --> 00:29:28.890
And then the vehicles
themselves will not

00:29:28.890 --> 00:29:31.650
arrive perfectly
evenly, so now you

00:29:31.650 --> 00:29:34.710
have a chain reaction of
people waiting and not

00:29:34.710 --> 00:29:36.000
being able to board.

00:29:36.000 --> 00:29:38.640
And unless you
supply more capacity,

00:29:38.640 --> 00:29:40.410
unless you increase
the capacity,

00:29:40.410 --> 00:29:42.600
you're going to have more
and more people waiting

00:29:42.600 --> 00:29:43.960
and being left behind.

00:29:43.960 --> 00:29:46.200
So the actual
expected waiting time

00:29:46.200 --> 00:29:51.160
would increase as your ratio of
flow to capacity approaches 1.

00:29:51.160 --> 00:29:53.220
That's the takeaway here.

00:29:53.220 --> 00:29:58.050
And you could think of
two different lines, one

00:29:58.050 --> 00:30:01.260
for low reliability when
there is a lot of bunching,

00:30:01.260 --> 00:30:03.540
and therefore, a lot of the
capacity that you provide

00:30:03.540 --> 00:30:07.440
is wasted on small
headways that are not

00:30:07.440 --> 00:30:11.400
serving as many passengers as
you assign them for, and then

00:30:11.400 --> 00:30:13.560
high reliability,
where, yes, you still

00:30:13.560 --> 00:30:17.250
have some variability
that you can't control.

00:30:17.250 --> 00:30:18.320
You've done what you can.

00:30:18.320 --> 00:30:20.940
And this is relatively
high reliability,

00:30:20.940 --> 00:30:23.550
but still you have
some variability,

00:30:23.550 --> 00:30:28.020
and therefore, you can't expect
to reach that rho equals 1.

00:30:28.020 --> 00:30:29.310
It'll still blow up when you--

00:30:29.310 --> 00:30:30.770
as you approach 1.

00:30:30.770 --> 00:30:33.870
But it's closer to
1, so that's good.

00:30:33.870 --> 00:30:36.670
Questions on this relationship?

00:30:36.670 --> 00:30:37.170
[INAUDIBLE]?

00:30:37.170 --> 00:30:40.032
AUDIENCE: What do most
bus services operate

00:30:40.032 --> 00:30:41.902
at [INAUDIBLE]?

00:30:41.902 --> 00:30:43.860
GABRIEL SANCHEZ-MARTINEZ:
I don't have a number

00:30:43.860 --> 00:30:45.370
off the top of my head.

00:30:45.370 --> 00:30:46.370
It varies a lot.

00:30:46.370 --> 00:30:48.390
And it varies a lot
of by time period.

00:30:48.390 --> 00:30:54.290
So some services here in Boston
operate during the peak leaving

00:30:54.290 --> 00:30:57.230
people behind every day.

00:30:57.230 --> 00:31:00.230
If you look at some of
the most crowded stations

00:31:00.230 --> 00:31:03.260
in the tube in London, certainly
they have to meter people

00:31:03.260 --> 00:31:04.630
going into stations.

00:31:04.630 --> 00:31:09.970
So they may have approached rho
greater than 1, in this case.

00:31:09.970 --> 00:31:11.270
But it's non-stationary.

00:31:11.270 --> 00:31:13.400
So that's during the
peak of the peak.

00:31:13.400 --> 00:31:17.120
And then the demand falls,
so eventually, those people

00:31:17.120 --> 00:31:21.410
are served, of course,
because the supply is kept up

00:31:21.410 --> 00:31:24.350
at some-- at the highest
rate that they can keep it.

00:31:24.350 --> 00:31:26.660
And demand it comes
down, so it stabilizes.

00:31:30.380 --> 00:31:31.340
Any other questions?

00:31:31.340 --> 00:31:32.298
That's a good question.

00:31:35.880 --> 00:31:37.750
All right, so service
variation along

00:31:37.750 --> 00:31:41.060
routes-- so we've been
talking about vehicles

00:31:41.060 --> 00:31:44.270
leaving on time or not
on time, and bunching.

00:31:44.270 --> 00:31:46.910
So here's what happens.

00:31:46.910 --> 00:31:49.040
This is a space-time diagram.

00:31:49.040 --> 00:31:52.370
Have we seen these diagrams
on this course yet?

00:31:52.370 --> 00:31:53.090
AUDIENCE: No.

00:31:53.090 --> 00:31:54.923
GABRIEL SANCHEZ-MARTINEZ:
No-- OK, well this

00:31:54.923 --> 00:31:57.200
is a very important diagram
in public transportation,

00:31:57.200 --> 00:31:57.380
certainly.

00:31:57.380 --> 00:31:58.540
AUDIENCE: And the
homework says to make one.

00:31:58.540 --> 00:31:58.876
So we should probably--

00:31:58.876 --> 00:31:58.960
GABRIEL SANCHEZ-MARTINEZ: Great.

00:31:58.960 --> 00:32:00.234
AUDIENCE: --learn it.

00:32:00.234 --> 00:32:01.400
I was wondering what it was.

00:32:01.400 --> 00:32:03.691
GABRIEL SANCHEZ-MARTINEZ:
This is a space-time diagram.

00:32:03.691 --> 00:32:09.180
You have space on the y-axis
and time on the x-axis.

00:32:09.180 --> 00:32:13.040
And what you see
are some lines that

00:32:13.040 --> 00:32:16.550
show how a vehicle is moving
across space and time.

00:32:16.550 --> 00:32:20.380
So there are variations of this.

00:32:20.380 --> 00:32:23.510
Sometimes people put time
on the vertical and space

00:32:23.510 --> 00:32:24.460
on the horizontal.

00:32:24.460 --> 00:32:25.400
That's fine.

00:32:25.400 --> 00:32:29.390
And typically, you see
little steps for each stop,

00:32:29.390 --> 00:32:31.490
because if a vehicle is
stopped, time is running

00:32:31.490 --> 00:32:35.910
and the vehicle is not moving,
so you see little steps.

00:32:35.910 --> 00:32:37.220
So you can see holding.

00:32:37.220 --> 00:32:38.300
You can see dwell times.

00:32:38.300 --> 00:32:40.790
You can see speeds.

00:32:40.790 --> 00:32:42.980
You can see recovery time
at a terminal, everything

00:32:42.980 --> 00:32:43.880
on this diagram.

00:32:43.880 --> 00:32:47.001
So it's a great diagram
for analyzing service.

00:32:47.001 --> 00:32:49.250
AUDIENCE: When we make,
should we make them like this?

00:32:49.250 --> 00:32:49.890
Or like--

00:32:49.890 --> 00:32:51.890
GABRIEL SANCHEZ-MARTINEZ:
The little steps are--

00:32:51.890 --> 00:32:52.540
AUDIENCE: Little steps--

00:32:52.540 --> 00:32:54.990
GABRIEL SANCHEZ-MARTINEZ:
Yeah, I mean, they're helpful.

00:32:54.990 --> 00:32:56.910
You'll see dwell times, so yeah.

00:32:56.910 --> 00:32:59.760
So this is a conceptual
very simplified diagram,

00:32:59.760 --> 00:33:01.850
but here is the idea.

00:33:01.850 --> 00:33:06.230
So you have some scheduled
trajectories in dashed lines.

00:33:06.230 --> 00:33:10.130
So we're essentially planning
to run service every 10 minutes,

00:33:10.130 --> 00:33:15.540
departing from Stop 1 at
9:00, 9:10, 9:20, et cetera.

00:33:15.540 --> 00:33:17.990
And if things run
according to plan,

00:33:17.990 --> 00:33:20.664
you will keep a 10-minute
headway throughout the route.

00:33:20.664 --> 00:33:21.830
But that's not what happens.

00:33:21.830 --> 00:33:25.610
If we observe-- let's
say that the driver that

00:33:25.610 --> 00:33:27.990
was driving the bus
that departed at 9:10

00:33:27.990 --> 00:33:32.780
is a slow driver, so that
driver drives slowly.

00:33:32.780 --> 00:33:36.960
So therefore, more time passes
covering the same space.

00:33:36.960 --> 00:33:40.130
And then let's say that the
9:20 driver is a fast driver.

00:33:40.130 --> 00:33:42.890
So that driver covers more
distance in less time.

00:33:42.890 --> 00:33:44.210
And they bunch.

00:33:44.210 --> 00:33:46.950
They meet somewhere before they
reach the end of the route.

00:33:46.950 --> 00:33:49.580
They've platooned.

00:33:49.580 --> 00:33:53.210
And they're running
together as a bunch.

00:33:53.210 --> 00:33:54.830
So what does that do to headway?

00:33:59.056 --> 00:34:00.680
AUDIENCE: What does
what do to headway?

00:34:00.680 --> 00:34:01.990
GABRIEL SANCHEZ-MARTINEZ: What
does this process of bunching

00:34:01.990 --> 00:34:03.172
do to headways?

00:34:03.172 --> 00:34:04.130
AUDIENCE: It increases.

00:34:04.130 --> 00:34:06.060
GABRIEL SANCHEZ-MARTINEZ: Right?

00:34:06.060 --> 00:34:08.800
Headways are increasing,
because now you've--

00:34:08.800 --> 00:34:10.690
well, the average
headway remains the same,

00:34:10.690 --> 00:34:12.760
because you have a
0 and a big number.

00:34:12.760 --> 00:34:15.730
But what people actually
see are the long headways,

00:34:15.730 --> 00:34:18.580
because the chance of
arriving and just catching

00:34:18.580 --> 00:34:22.480
the 30-second headway
is much smaller.

00:34:22.480 --> 00:34:24.699
So people are waiting more
because these headways are

00:34:24.699 --> 00:34:25.810
longer.

00:34:25.810 --> 00:34:26.310
Yeah?

00:34:26.310 --> 00:34:27.940
AUDIENCE: Well, you probably
have more people waiting.

00:34:27.940 --> 00:34:29.108
So there is [INAUDIBLE]--

00:34:29.108 --> 00:34:30.858
GABRIEL SANCHEZ-MARTINEZ:
Yeah, so there's

00:34:30.858 --> 00:34:32.659
a vicious cycle here, right?

00:34:32.659 --> 00:34:34.876
Yeah, we'll get to
that on the next slide.

00:34:34.876 --> 00:34:37.001
AUDIENCE: It would be better
if the fast driver got

00:34:37.001 --> 00:34:39.030
in front of the slow driver.

00:34:39.030 --> 00:34:41.710
GABRIEL SANCHEZ-MARTINEZ: Yeah,
we'll talk about that too.

00:34:41.710 --> 00:34:42.793
We'll talk about that too.

00:34:45.690 --> 00:34:50.436
OK, so do we understand
this process of bunching?

00:34:50.436 --> 00:34:52.760
Here is what you were
talking about, Ari?

00:34:52.760 --> 00:34:54.909
So there is an issue
when that happens.

00:34:54.909 --> 00:34:56.860
So now we have the
little steps here.

00:34:56.860 --> 00:34:59.160
So this is Step 2, Step 3.

00:34:59.160 --> 00:35:01.180
And these are the dwell times.

00:35:01.180 --> 00:35:03.055
So nothing happened on bus one.

00:35:03.055 --> 00:35:06.340
It ran exactly as planned in
this hypothetical example.

00:35:06.340 --> 00:35:09.990
But because this driver was
slow, the headway was bigger.

00:35:09.990 --> 00:35:11.930
And more people arrived
during the headway.

00:35:11.930 --> 00:35:14.410
So now the dwell
times at Stop 2 are

00:35:14.410 --> 00:35:17.290
going to be longer for that
driver that was driving slow.

00:35:17.290 --> 00:35:19.062
Now that bus has
more passengers.

00:35:19.062 --> 00:35:21.520
And therefore, the probability
of stopping at the next stop

00:35:21.520 --> 00:35:23.200
is higher, because
you have more people,

00:35:23.200 --> 00:35:26.620
so the chance that at least
one person on that bus

00:35:26.620 --> 00:35:29.980
wants to get off at
the next one is higher.

00:35:29.980 --> 00:35:31.779
And if the bus is
really crowded,

00:35:31.779 --> 00:35:33.820
the dwell time process is
going to be slowed down

00:35:33.820 --> 00:35:38.610
by just friction
between passengers.

00:35:38.610 --> 00:35:41.830
So this bus continues
to be delayed, not just

00:35:41.830 --> 00:35:46.840
by the driver driving slow,
but by the dwell time effect.

00:35:46.840 --> 00:35:49.270
And because that bus
is being delayed,

00:35:49.270 --> 00:35:54.460
fewer people are arriving to
see the next bus, the third bus.

00:35:57.090 --> 00:36:02.080
The dwell times of that third
bus are shorter than planned.

00:36:02.080 --> 00:36:03.700
Fewer people are
waiting for that bus.

00:36:03.700 --> 00:36:06.520
And therefore, that bus
has a lower probability

00:36:06.520 --> 00:36:07.710
of having to stop.

00:36:07.710 --> 00:36:10.300
And if it stops, fewer
people will board it.

00:36:10.300 --> 00:36:12.510
So that bus is
going to run fast.

00:36:12.510 --> 00:36:16.374
Even if the drivers are now
driving at the same speed,

00:36:16.374 --> 00:36:17.540
there is nothing you can do.

00:36:17.540 --> 00:36:18.837
They will bunch.

00:36:18.837 --> 00:36:21.170
Well, there is something you
can-- you can control them.

00:36:21.170 --> 00:36:22.810
And that's a later
topic in the course.

00:36:22.810 --> 00:36:27.310
So they pair or they bunch,
that's what we're saying.

00:36:27.310 --> 00:36:30.790
OK, so if we think
about how if you

00:36:30.790 --> 00:36:33.280
were to survey headways
of different points

00:36:33.280 --> 00:36:35.320
along the route,
you would see that,

00:36:35.320 --> 00:36:38.450
if you start at a terminal--

00:36:38.450 --> 00:36:40.670
this is like a probability
density function,

00:36:40.670 --> 00:36:41.900
but they're not normalized.

00:36:41.900 --> 00:36:44.800
So don't think about scale.

00:36:44.800 --> 00:36:46.600
So you have headway
on the horizontal.

00:36:46.600 --> 00:36:50.600
And the probability
density on the vertical.

00:36:50.600 --> 00:36:53.770
And so at the terminal or close
to the start of the route,

00:36:53.770 --> 00:36:56.800
you will see something
bell-shaped usually.

00:36:59.350 --> 00:37:02.620
It'll be around the
scheduled departure time,

00:37:02.620 --> 00:37:05.320
or around the headway.

00:37:05.320 --> 00:37:09.190
And there will be some
variability due to drivers

00:37:09.190 --> 00:37:13.210
not being exactly on time when
they leave, and supervision

00:37:13.210 --> 00:37:15.220
issues, or whatever it is.

00:37:15.220 --> 00:37:18.650
So maybe the boarding
process at the first stop

00:37:18.650 --> 00:37:20.260
introduces some perturbations.

00:37:20.260 --> 00:37:21.990
But it's essentially
bell-shaped.

00:37:21.990 --> 00:37:23.930
And it has less variability.

00:37:23.930 --> 00:37:26.290
As you move to the
middle of the route,

00:37:26.290 --> 00:37:30.200
you'll see that
the bell is being--

00:37:30.200 --> 00:37:34.930
it's getting fatter and fatter
tails, so more variability

00:37:34.930 --> 00:37:37.740
in the headway because
of the bunching problem

00:37:37.740 --> 00:37:40.780
that we just described.

00:37:40.780 --> 00:37:43.240
Usually by the time you
see bunching, your--

00:37:43.240 --> 00:37:46.780
which could be at the end, or
it could be before the end,

00:37:46.780 --> 00:37:52.750
you'll have this
distribution with two spots,

00:37:52.750 --> 00:37:57.190
a lot of vehicles having
headway of 0 or very close to 0,

00:37:57.190 --> 00:37:59.290
and a lot of headways
longer than that

00:37:59.290 --> 00:38:02.090
by some amount with
a lot of variability.

00:38:02.090 --> 00:38:05.470
So these are pairs
that are arriving.

00:38:05.470 --> 00:38:09.590
So every time you see a pair
arriving, one of them is 0.

00:38:09.590 --> 00:38:11.620
And the other one is
some longer headway.

00:38:11.620 --> 00:38:17.524
And they are affecting these
two parts of the probability

00:38:17.524 --> 00:38:18.856
distribution.

00:38:18.856 --> 00:38:22.346
Is that understood?

00:38:22.346 --> 00:38:24.292
Any questions?

00:38:24.292 --> 00:38:25.224
[INAUDIBLE]

00:38:25.224 --> 00:38:27.750
AUDIENCE: So the big
point you're talking about

00:38:27.750 --> 00:38:29.796
is the lower--

00:38:29.796 --> 00:38:31.545
GABRIEL SANCHEZ-MARTINEZ:
So essentially--

00:38:31.545 --> 00:38:32.900
AUDIENCE: --the lower curve?

00:38:32.900 --> 00:38:36.200
GABRIEL SANCHEZ-MARTINEZ: --it's
just, yes, this one right here.

00:38:36.200 --> 00:38:40.940
So essentially, it's just
higher variability of headways.

00:38:40.940 --> 00:38:45.880
So variability of headways
tends to be minimized

00:38:45.880 --> 00:38:47.450
at the start of a run.

00:38:47.450 --> 00:38:49.005
And then that degrades.

00:38:49.005 --> 00:38:52.340
It increases as you run the
route until you have bunching.

00:38:52.340 --> 00:38:54.560
And when you have bunching,
you reach this point

00:38:54.560 --> 00:38:58.430
of having some vehicles that
are close to 0 and others

00:38:58.430 --> 00:38:59.810
that are anywhere else.

00:39:02.420 --> 00:39:04.460
So that means the
waiting time is

00:39:04.460 --> 00:39:08.610
a function of
headway as scheduled,

00:39:08.610 --> 00:39:10.730
also of headway reliability.

00:39:10.730 --> 00:39:13.990
So if you're running a service
that is well controlled

00:39:13.990 --> 00:39:17.090
and you have good headways, then
you may never reach this point.

00:39:17.090 --> 00:39:18.590
And you may actually
have everything

00:39:18.590 --> 00:39:21.530
running somewhat bell-shaped,
not too much variance.

00:39:21.530 --> 00:39:24.450
That's your ideal situation.

00:39:24.450 --> 00:39:27.950
And then it's also a function of
where you are along the route.

00:39:27.950 --> 00:39:30.554
So if you're closer to a
controlled point, which

00:39:30.554 --> 00:39:31.970
could be the
terminal, or it could

00:39:31.970 --> 00:39:35.990
be anywhere along the route,
if there is control en route,

00:39:35.990 --> 00:39:38.780
then you will have less
variability of headways.

00:39:41.620 --> 00:39:45.050
As you run downstream of
the last control point,

00:39:45.050 --> 00:39:48.000
then you will see
greater variability.

00:39:48.000 --> 00:39:53.510
Great, so what factors affect
the headway deterioration?

00:39:53.510 --> 00:39:54.830
Length of route is one.

00:39:54.830 --> 00:39:59.180
So if he no longer route, then
it takes an hour and a half

00:39:59.180 --> 00:40:04.340
to cover the whole one-direction
run, the half cycle,

00:40:04.340 --> 00:40:07.460
then this deterioration has--

00:40:07.460 --> 00:40:11.030
that process has more
time to act on the route.

00:40:11.030 --> 00:40:16.160
So you will see more headway
unreliability, more bunching.

00:40:16.160 --> 00:40:19.440
The marginal dwell time per
passengers is another factor.

00:40:19.440 --> 00:40:21.190
If you think of--

00:40:21.190 --> 00:40:23.270
well, we just saw that
the bunching process

00:40:23.270 --> 00:40:27.560
is largely affected
by dwell time,

00:40:27.560 --> 00:40:29.150
because if you have
a longer headway,

00:40:29.150 --> 00:40:30.191
more people are boarding.

00:40:30.191 --> 00:40:32.030
So if you think
of an extreme case

00:40:32.030 --> 00:40:34.650
where everybody boards
and alights instantly,

00:40:34.650 --> 00:40:37.010
then you don't have
that effect anymore.

00:40:37.010 --> 00:40:40.670
So to the extent that
people can board and alight

00:40:40.670 --> 00:40:45.500
fast relative to the time
it takes to run the service,

00:40:45.500 --> 00:40:48.350
then this effect
diminishes to the extent

00:40:48.350 --> 00:40:50.390
that dwell time is
a larger percentage

00:40:50.390 --> 00:40:51.740
of the total runtime.

00:40:51.740 --> 00:40:53.120
Then it increases.

00:40:53.120 --> 00:40:54.650
You have more bunching.

00:40:54.650 --> 00:40:56.942
The stopping
probability-- again,

00:40:56.942 --> 00:40:58.400
this has to do with
how many people

00:40:58.400 --> 00:41:00.825
are on the bus and
the stop spacing.

00:41:00.825 --> 00:41:04.260
If stops are spaced very
close to each other,

00:41:04.260 --> 00:41:07.650
then you have a higher
variance of where you stop.

00:41:13.880 --> 00:41:16.910
if you have a long
distance between stations,

00:41:16.910 --> 00:41:18.890
if you think of a
commuter rail line,

00:41:18.890 --> 00:41:20.660
then you're going to
stop at every stop.

00:41:20.660 --> 00:41:22.640
And therefore, you
decrease the variability

00:41:22.640 --> 00:41:25.280
of this effect of stopping.

00:41:25.280 --> 00:41:29.150
So you have the urban
bus route in one hand

00:41:29.150 --> 00:41:32.420
and the commuter rail with
long distances between stops,

00:41:32.420 --> 00:41:35.720
and therefore stopping at
every stop, on the other hand.

00:41:35.720 --> 00:41:38.030
The schedule headway
has an impact.

00:41:38.030 --> 00:41:40.820
If you schedule the
headways every 30 minutes,

00:41:40.820 --> 00:41:42.920
it's unlikely
you'll see bunching.

00:41:42.920 --> 00:41:46.216
But if you schedule the
headways every two minutes, then

00:41:46.216 --> 00:41:47.840
it's very easy for
you to see bunching.

00:41:47.840 --> 00:41:49.460
You have to control
this very well

00:41:49.460 --> 00:41:52.480
to avoid bunching in that case.

00:41:52.480 --> 00:41:55.590
And driver behavior--
if your vehicles

00:41:55.590 --> 00:42:01.390
are driven by very good
drivers or computers

00:42:01.390 --> 00:42:05.770
on the extreme right, driven
with driverless trains,

00:42:05.770 --> 00:42:08.170
then you can really
sort of try to make up

00:42:08.170 --> 00:42:10.410
for all of these
things in driving

00:42:10.410 --> 00:42:12.250
and try to keep things even.

00:42:12.250 --> 00:42:16.150
If they are drivers that are
not particularly well trained

00:42:16.150 --> 00:42:19.630
and have not received feedback,
for example, on their driving

00:42:19.630 --> 00:42:23.560
speeds and other behavior,
and not just that,

00:42:23.560 --> 00:42:26.560
but also being on
time at the terminal

00:42:26.560 --> 00:42:29.830
and leaving exactly on
time, things like that,

00:42:29.830 --> 00:42:31.360
would all affect this.

00:42:31.360 --> 00:42:35.350
So here is a simple model of
how headway will deteriorate.

00:42:35.350 --> 00:42:37.870
So there is also a mistake
on the integration.

00:42:37.870 --> 00:42:41.230
That should be p i, not p i
minus 1, sorry about that.

00:42:44.330 --> 00:42:48.340
So we have that the headway
deviation at some stop--

00:42:48.340 --> 00:42:50.410
here, we're thinking
about a scheduled headway

00:42:50.410 --> 00:42:52.040
and the actual headway we see.

00:42:52.040 --> 00:42:56.530
So if service is running
exactly on time, ei is 0.

00:42:56.530 --> 00:43:00.400
If that bus is delayed,
then ei is positive.

00:43:00.400 --> 00:43:02.170
And if it's running
early, ei is negative.

00:43:02.170 --> 00:43:05.200
So you start out--

00:43:05.200 --> 00:43:06.790
you go from one
stop to the next.

00:43:06.790 --> 00:43:09.440
And the deviation of
headway you see at some stop

00:43:09.440 --> 00:43:12.070
is going to be a
function of how--

00:43:12.070 --> 00:43:15.510
what the deviation was
at the previous stop.

00:43:15.510 --> 00:43:17.260
So if you're already
delayed, your chances

00:43:17.260 --> 00:43:19.720
of being delayed at the
next stop are higher.

00:43:19.720 --> 00:43:21.070
That should make sense.

00:43:21.070 --> 00:43:25.510
Then you add the effect of
running from that previous stop

00:43:25.510 --> 00:43:26.770
to this stop.

00:43:26.770 --> 00:43:28.990
If you are particularly
slow doing that,

00:43:28.990 --> 00:43:33.000
then your delay will increase.

00:43:33.000 --> 00:43:35.800
If you try to drive fast
to make up for that,

00:43:35.800 --> 00:43:38.410
then ti will be negative.

00:43:38.410 --> 00:43:43.960
And it will decrease the impact
on headway deterioration.

00:43:43.960 --> 00:43:45.084
Yeah?

00:43:45.084 --> 00:43:47.500
AUDIENCE: Do they ever just--
so this seems to imply that,

00:43:47.500 --> 00:43:49.240
like, maybe I could
fix my problem

00:43:49.240 --> 00:43:52.080
by just dropping a
bus from the schedule.

00:43:52.080 --> 00:43:54.610
Like, let's say I
was really behind,

00:43:54.610 --> 00:43:57.400
I could just delay
all the other buses

00:43:57.400 --> 00:43:59.276
and, like, take up the
schedule of the next--

00:43:59.276 --> 00:44:01.400
GABRIEL SANCHEZ-MARTINEZ:
Yeah, but you will have--

00:44:01.400 --> 00:44:03.570
you still have a headway,
a longer headway, right?

00:44:03.570 --> 00:44:04.030
AUDIENCE: Yeah, [INAUDIBLE]--

00:44:04.030 --> 00:44:04.750
GABRIEL SANCHEZ-MARTINEZ:
So you could make up

00:44:04.750 --> 00:44:06.190
your schedule that way.

00:44:06.190 --> 00:44:11.110
But you're essentially doing an
accounting trick by doing that.

00:44:11.110 --> 00:44:13.990
You can make your vehicles
look like they're all

00:44:13.990 --> 00:44:16.450
running on time by doing that.

00:44:16.450 --> 00:44:17.840
And you dropped one trip.

00:44:17.840 --> 00:44:20.160
But you still have a
longer headway here

00:44:20.160 --> 00:44:23.350
and shorter headways there,
and passengers boarding

00:44:23.350 --> 00:44:24.930
mostly that delayed vehicle.

00:44:24.930 --> 00:44:27.280
And so from a
passenger's perspective,

00:44:27.280 --> 00:44:30.040
that doesn't do much.

00:44:30.040 --> 00:44:32.909
But then you have to
consider the effect of, well,

00:44:32.909 --> 00:44:34.450
you might have--
you might want to do

00:44:34.450 --> 00:44:36.480
that if your drivers
need to check out

00:44:36.480 --> 00:44:37.600
at some time in the day.

00:44:37.600 --> 00:44:40.960
And your options are
either, you do this now,

00:44:40.960 --> 00:44:45.660
or at some time when they check
out, you have to drop trips.

00:44:45.660 --> 00:44:47.680
And that could be
during the peak.

00:44:47.680 --> 00:44:49.360
So that would be
really bad, right?

00:44:49.360 --> 00:44:53.713
So then you would have to
consider that strategy.

00:44:53.713 --> 00:44:55.855
AUDIENCE: And do buses
typically post, like,

00:44:55.855 --> 00:44:58.152
a scheduled time
that they're supposed

00:44:58.152 --> 00:44:59.110
to arrive at each stop?

00:44:59.110 --> 00:44:59.560
Because normally--

00:44:59.560 --> 00:44:59.830
GABRIEL SANCHEZ-MARTINEZ: Yes.

00:44:59.830 --> 00:45:01.150
AUDIENCE: --I see, like--

00:45:01.150 --> 00:45:01.950
GABRIEL SANCHEZ-MARTINEZ:
--especially now,

00:45:01.950 --> 00:45:02.590
so typically--

00:45:02.590 --> 00:45:04.077
AUDIENCE: Like
up-to-date minutes.

00:45:04.077 --> 00:45:06.160
GABRIEL SANCHEZ-MARTINEZ:
So London will say that.

00:45:06.160 --> 00:45:08.030
So if it's high frequency--

00:45:08.030 --> 00:45:10.700
and London, the
threshold is 12 minutes.

00:45:10.700 --> 00:45:15.760
So anything below, they'll
say, AM peak between--

00:45:15.760 --> 00:45:18.610
expect service every eight
minutes, for example.

00:45:18.610 --> 00:45:22.120
And then as soon as the
headway increases above that,

00:45:22.120 --> 00:45:23.560
they'll say the times.

00:45:23.560 --> 00:45:27.160
But if you look at service
here, for example, here

00:45:27.160 --> 00:45:31.480
in Boston, every bus route here,
if you look at the DTFS file,

00:45:31.480 --> 00:45:35.040
has specific times at each
stop, even though DTFS

00:45:35.040 --> 00:45:38.260
has the option of
giving a headway

00:45:38.260 --> 00:45:42.570
for high-frequency service,
they don't do that here.

00:45:42.570 --> 00:45:45.110
AUDIENCE: So only service
[INAUDIBLE] time appear?

00:45:45.110 --> 00:45:47.600
GABRIEL SANCHEZ-MARTINEZ:
Yeah, but those DTFS file

00:45:47.600 --> 00:45:48.880
has times at every stop.

00:45:51.850 --> 00:45:53.500
So yeah, and that's
another thing,

00:45:53.500 --> 00:45:55.250
that if you look at
printed schedules that

00:45:55.250 --> 00:45:58.640
are posted somewhere
and on paper,

00:45:58.640 --> 00:46:00.140
typically they'll
have the terminals

00:46:00.140 --> 00:46:03.119
and some time points in between
and not every single stop.

00:46:03.119 --> 00:46:05.410
AUDIENCE: And the time points
[INAUDIBLE] approximately

00:46:05.410 --> 00:46:05.910
[INAUDIBLE]?

00:46:05.910 --> 00:46:07.409
GABRIEL SANCHEZ-MARTINEZ:
Well, that

00:46:07.409 --> 00:46:09.710
depends on the control
policy of that agency.

00:46:12.260 --> 00:46:16.850
So we'll talk more about
control in a later lecture.

00:46:16.850 --> 00:46:19.040
So typically, you don't
control at every stop.

00:46:19.040 --> 00:46:23.280
You control at, sometimes, just
the terminal, and sometimes

00:46:23.280 --> 00:46:26.180
at the terminal and some
key points in between.

00:46:26.180 --> 00:46:30.200
And those are timing
points for control.

00:46:30.200 --> 00:46:37.760
OK, so back to this model, the
headway deviation at some stop

00:46:37.760 --> 00:46:40.460
is, you start out from what
it was in the previous stop.

00:46:40.460 --> 00:46:42.140
You add the effect
of running time

00:46:42.140 --> 00:46:44.360
to that stop from
the previous one.

00:46:44.360 --> 00:46:48.350
And then you add the effect
of dwell time, essentially.

00:46:48.350 --> 00:46:51.870
So this pi, not pi minus
1, as I said earlier--

00:46:51.870 --> 00:46:55.670
and so this is the arrival
rate at the stop right now

00:46:55.670 --> 00:46:59.160
and multiplied by the
boarding time per passenger.

00:46:59.160 --> 00:47:08.450
So this whole quantity is
multiplied by this amount,

00:47:08.450 --> 00:47:10.890
which is the time it takes--

00:47:10.890 --> 00:47:13.630
it's the deviation of the
time it takes to arrive.

00:47:13.630 --> 00:47:16.090
So it's a deviation in
headway, essentially.

00:47:16.090 --> 00:47:19.420
So if you're headway is now
a minute longer than it used

00:47:19.420 --> 00:47:23.500
to be, then you will have
a minute times the boarding

00:47:23.500 --> 00:47:26.860
rate per passenger times the
arrival rate of passengers,

00:47:26.860 --> 00:47:30.810
extra people boarding,
or extra time, extra time

00:47:30.810 --> 00:47:33.437
of dwell time
affecting that bus,

00:47:33.437 --> 00:47:35.020
and therefore slowing
it down further.

00:47:39.345 --> 00:47:40.220
Does that make sense?

00:47:40.220 --> 00:47:41.845
Or should I break it
down a little bit?

00:47:44.710 --> 00:47:46.710
AUDIENCE: Did not answer
that question, but just

00:47:46.710 --> 00:47:47.520
to ask a question?

00:47:47.520 --> 00:47:50.210
AUDIENCE: Yeah, [INAUDIBLE]
interrupt anyone else.

00:47:50.210 --> 00:47:52.760
AUDIENCE: So is this
accounting for the fact

00:47:52.760 --> 00:47:55.400
that, if there is no one
getting on or off this stop,

00:47:55.400 --> 00:47:58.580
the first person to
pull into a stop,

00:47:58.580 --> 00:48:01.770
decelerate, and open the door
takes a given amount of time.

00:48:01.770 --> 00:48:03.950
And the marginal time
to add an extra person

00:48:03.950 --> 00:48:05.832
is quite small, or
relatively small.

00:48:05.832 --> 00:48:06.957
Is that accounted for here?

00:48:06.957 --> 00:48:08.623
GABRIEL SANCHEZ-MARTINEZ:
No, this model

00:48:08.623 --> 00:48:10.700
is saying that it's
a linear effect.

00:48:10.700 --> 00:48:13.100
You're not saying that
the first person takes--

00:48:13.100 --> 00:48:14.930
AUDIENCE: So two would take
twice as long as one person.

00:48:14.930 --> 00:48:15.890
GABRIEL SANCHEZ-MARTINEZ:
Exactly, yeah,

00:48:15.890 --> 00:48:17.330
so that is a
simplification here.

00:48:17.330 --> 00:48:18.967
And it's a point
that we will address

00:48:18.967 --> 00:48:20.300
towards the end of this lecture.

00:48:20.300 --> 00:48:21.980
AUDIENCE: OK, [INAUDIBLE]
asking questions.

00:48:21.980 --> 00:48:23.270
GABRIEL SANCHEZ-MARTINEZ:
Good segues,

00:48:23.270 --> 00:48:24.728
that's, like, the
second one today.

00:48:24.728 --> 00:48:26.687
AUDIENCE: This is only
extra [INAUDIBLE] right?

00:48:26.687 --> 00:48:28.478
GABRIEL SANCHEZ-MARTINEZ:
So yeah, exactly,

00:48:28.478 --> 00:48:30.390
because this is a model
of headway deviation.

00:48:30.390 --> 00:48:33.230
So you have this passenger
arrival rate and the boarding

00:48:33.230 --> 00:48:35.647
time, but because you're
only multiplying it--

00:48:35.647 --> 00:48:37.730
you're not multiplying it
times the whole headway.

00:48:37.730 --> 00:48:40.490
You're multiplying times
the headway deviation, which

00:48:40.490 --> 00:48:45.210
is the deviation at this stop
when you arrive and this stop.

00:48:45.210 --> 00:48:47.960
It's the deviation
when you were arriving

00:48:47.960 --> 00:48:51.380
at the previous stop plus
the time it took you to reach

00:48:51.380 --> 00:48:53.030
this stop from that time.

00:48:53.030 --> 00:48:55.730
So now you have adjusted-- now
you have the deviation arriving

00:48:55.730 --> 00:48:57.680
at this stop.

00:48:57.680 --> 00:48:59.150
If your headway is
a minute longer,

00:48:59.150 --> 00:49:02.660
than you need to add however
much extra dwell time

00:49:02.660 --> 00:49:05.155
you have to pick up that
extra minute of passengers.

00:49:05.155 --> 00:49:06.780
An that's what that
last case is doing.

00:49:11.589 --> 00:49:13.600
AUDIENCE: So at the
beginning, the e

00:49:13.600 --> 00:49:15.370
will be 0 at the first stop?

00:49:15.370 --> 00:49:16.870
GABRIEL SANCHEZ-MARTINEZ:
Hopefully.

00:49:19.354 --> 00:49:20.770
It depends on your
control policy.

00:49:20.770 --> 00:49:25.480
So if you depart your terminal
and your driver didn't show up

00:49:25.480 --> 00:49:29.500
on time and they left a minute
late from the even headway,

00:49:29.500 --> 00:49:33.350
then you start out with
one minute deviation.

00:49:33.350 --> 00:49:36.620
So yeah, hopefully that
is 0 at the beginning.

00:49:36.620 --> 00:49:41.030
And then due to effect
that we described here,

00:49:41.030 --> 00:49:43.040
it starts deteriorating.

00:49:43.040 --> 00:49:45.230
And this is a
mathematical model to--

00:49:45.230 --> 00:49:49.220
a simple mathematical
model to account for that.

00:49:49.220 --> 00:49:50.750
So it's still a
deterministic one.

00:49:50.750 --> 00:49:52.580
Here is a probabilistic one.

00:49:52.580 --> 00:49:56.569
The details for this
formulation are on this paper.

00:49:56.569 --> 00:49:57.985
If you're interested,
let me know.

00:49:57.985 --> 00:50:00.050
I will send it you.

00:50:00.050 --> 00:50:04.260
What I want to highlight
here are the quantities.

00:50:04.260 --> 00:50:07.460
So this is a model
of headway variance.

00:50:07.460 --> 00:50:09.490
So we are looking
at, now, headway

00:50:09.490 --> 00:50:11.360
as a stochastic quantity.

00:50:11.360 --> 00:50:14.870
And we're calculating
the variance of headway

00:50:14.870 --> 00:50:16.550
at some stop.

00:50:16.550 --> 00:50:18.680
And again, we see
the same pattern.

00:50:18.680 --> 00:50:23.660
We see that it depends on what
it was at the previous stop.

00:50:23.660 --> 00:50:26.790
And then we add the effect
of the running time,

00:50:26.790 --> 00:50:30.170
so the variance of running
times between consecutive stops,

00:50:30.170 --> 00:50:33.920
to the extent that the drivers
are different in driving,

00:50:33.920 --> 00:50:36.350
then this variance increases.

00:50:36.350 --> 00:50:38.990
And then you have
these two terms--

00:50:38.990 --> 00:50:42.800
really, three terms, that
have to do with dwell time.

00:50:42.800 --> 00:50:44.180
All of these terms have--

00:50:44.180 --> 00:50:48.680
the q here is the mean number
of passengers per bus served.

00:50:48.680 --> 00:50:51.860
And c is the marginal dwell time
per passenger-- so different

00:50:51.860 --> 00:50:56.110
notation from the model that we
just saw, but same quantities.

00:50:56.110 --> 00:51:03.470
So we have something times
that probability is--

00:51:03.470 --> 00:51:04.970
the bus will skip
a stop, et cetera.

00:51:04.970 --> 00:51:08.590
So all these things together are
accounting for the dwell time

00:51:08.590 --> 00:51:09.500
effect.

00:51:09.500 --> 00:51:13.580
So the last term here
is, again, looking

00:51:13.580 --> 00:51:17.750
at c, which is the marginal
dwell time per passenger.

00:51:17.750 --> 00:51:19.700
So this also has to
do with dwell time.

00:51:19.700 --> 00:51:24.740
But this one is also multiplied
by the covariance with headway.

00:51:24.740 --> 00:51:29.200
So this is that effect of the
relationship between headway

00:51:29.200 --> 00:51:32.590
and sort of passenger
arrivals, captured here

00:51:32.590 --> 00:51:35.850
as the covariance between
those two quantities.

00:51:35.850 --> 00:51:38.720
So the key takeaway
from this slide

00:51:38.720 --> 00:51:41.930
is not exactly why this
is the right equation.

00:51:41.930 --> 00:51:46.120
If you're interested in
that, read the paper.

00:51:46.120 --> 00:51:49.340
I am interested in
understanding what

00:51:49.340 --> 00:51:53.810
goes into this equation in
terms of what components

00:51:53.810 --> 00:51:56.010
lead to a higher variance
at some particular stop.

00:51:59.600 --> 00:52:04.310
OK, we are ready to move to
vehicle running time models

00:52:04.310 --> 00:52:06.140
if no-- if there
are no questions

00:52:06.140 --> 00:52:09.280
on waiting time headway models.

00:52:09.280 --> 00:52:11.540
OK, so let's do that.

00:52:11.540 --> 00:52:13.100
So different levels of detail--

00:52:13.100 --> 00:52:15.890
we have some models
that are very detailed.

00:52:15.890 --> 00:52:17.390
There are microscopic model.

00:52:20.250 --> 00:52:21.140
It's a simulation.

00:52:21.140 --> 00:52:24.137
And they look at the vehicle
motion, the interaction

00:52:24.137 --> 00:52:24.970
with other vehicles.

00:52:24.970 --> 00:52:27.590
So you might have private
automobiles interacting

00:52:27.590 --> 00:52:30.505
with a bus, for example, and
traffic blocking the bus.

00:52:30.505 --> 00:52:31.380
And you have signals.

00:52:31.380 --> 00:52:32.796
So every little
detail is modeled.

00:52:32.796 --> 00:52:34.580
That's a microscopic model.

00:52:34.580 --> 00:52:37.250
On the other hand, you
have macroscopic models,

00:52:37.250 --> 00:52:39.680
which are not looking
at all those details.

00:52:39.680 --> 00:52:42.680
Instead, they're saying, what
are the running times that I

00:52:42.680 --> 00:52:44.630
observe as a function
of time of day,

00:52:44.630 --> 00:52:49.100
and the driver,
different components.

00:52:49.100 --> 00:52:51.450
And macroscopically, we say,
this is the running time.

00:52:51.450 --> 00:52:55.479
So there is something in
between called mesoscopic, when

00:52:55.479 --> 00:52:57.020
you have some parts
that are detailed

00:52:57.020 --> 00:52:58.580
and others that are not--

00:52:58.580 --> 00:53:02.180
so different levels of modeling.

00:53:05.240 --> 00:53:07.100
So running time, as
we know, includes

00:53:07.100 --> 00:53:11.990
dwell time, the movement time
between stops, and any delays.

00:53:11.990 --> 00:53:14.930
Delays could be because of
signals, traffic signals,

00:53:14.930 --> 00:53:15.920
for example.

00:53:15.920 --> 00:53:18.470
So dwell time is a
function of the number

00:53:18.470 --> 00:53:20.390
of passengers
boarding and arriving

00:53:20.390 --> 00:53:23.030
as well as technology
characteristics.

00:53:23.030 --> 00:53:25.910
What are some examples of
technology characteristics

00:53:25.910 --> 00:53:28.679
that could affect dwell times?

00:53:28.679 --> 00:53:31.730
AUDIENCE: [INAUDIBLE]
cards, smart card.

00:53:31.730 --> 00:53:34.230
GABRIEL SANCHEZ-MARTINEZ: So
what your fare card technology,

00:53:34.230 --> 00:53:37.260
so if you have smart cards,
or coins, paying cash--

00:53:37.260 --> 00:53:38.531
very different, right?

00:53:38.531 --> 00:53:39.030
What else?

00:53:39.030 --> 00:53:40.610
AUDIENCE: Off-board
fare collection.

00:53:40.610 --> 00:53:41.820
GABRIEL SANCHEZ-MARTINEZ:
Off-board fare collection--

00:53:41.820 --> 00:53:44.130
so if you remove the
payment from the vehicle,

00:53:44.130 --> 00:53:46.720
then that really helps with
decreasing the variability.

00:53:46.720 --> 00:53:47.270
What else?

00:53:47.270 --> 00:53:49.020
AUDIENCE: All boarding.

00:53:49.020 --> 00:53:50.570
GABRIEL SANCHEZ-MARTINEZ: Sorry?

00:53:50.570 --> 00:53:51.590
AUDIENCE: All boarding?

00:53:51.590 --> 00:53:52.470
GABRIEL SANCHEZ-MARTINEZ:
All-door boarding?

00:53:52.470 --> 00:53:53.060
AUDIENCE: All-door boarding.

00:53:53.060 --> 00:53:53.680
GABRIEL SANCHEZ-MARTINEZ:
So boarding

00:53:53.680 --> 00:53:55.330
through all doors--
of course, if you

00:53:55.330 --> 00:53:56.830
can board through
multiple doors,

00:53:56.830 --> 00:53:59.990
you have a faster dwell time
process in this variable.

00:53:59.990 --> 00:54:00.610
What else?

00:54:00.610 --> 00:54:02.940
AUDIENCE: If the station
level is the same as the--

00:54:02.940 --> 00:54:04.690
GABRIEL SANCHEZ-MARTINEZ:
Level boarding--

00:54:04.690 --> 00:54:07.310
so if people don't have to
climb steps to go from the curb

00:54:07.310 --> 00:54:11.940
to the vehicle, that also helps.

00:54:11.940 --> 00:54:12.830
Any other ideas?

00:54:12.830 --> 00:54:13.370
Eli?

00:54:13.370 --> 00:54:14.185
AUDIENCE: The type
of the bus stop--

00:54:14.185 --> 00:54:16.460
am I pulling into a cutout and
then I have to wait for traffic

00:54:16.460 --> 00:54:17.090
to merge back in.

00:54:17.090 --> 00:54:17.590
GABRIEL SANCHEZ-MARTINEZ: Yes.

00:54:17.590 --> 00:54:18.740
AUDIENCE: [INAUDIBLE] stay
in the lane [INAUDIBLE]----

00:54:18.740 --> 00:54:19.160
GABRIEL SANCHEZ-MARTINEZ:
And that

00:54:19.160 --> 00:54:21.110
depends on the
definition of dwell time.

00:54:21.110 --> 00:54:23.870
So if you say dwell time is
only the amount of time needed

00:54:23.870 --> 00:54:27.254
to serve passengers, then that
shouldn't really be a factor.

00:54:27.254 --> 00:54:29.420
But if you think of the
dwell time as the whole time

00:54:29.420 --> 00:54:32.120
it took me to stop
and serve that stop,

00:54:32.120 --> 00:54:33.650
then this would be included.

00:54:33.650 --> 00:54:36.672
So you're looking at--

00:54:36.672 --> 00:54:46.520
let's see if I can get at
this, clean a section here.

00:54:53.540 --> 00:54:58.870
So one example is
a bus bay here.

00:54:58.870 --> 00:55:01.640
So this is a bus
stop right here.

00:55:01.640 --> 00:55:05.640
And maybe this is
an intersection.

00:55:05.640 --> 00:55:09.710
So the bus comes in here.

00:55:09.710 --> 00:55:12.000
And it's waiting there.

00:55:12.000 --> 00:55:16.440
But if there is traffic and
there are cars right here,

00:55:16.440 --> 00:55:19.996
after that bus is
ready, it may have to--

00:55:19.996 --> 00:55:21.870
well, if it's right of
the signal, it's fine.

00:55:21.870 --> 00:55:28.050
But if this now merges
and there is traffic here,

00:55:28.050 --> 00:55:30.000
then that bus might be
sort of stuck enough

00:55:30.000 --> 00:55:34.050
to maneuver its way back
into the traffic flow.

00:55:34.050 --> 00:55:39.240
So a [INAUDIBLE] sign or
stop sign have an impact.

00:55:39.240 --> 00:55:41.660
What else?

00:55:41.660 --> 00:55:42.684
Henry?

00:55:42.684 --> 00:55:44.350
AUDIENCE: If you're
serving a line where

00:55:44.350 --> 00:55:46.016
there are a lot of
people who are, like,

00:55:46.016 --> 00:55:48.090
tourists and people,
like, ask questions,

00:55:48.090 --> 00:55:49.979
it could take forever
to get on to the bus.

00:55:49.979 --> 00:55:52.020
GABRIEL SANCHEZ-MARTINEZ:
That's not a technology

00:55:52.020 --> 00:55:55.290
characteristic, but
it is a valid factor

00:55:55.290 --> 00:55:56.827
that affects dwell times.

00:55:56.827 --> 00:55:58.785
Or maybe if your technology
is very complicated

00:55:58.785 --> 00:56:00.790
and people have a
lot of questions,

00:56:00.790 --> 00:56:01.935
that could be a way to--

00:56:01.935 --> 00:56:03.560
AUDIENCE: Or maybe
a lack of technology

00:56:03.560 --> 00:56:05.100
where, like, you don't have--

00:56:05.100 --> 00:56:07.860
GABRIEL SANCHEZ-MARTINEZ: So OK,
I think we gave good examples.

00:56:07.860 --> 00:56:09.750
If we look at the
typical bus running time

00:56:09.750 --> 00:56:11.540
and how we break
it down, this is

00:56:11.540 --> 00:56:14.670
a typical bus in mixed traffic.

00:56:14.670 --> 00:56:16.320
Somewhere between
a 1/2 and 3/4 will

00:56:16.320 --> 00:56:18.780
be spent moving between stops.

00:56:18.780 --> 00:56:20.520
Between 10 and a 1/4--

00:56:20.520 --> 00:56:24.735
10% and 1/4 will be spent
at stops, serving the stop.

00:56:24.735 --> 00:56:27.930
And between 10% and
1/4 will be served

00:56:27.930 --> 00:56:32.370
in traffic or waiting
for a signal, so at

00:56:32.370 --> 00:56:34.100
a red light, essentially.

00:56:34.100 --> 00:56:34.600
Yeah?

00:56:34.600 --> 00:56:37.835
AUDIENCE: [INAUDIBLE] about this
a bit, but in movement time,

00:56:37.835 --> 00:56:40.210
would that include all the
time it takes for me to, like,

00:56:40.210 --> 00:56:44.235
stop the bus?

00:56:44.235 --> 00:56:46.860
GABRIEL SANCHEZ-MARTINEZ: Again,
it depends on your definition.

00:56:46.860 --> 00:56:51.300
But yes, I think in
this break down, yes.

00:56:51.300 --> 00:56:52.908
So the slowing down
and accelerating

00:56:52.908 --> 00:56:53.991
is sort of in there, yeah.

00:56:57.360 --> 00:57:00.010
Any other questions?

00:57:00.010 --> 00:57:05.387
OK, so let's look at
some dwell time models.

00:57:05.387 --> 00:57:07.470
Dwell times models are a
component of running time

00:57:07.470 --> 00:57:12.830
models, because dwell times
are one of the key pieces

00:57:12.830 --> 00:57:13.830
of running times.

00:57:13.830 --> 00:57:17.550
And actually, another point
about these, movement time,

00:57:17.550 --> 00:57:20.550
dwell time, and delay,
which of those three

00:57:20.550 --> 00:57:25.435
do you think the agency
has most control over?

00:57:25.435 --> 00:57:26.310
AUDIENCE: Dwell time.

00:57:26.310 --> 00:57:28.143
GABRIEL SANCHEZ-MARTINEZ:
Dwell time, right?

00:57:28.143 --> 00:57:29.245
Why?

00:57:29.245 --> 00:57:32.830
Can an agency usually diminish
traffic or do something

00:57:32.830 --> 00:57:35.150
about traffic signals?

00:57:35.150 --> 00:57:37.840
There are some things you
can do, but usually not.

00:57:37.840 --> 00:57:38.860
It's harder.

00:57:38.860 --> 00:57:42.640
And movement time, that has
to do with traffic and speed

00:57:42.640 --> 00:57:46.970
limits, and the vehicle
itself, and driver behavior.

00:57:46.970 --> 00:57:49.270
So that's a little
bit harder to change.

00:57:49.270 --> 00:57:52.510
So dwell times are
probably the one thing

00:57:52.510 --> 00:57:55.054
here that an agency will target.

00:57:55.054 --> 00:57:56.470
Some part of it,
you can't change,

00:57:56.470 --> 00:57:58.886
because it has to do with how
many people are at the stop.

00:57:58.886 --> 00:58:00.310
But you could
increase frequency.

00:58:00.310 --> 00:58:01.640
You could change
the bus assigned.

00:58:01.640 --> 00:58:02.764
We gave a bunch of factors.

00:58:02.764 --> 00:58:04.780
And a lot of those are
in control of the agency,

00:58:04.780 --> 00:58:07.070
so under the control
of the agency.

00:58:07.070 --> 00:58:10.010
So let's go to the dwell
time models for that reason.

00:58:10.010 --> 00:58:17.050
There are some examples here,
three papers, one on bus dwell

00:58:17.050 --> 00:58:21.460
time, one on light rail dwell
times for the Green line,

00:58:21.460 --> 00:58:23.320
and one on heavy rail.

00:58:23.320 --> 00:58:25.600
So we're going to look
at the three of them,

00:58:25.600 --> 00:58:29.450
just a high-level overview.

00:58:29.450 --> 00:58:31.490
So let's look at
some concepts first.

00:58:31.490 --> 00:58:35.380
Vehicle dwell times
affect system performance.

00:58:35.380 --> 00:58:38.000
We've discussed why and how.

00:58:38.000 --> 00:58:39.620
And they affect service quality.

00:58:39.620 --> 00:58:42.240
We've also discussed
why and how.

00:58:42.240 --> 00:58:44.710
They are a critical element
in vehicle bunching.

00:58:44.710 --> 00:58:46.570
I think that has
also been covered.

00:58:46.570 --> 00:58:50.440
So they result in high headway
variability, high passenger

00:58:50.440 --> 00:58:52.630
waiting times, and
uneven passenger loads.

00:58:52.630 --> 00:58:54.640
That last point,
we have mentioned,

00:58:54.640 --> 00:58:57.670
but it was indirectly--

00:58:57.670 --> 00:58:59.530
the point has been
made indirectly, right?

00:58:59.530 --> 00:59:01.660
If more people are
arriving at some stop,

00:59:01.660 --> 00:59:03.400
at some bus that has
a longer headway,

00:59:03.400 --> 00:59:05.230
not only did those
people wait longer,

00:59:05.230 --> 00:59:07.780
but they are boarding
a more crowded bus.

00:59:07.780 --> 00:59:09.970
So their experience
in the vehicle

00:59:09.970 --> 00:59:11.690
is also going to be diminished.

00:59:11.690 --> 00:59:14.870
It's going to be a
lower-quality experience.

00:59:14.870 --> 00:59:18.880
So we've covered that.

00:59:18.880 --> 00:59:22.130
Dwell time impact on performance
depends on substation spacing,

00:59:22.130 --> 00:59:24.720
the mean dwell as a
proportion of trip time,

00:59:24.720 --> 00:59:27.830
the mean headway, and
operations control procedures.

00:59:27.830 --> 00:59:32.180
We have touched upon, not
necessarily what can be done,

00:59:32.180 --> 00:59:35.510
but we know that there are some
things you can do to diminish

00:59:35.510 --> 00:59:36.590
the headway variability.

00:59:40.600 --> 00:59:41.960
Any examples of that, actually?

00:59:41.960 --> 00:59:45.119
Anybody have suggestions
on what can be done?

00:59:45.119 --> 00:59:45.985
Eli?

00:59:45.985 --> 00:59:49.630
AUDIENCE: You tell the bus
that is trailing to, like,

00:59:49.630 --> 00:59:50.650
wait longer.

00:59:50.650 --> 00:59:52.108
GABRIEL SANCHEZ-MARTINEZ:
Yeah, you

00:59:52.108 --> 00:59:54.334
try to slow down the buses
that are running fast.

00:59:54.334 --> 00:59:56.000
So there's different
ways of doing that.

00:59:56.000 --> 00:59:58.120
You can tell the
driver to drive slowly.

00:59:58.120 --> 01:00:01.090
You can hold buses at
stops for control points.

01:00:01.090 --> 01:00:02.710
So you tell them, do not depart.

01:00:02.710 --> 01:00:04.240
You have to wait a
minute before you depart,

01:00:04.240 --> 01:00:05.935
because you're running
too fast, and you're

01:00:05.935 --> 01:00:07.135
going to catch up
to the previous bus.

01:00:07.135 --> 01:00:08.290
So that's called holding.

01:00:08.290 --> 01:00:10.060
So there has been a lot
of research and holding

01:00:10.060 --> 01:00:10.600
strategies.

01:00:10.600 --> 01:00:12.740
AUDIENCE: Wouldn't
the more typical thing

01:00:12.740 --> 01:00:13.990
would be telling them to hold?

01:00:13.990 --> 01:00:14.590
GABRIEL SANCHEZ-MARTINEZ: Yes.

01:00:14.590 --> 01:00:15.730
AUDIENCE: It seems
weird to ask someone

01:00:15.730 --> 01:00:17.020
to slow down in traffic.

01:00:17.020 --> 01:00:18.485
GABRIEL SANCHEZ-MARTINEZ:
Eh, it's been done.

01:00:18.485 --> 01:00:18.930
AUDIENCE: Really?

01:00:18.930 --> 01:00:19.820
GABRIEL SANCHEZ-MARTINEZ: Yeah.

01:00:19.820 --> 01:00:21.320
AUDIENCE: I wouldn't like
to be that bus driver.

01:00:21.320 --> 01:00:24.220
GABRIEL SANCHEZ-MARTINEZ: You
would kind of surreptitiously

01:00:24.220 --> 01:00:25.780
and only a little bit.

01:00:28.910 --> 01:00:29.785
AUDIENCE: [INAUDIBLE]

01:00:29.785 --> 01:00:32.243
GABRIEL SANCHEZ-MARTINEZ: And
people don't like being held.

01:00:32.243 --> 01:00:34.905
So driving a little bit slow is
less obvious to the passengers.

01:00:34.905 --> 01:00:36.223
AUDIENCE: [INAUDIBLE]

01:00:38.342 --> 01:00:40.887
AUDIENCE: Yes, you have a
bus hold just a few seconds

01:00:40.887 --> 01:00:41.845
when the light changes.

01:00:41.845 --> 01:00:42.345
[INAUDIBLE]

01:00:42.345 --> 01:00:43.750
GABRIEL SANCHEZ-MARTINEZ: Yeah.

01:00:43.750 --> 01:00:45.166
AUDIENCE: I could
really get you--

01:00:45.166 --> 01:00:48.020
AUDIENCE: So that's sort
of the best hold strategy.

01:00:48.020 --> 01:00:50.327
Oh, we just missed it.

01:00:50.327 --> 01:00:51.910
GABRIEL SANCHEZ-MARTINEZ:
OK, so there

01:00:51.910 --> 01:00:53.410
are operations
controlled procedures

01:00:53.410 --> 01:00:55.100
that can be used here.

01:00:55.100 --> 01:00:57.790
So some examples based on
these factors, on the one

01:00:57.790 --> 01:00:58.960
hand you have commuter rail.

01:00:58.960 --> 01:01:01.000
We gave that example earlier.

01:01:01.000 --> 01:01:04.210
Little impact of dwell time on
performance-- that makes sense.

01:01:04.210 --> 01:01:06.160
Commuter rail has long
distance between stops.

01:01:06.160 --> 01:01:07.630
It stops at every stop.

01:01:07.630 --> 01:01:11.380
And most of the time
is spent in movement.

01:01:11.380 --> 01:01:15.560
So the percentage of time
spent dwelling is small.

01:01:15.560 --> 01:01:18.050
On the other hand, you have a
very long, high-frequency bus

01:01:18.050 --> 01:01:18.850
route.

01:01:18.850 --> 01:01:22.420
So the likelihood of
bunching here is really high.

01:01:22.420 --> 01:01:24.629
And it's hard to control this.

01:01:24.629 --> 01:01:26.920
AUDIENCE: Especially, also
the commuter rail, also it's

01:01:26.920 --> 01:01:28.720
like a scheduled dwell.

01:01:28.720 --> 01:01:30.220
GABRIEL SANCHEZ-MARTINEZ:
Yeah, it's

01:01:30.220 --> 01:01:31.360
a little longer
than it has to be.

01:01:31.360 --> 01:01:31.815
AUDIENCE: [INAUDIBLE] hold.

01:01:31.815 --> 01:01:33.430
Then you don't
actually-- you have

01:01:33.430 --> 01:01:35.270
a few seconds at the end where
no one is boarding or arriving.

01:01:35.270 --> 01:01:36.160
GABRIEL SANCHEZ-MARTINEZ:
Yeah, because you

01:01:36.160 --> 01:01:37.990
might have printed
the schedule it has

01:01:37.990 --> 01:01:41.470
departure times for every stop.

01:01:41.470 --> 01:01:44.020
AUDIENCE: I would argue
that commuter rail has

01:01:44.020 --> 01:01:46.750
sort of the most potential,
especially in a transit system

01:01:46.750 --> 01:01:48.835
like Boston where you have--

01:01:48.835 --> 01:01:51.460
well, the line acceleration, if
you get the acceleration better

01:01:51.460 --> 01:01:53.110
through different
technology, and when

01:01:53.110 --> 01:01:54.460
you don't have
high-level platforms,

01:01:54.460 --> 01:01:56.251
the dwell times get
really long when you're

01:01:56.251 --> 01:01:57.332
boarding a lot of people.

01:01:57.332 --> 01:01:59.040
GABRIEL SANCHEZ-MARTINEZ:
But you still--

01:01:59.040 --> 01:02:01.498
AUDIENCE: Plus then you could
pull the schedule down if you

01:02:01.498 --> 01:02:02.820
were [INAUDIBLE] dwell time.

01:02:02.820 --> 01:02:05.486
GABRIEL SANCHEZ-MARTINEZ: So you
could, if your schedule is off,

01:02:05.486 --> 01:02:08.110
that could be an option.

01:02:08.110 --> 01:02:11.140
Even if your schedule is good on
a high-frequency long urban bus

01:02:11.140 --> 01:02:13.600
tour line, it's
not going to help.

01:02:13.600 --> 01:02:14.920
You still have to control it.

01:02:14.920 --> 01:02:15.503
And it's hard.

01:02:15.503 --> 01:02:18.250
And you're going
to get bunching.

01:02:18.250 --> 01:02:20.202
So dwell time depends
on many factors.

01:02:20.202 --> 01:02:21.160
Some of them are human.

01:02:21.160 --> 01:02:22.618
Some of them have
to do with modes,

01:02:22.618 --> 01:02:25.160
as we just saw, operating
policies and practices,

01:02:25.160 --> 01:02:26.920
weather, all these things.

01:02:26.920 --> 01:02:35.410
So here is a list of models
of dwell times for trains.

01:02:35.410 --> 01:02:39.590
So if we look at a
single door situation,

01:02:39.590 --> 01:02:41.910
so people have to board and
alight from the same door

01:02:41.910 --> 01:02:44.540
and there is no
congestion of passengers,

01:02:44.540 --> 01:02:47.110
then this is the simplest
model one could have.

01:02:47.110 --> 01:02:50.782
Dwell time is some
constant a, which

01:02:50.782 --> 01:02:52.240
has to do with how
long it takes me

01:02:52.240 --> 01:02:54.880
to come to a full
stop and open doors,

01:02:54.880 --> 01:02:57.070
plus some amount times
the number of people

01:02:57.070 --> 01:02:59.980
getting on plus some amount
times the number of people

01:02:59.980 --> 01:03:01.490
getting off.

01:03:01.490 --> 01:03:02.897
Does that make sense?

01:03:02.897 --> 01:03:04.480
You sort of measure
the average number

01:03:04.480 --> 01:03:06.580
of seconds per
passenger alighting,

01:03:06.580 --> 01:03:09.600
the average number seconds
per passenger boarding,

01:03:09.600 --> 01:03:10.790
and some constant.

01:03:10.790 --> 01:03:11.920
You run a regression model.

01:03:11.920 --> 01:03:13.260
That's what you get.

01:03:13.260 --> 01:03:17.890
OK, now what if you notice
that, when the train is packed,

01:03:17.890 --> 01:03:21.130
people take a lot longer
to get off and on?

01:03:21.130 --> 01:03:24.070
Then you want to add the
effect of interference,

01:03:24.070 --> 01:03:26.042
or congestion, or friction.

01:03:26.042 --> 01:03:27.250
Some people call it friction.

01:03:27.250 --> 01:03:32.270
So one way of doing
that is to multiply--

01:03:32.270 --> 01:03:36.020
so we add a term, the
passenger friction term.

01:03:36.020 --> 01:03:37.990
We multiply the
number of people that

01:03:37.990 --> 01:03:41.230
were getting on and off
times the number of standees

01:03:41.230 --> 01:03:41.970
in the vehicle.

01:03:41.970 --> 01:03:43.360
STD here stands for standees.

01:03:47.460 --> 01:03:49.210
So the number of people
getting on and off

01:03:49.210 --> 01:03:53.830
are the people that would
have moved faster if there

01:03:53.830 --> 01:03:55.440
hadn't been any standees.

01:03:55.440 --> 01:03:58.570
And to the extent that there
are many standees, then

01:03:58.570 --> 01:04:01.600
they encounter friction as
they are getting on or off.

01:04:01.600 --> 01:04:03.740
And that slows the vehicle down.

01:04:03.740 --> 01:04:06.130
So that's one way of
taking care of this.

01:04:06.130 --> 01:04:09.400
If that car has
m doors, then you

01:04:09.400 --> 01:04:13.780
could run a model for
every door and then pick

01:04:13.780 --> 01:04:16.390
the door that was slowest.

01:04:16.390 --> 01:04:18.220
So that's that model.

01:04:18.220 --> 01:04:22.150
And if you say that, actually,
people are more or less

01:04:22.150 --> 01:04:24.340
evenly distributed
inside the vehicle

01:04:24.340 --> 01:04:26.810
and evenly distributed
on the platform,

01:04:26.810 --> 01:04:29.674
so if we are willing
to assume that,

01:04:29.674 --> 01:04:31.840
then we can just take the
number of doors and divide

01:04:31.840 --> 01:04:34.960
by number of doors, essentially.

01:04:34.960 --> 01:04:38.020
So we're back to
the previous model,

01:04:38.020 --> 01:04:40.000
but now we're
multiplying-- or dividing

01:04:40.000 --> 01:04:44.656
by m, by the number of doors,
because we have maybe 1,000

01:04:44.656 --> 01:04:47.830
passengers or many
hundreds of passengers,

01:04:47.830 --> 01:04:50.220
but we have to divide
by the number of doors

01:04:50.220 --> 01:04:52.043
to bring them down to
passengers per door.

01:04:55.110 --> 01:05:03.020
If that train has
several cars, then you

01:05:03.020 --> 01:05:06.140
have a model for each
car in the train.

01:05:06.140 --> 01:05:11.010
And you take the maximum,
so similar concept.

01:05:11.010 --> 01:05:13.080
We were looking before
at doors in one car.

01:05:13.080 --> 01:05:15.580
Now we're looking at
cars in one train.

01:05:15.580 --> 01:05:18.170
And if that is
our balance flows,

01:05:18.170 --> 01:05:20.240
again, we can now
divide by number

01:05:20.240 --> 01:05:23.360
of doors per car and
number of cars per train.

01:05:23.360 --> 01:05:28.290
So we normalize the demand
by the size of the train,

01:05:28.290 --> 01:05:29.840
the number of doors.

01:05:29.840 --> 01:05:31.070
And we include friction.

01:05:31.070 --> 01:05:35.570
So here is some examples, some
ideas for your problem set,

01:05:35.570 --> 01:05:37.430
if you want.

01:05:37.430 --> 01:05:38.480
Some of them may apply.

01:05:38.480 --> 01:05:39.390
Others may not.

01:05:39.390 --> 01:05:44.330
So this is the kind of
thing you could think of.

01:05:44.330 --> 01:05:47.810
So now we want to
look at this study

01:05:47.810 --> 01:05:50.930
by Milkovits published in 2008.

01:05:50.930 --> 01:05:53.780
At the time, there
had been some studies

01:05:53.780 --> 01:05:55.190
with manually collected data.

01:05:55.190 --> 01:05:59.870
So there was very limited
data on infrequent events.

01:05:59.870 --> 01:06:04.320
There was very limited
data on crowding.

01:06:04.320 --> 01:06:08.750
They were still using, I
think, the token system.

01:06:08.750 --> 01:06:12.560
So the previous study was
based on the token system,

01:06:12.560 --> 01:06:15.600
so it wasn't updated
on new fare technology.

01:06:15.600 --> 01:06:18.380
So there was another study
that did have automatically

01:06:18.380 --> 01:06:20.780
collected data, a
little more recent,

01:06:20.780 --> 01:06:23.300
but they hadn't
taken into account

01:06:23.300 --> 01:06:26.010
the effect of payment type.

01:06:26.010 --> 01:06:29.080
So the AFC system does
tell you, this is a pass,

01:06:29.080 --> 01:06:34.040
or this is a ticket, but they
hadn't-- they had ignored that

01:06:34.040 --> 01:06:35.360
variable from the model.

01:06:35.360 --> 01:06:38.220
And the fit of the
model was poor.

01:06:38.220 --> 01:06:40.220
And then we have a transit
capacity and quality

01:06:40.220 --> 01:06:42.800
of service manual, which says,
assume half-second penalty

01:06:42.800 --> 01:06:46.596
per passenger for
crowding, so rule of thumb.

01:06:46.596 --> 01:06:48.470
So there was interest
in developing something

01:06:48.470 --> 01:06:49.570
more sophisticated.

01:06:49.570 --> 01:06:51.950
And they looked at
buses and CTA for that.

01:06:51.950 --> 01:07:00.780
So they looked at these
factors, so boarding, alighting

01:07:00.780 --> 01:07:04.930
passengers, counting them,
onboard passengers, so load,

01:07:04.930 --> 01:07:08.970
the fare media type, the
alighting door selection,

01:07:08.970 --> 01:07:10.640
so whether people boarded--

01:07:10.640 --> 01:07:13.560
alighted from the front door or
from the back door, which has

01:07:13.560 --> 01:07:15.900
an impact, and the bus type.

01:07:15.900 --> 01:07:17.550
There were several bus designs.

01:07:17.550 --> 01:07:21.420
And some of them were-- had
wider doors and fare boxes

01:07:21.420 --> 01:07:23.710
placed more optimally.

01:07:23.710 --> 01:07:26.700
So all of that was
taken into account.

01:07:26.700 --> 01:07:33.030
And yeah, so data from
the CTA in Chicago--

01:07:33.030 --> 01:07:36.600
they didn't consider
timing points,

01:07:36.600 --> 01:07:38.850
because at timing points,
buses can be held.

01:07:38.850 --> 01:07:42.230
So that could be erroneously
included as dwell time,

01:07:42.230 --> 01:07:43.680
so that was thrown out.

01:07:43.680 --> 01:07:47.340
Only far-side stops--
so what's the difference

01:07:47.340 --> 01:07:50.948
between a near-side stop
and a far-side stop?

01:07:50.948 --> 01:07:53.251
AUDIENCE: Far-side stop
is after the intersection.

01:07:53.251 --> 01:07:55.250
GABRIEL SANCHEZ-MARTINEZ:
Right, after signals--

01:07:55.250 --> 01:07:57.830
so far-side stops
are after signals.

01:07:57.830 --> 01:07:59.670
They did not look at
near-side stops, which

01:07:59.670 --> 01:08:03.395
could be affected by the
red light, the example

01:08:03.395 --> 01:08:07.801
that Ari just gave of, as
the bus is ready to leave,

01:08:07.801 --> 01:08:08.550
a light turns red.

01:08:08.550 --> 01:08:10.530
Now you have a
longer dwell time.

01:08:10.530 --> 01:08:14.050
The bus could leave its
doors open just in case.

01:08:14.050 --> 01:08:17.430
So that was thrown out.

01:08:17.430 --> 01:08:18.979
OK, they looked--

01:08:18.979 --> 01:08:20.790
AUDIENCE: What do you
mean by known stops?

01:08:20.790 --> 01:08:23.373
GABRIEL SANCHEZ-MARTINEZ: So if
there were any stops that were

01:08:23.373 --> 01:08:25.586
not properly coded or--

01:08:25.586 --> 01:08:26.460
they were thrown out.

01:08:29.340 --> 01:08:33.060
They had APC, so the Automatic
Passenger Counting, all doors.

01:08:33.060 --> 01:08:38.580
And they threw out data
that was of bad APCs,

01:08:38.580 --> 01:08:43.520
so buses that required zero
boardings or zero alightings

01:08:43.520 --> 01:08:46.250
were thrown out.

01:08:46.250 --> 01:08:50.120
And they looked at
each AFC transaction

01:08:50.120 --> 01:08:54.471
and matched it to what--

01:08:54.471 --> 01:08:55.209
how they paid.

01:08:55.209 --> 01:08:55.939
Was it a ticket?

01:08:55.939 --> 01:08:57.529
Was it a smart card, et cetera?

01:08:57.529 --> 01:09:01.700
So they looked at a whole
month, November 2006.

01:09:01.700 --> 01:09:04.170
So here's how the model works.

01:09:04.170 --> 01:09:06.260
First, they realized
that it was easier

01:09:06.260 --> 01:09:11.029
to have one model for when
the front door controls

01:09:11.029 --> 01:09:15.439
the process and a separate model
for when the rear door controls

01:09:15.439 --> 01:09:15.950
the process.

01:09:15.950 --> 01:09:19.490
So the first step was to predict
which of the two processes

01:09:19.490 --> 01:09:22.229
was going to dominate and
control the dwell time,

01:09:22.229 --> 01:09:25.220
and then from that, select
that one model, or the, one

01:09:25.220 --> 01:09:26.700
or the other.

01:09:26.700 --> 01:09:30.020
And then they looked
at including bus type

01:09:30.020 --> 01:09:36.500
and traveling as a friction
factor in each of these models.

01:09:36.500 --> 01:09:38.600
So let's look at the
high-level results.

01:09:41.420 --> 01:09:43.790
This is the front door model.

01:09:43.790 --> 01:09:46.939
So this is for when the front
door dominates the process.

01:09:46.939 --> 01:09:51.260
They had a pretty good
adjusted r squared, 0.733.

01:09:51.260 --> 01:09:55.820
And we see some dummy variables.

01:09:55.820 --> 01:09:58.160
NABI is a type of bus here.

01:09:58.160 --> 01:10:02.030
And NOVA and New Flyer
are also types of buses.

01:10:02.030 --> 01:10:09.380
So NABI, for some reason, tended
to be a half second longer

01:10:09.380 --> 01:10:10.680
dwell time overall.

01:10:14.660 --> 01:10:19.450
This variable is the number of
people getting on in the front.

01:10:19.450 --> 01:10:22.660
They are excluding the first
few passengers for the reason

01:10:22.660 --> 01:10:25.620
that Ari brought up
earlier in the lecture,

01:10:25.620 --> 01:10:28.487
that the first few passengers
take a little longer,

01:10:28.487 --> 01:10:30.820
but once you have a [INAUDIBLE],,
a stream of passengers

01:10:30.820 --> 01:10:32.980
going in, then there's
a more uniform rate.

01:10:32.980 --> 01:10:38.230
So this is front on extra.

01:10:38.230 --> 01:10:42.490
And we have 3.7, about.

01:10:42.490 --> 01:10:46.060
But it was a little longer for
NOVA buses and a little shorter

01:10:46.060 --> 01:10:47.560
for NABI buses.

01:10:47.560 --> 01:10:51.250
So you have to adjust that
amount for the different buses.

01:10:51.250 --> 01:10:54.400
So there was an interaction
between that variable

01:10:54.400 --> 01:10:57.640
and the dummies for bus type.

01:10:57.640 --> 01:11:03.310
Then the effect of people
getting off in the front

01:11:03.310 --> 01:11:04.650
was accounted for.

01:11:04.650 --> 01:11:07.350
So here you have--

01:11:07.350 --> 01:11:09.320
if you have three
or more people,

01:11:09.320 --> 01:11:12.570
so people in excess
of three getting--

01:11:12.570 --> 01:11:14.280
people in excess
of two, actually,

01:11:14.280 --> 01:11:16.820
three or more people
getting off in the front,

01:11:16.820 --> 01:11:20.290
that had an impact as well,
a positive impact, of course.

01:11:20.290 --> 01:11:23.220
So these parts that
I described were

01:11:23.220 --> 01:11:27.390
included in the
model for non-crowded

01:11:27.390 --> 01:11:29.760
and in the model
for crowded as well.

01:11:29.760 --> 01:11:33.030
So they have separate
parts of the model

01:11:33.030 --> 01:11:35.420
that were for crowded and
non-crowded conditions.

01:11:35.420 --> 01:11:42.390
When it wasn't crowded, cards
were about 2.6 second effect

01:11:42.390 --> 01:11:45.900
for boarding per passenger.

01:11:45.900 --> 01:11:49.800
Tickets were about 4.8,
so almost 2 seconds slower

01:11:49.800 --> 01:11:52.560
than smart cards.

01:11:52.560 --> 01:11:59.700
And New Flyer tickets were
not quite as longer as tickets

01:11:59.700 --> 01:12:00.640
everywhere else.

01:12:00.640 --> 01:12:02.815
So this is the bus that
had pretty wide doors

01:12:02.815 --> 01:12:07.440
and the fare box was
placed in a better way

01:12:07.440 --> 01:12:11.020
so that people could
tap in as they went in.

01:12:11.020 --> 01:12:13.710
You have a small
advantage there.

01:12:13.710 --> 01:12:16.290
Here you have the effect
of people getting off

01:12:16.290 --> 01:12:18.230
in the front for the
first two passengers,

01:12:18.230 --> 01:12:21.900
not the ones that are
three and up, so 2.8

01:12:21.900 --> 01:12:24.930
seconds per passenger extra.

01:12:24.930 --> 01:12:27.390
And here is a dummy for
if the sensor in the front

01:12:27.390 --> 01:12:30.400
was blocked, which could
have different effects.

01:12:30.400 --> 01:12:33.970
But essentially, that could
indicate crowding or something,

01:12:33.970 --> 01:12:36.240
so that was included there.

01:12:36.240 --> 01:12:39.360
What happens when
it was crowded?

01:12:39.360 --> 01:12:43.950
So when the load on
the bus was high,

01:12:43.950 --> 01:12:46.960
it didn't really matter if
it was a card or a ticket.

01:12:46.960 --> 01:12:50.630
So now we're just regressing on
the number of AFC transactions.

01:12:50.630 --> 01:12:54.330
And we're getting an average
of 4.3 per passenger.

01:12:54.330 --> 01:12:55.650
So it's slower.

01:12:55.650 --> 01:12:58.140
It's much closer to
the ticket quantity.

01:12:58.140 --> 01:13:00.330
And therefore, the
impact, the benefit

01:13:00.330 --> 01:13:05.070
that you had of dwell time
savings by smart card is lost.

01:13:05.070 --> 01:13:07.890
So that savings, you have
when it's not crowded,

01:13:07.890 --> 01:13:09.370
but you lose when it's crowded.

01:13:09.370 --> 01:13:09.870
Sonya?

01:13:09.870 --> 01:13:13.950
AUDIENCE: Is that the same thing
with off-board fare collection?

01:13:13.950 --> 01:13:15.700
GABRIEL SANCHEZ-MARTINEZ:
No, because when

01:13:15.700 --> 01:13:17.158
you have off-board
fare collection,

01:13:17.158 --> 01:13:18.930
you can open all doors.

01:13:18.930 --> 01:13:22.720
And so it becomes more like a
train, where everybody gets off

01:13:22.720 --> 01:13:24.320
first and then
everybody gets on.

01:13:24.320 --> 01:13:28.034
So this model is for more
people boarding by the front

01:13:28.034 --> 01:13:29.200
and alighting from the back.

01:13:29.200 --> 01:13:31.199
But sometimes, some people
get off in the front.

01:13:35.770 --> 01:13:38.500
And here we have
the friction factor,

01:13:38.500 --> 01:13:41.560
so the number of passengers--
the number of standees

01:13:41.560 --> 01:13:46.580
squared times passengers.

01:13:46.580 --> 01:13:49.230
So this is going to--

01:13:49.230 --> 01:13:52.045
it's a small factor,
a small coefficient,

01:13:52.045 --> 01:13:54.440
but it's multiplied by
some quantity squared,

01:13:54.440 --> 01:13:57.300
so that kind of makes
up the difference.

01:13:57.300 --> 01:14:00.520
And because this
is squared, this

01:14:00.520 --> 01:14:02.650
is kind of a polynomial effect.

01:14:02.650 --> 01:14:06.780
So the more people
that are standing--

01:14:06.780 --> 01:14:08.189
it's not a linear increase.

01:14:08.189 --> 01:14:10.480
If there many more people on
the bus that are standing,

01:14:10.480 --> 01:14:12.070
then it's a much slower dwell.

01:14:12.070 --> 01:14:14.850
So this is a correction
factor for a crowded bus.

01:14:17.770 --> 01:14:19.600
OK, here is the rear door model.

01:14:19.600 --> 01:14:23.620
So this is for when the
rear door was predicted

01:14:23.620 --> 01:14:25.554
to control the
dwell time, so more

01:14:25.554 --> 01:14:27.970
towards the end of the route
where more people are getting

01:14:27.970 --> 01:14:30.550
off than people are getting on.

01:14:30.550 --> 01:14:33.730
We have, again, some impacts.

01:14:33.730 --> 01:14:36.460
The design of vehicle
was significant.

01:14:36.460 --> 01:14:41.020
And the number of people getting
off was, of course, a variable,

01:14:41.020 --> 01:14:44.740
so about 1.7 seconds
per passenger--

01:14:44.740 --> 01:14:48.250
more on NOVA buses,
less on NABI buses.

01:14:48.250 --> 01:14:50.920
And the friction
factor, again-- so you

01:14:50.920 --> 01:14:56.680
have the sort of general
friction factor was 0.005.

01:14:56.680 --> 01:15:01.780
It was 0.009 for normal buses
and 0.002 for NABI buses.

01:15:01.780 --> 01:15:03.980
So you have to sort
of add these up

01:15:03.980 --> 01:15:07.260
to get the effective friction
factor on a particular bus.

01:15:10.530 --> 01:15:12.960
All right, so the
sort of key takeaways

01:15:12.960 --> 01:15:16.110
are that the smart
media loses the benefit

01:15:16.110 --> 01:15:17.280
in crowded conditions.

01:15:17.280 --> 01:15:19.230
We saw that.

01:15:19.230 --> 01:15:21.360
The crowding impact
increases exponentially.

01:15:21.360 --> 01:15:24.750
These people tried
linear standees.

01:15:24.750 --> 01:15:28.390
And standees squared was
a much better predictor.

01:15:28.390 --> 01:15:34.520
So bus attributes
impact dwell time.

01:15:34.520 --> 01:15:37.770
The dummies for the bus
design were significant.

01:15:37.770 --> 01:15:38.940
And they had an impact.

01:15:38.940 --> 01:15:42.000
So some of that had to do with
the location of the ticket

01:15:42.000 --> 01:15:42.820
reader.

01:15:42.820 --> 01:15:47.700
And some of that had to do with
wide doors that allowed people

01:15:47.700 --> 01:15:49.920
to enter more
comfortably and faster.

01:15:52.770 --> 01:15:55.120
So that's good.

01:15:55.120 --> 01:15:57.360
Let's move on to the
Green line model, just

01:15:57.360 --> 01:15:59.880
quickly, at a high level.

01:15:59.880 --> 01:16:03.030
We're almost out of time, so
I'm going to skip this slide.

01:16:03.030 --> 01:16:06.300
You're, I think, all aware
of what the Green line is,

01:16:06.300 --> 01:16:09.850
so I don't have to cover this.

01:16:09.850 --> 01:16:12.480
They looked at one-car train
and two-car train models

01:16:12.480 --> 01:16:13.440
separately.

01:16:13.440 --> 01:16:15.060
So sometimes the
Green line will run

01:16:15.060 --> 01:16:17.700
single vehicles, single
car, or sometimes

01:16:17.700 --> 01:16:20.080
two cars paired together.

01:16:20.080 --> 01:16:27.382
And the dwell time here was
some constant times the number

01:16:27.382 --> 01:16:29.340
of people who are getting
on times the number--

01:16:29.340 --> 01:16:35.100
plus the number people getting
off plus some friction factor.

01:16:35.100 --> 01:16:38.400
And same here for two-car
trains, but the coefficients

01:16:38.400 --> 01:16:39.270
were different.

01:16:39.270 --> 01:16:43.035
So that's the overall concept
that I want to communicate.

01:16:43.035 --> 01:16:47.640
Here is a table of the results
from that model for the number

01:16:47.640 --> 01:16:48.780
of people getting on.

01:16:48.780 --> 01:16:52.260
So this is using the
model to forecast.

01:16:52.260 --> 01:16:54.100
These are not observations.

01:16:54.100 --> 01:16:59.110
So if you feed 0 people getting
on, you just get the constants.

01:17:01.780 --> 01:17:04.240
If you feed the model
10 people getting on,

01:17:04.240 --> 01:17:07.030
it depends on the
load on the model.

01:17:07.030 --> 01:17:10.470
If the load is,
say, less than 53,

01:17:10.470 --> 01:17:13.870
then you don't have the
friction factor really

01:17:13.870 --> 01:17:18.400
controlling anything, so
you have 20.3 or 20.2,

01:17:18.400 --> 01:17:21.130
so a very small
effect of friction,

01:17:21.130 --> 01:17:27.430
and therefore about the
same time for both models.

01:17:27.430 --> 01:17:28.900
If it's very
crowded, then you do

01:17:28.900 --> 01:17:33.220
have a more significant benefit
for having a two-car train.

01:17:33.220 --> 01:17:34.720
That makes sense, right?

01:17:34.720 --> 01:17:35.806
You have more capacity.

01:17:35.806 --> 01:17:37.180
And the same thing
happens as you

01:17:37.180 --> 01:17:40.900
move to 20 passengers getting
on and 30 passengers getting on,

01:17:40.900 --> 01:17:44.080
with those differences
increasing when you have

01:17:44.080 --> 01:17:49.400
a crowded train,
and the differences

01:17:49.400 --> 01:17:52.156
between one-car
and two-car trains

01:17:52.156 --> 01:17:54.280
not being that significant
when you don't have much

01:17:54.280 --> 01:17:56.820
[INAUDIBLE].

01:17:56.820 --> 01:17:59.750
So this should, more
or less, make sense.

01:17:59.750 --> 01:18:04.610
So all this is to show you that
you have some ideas about what

01:18:04.610 --> 01:18:05.590
controls dwell time.

01:18:05.590 --> 01:18:08.630
You test your
hypothesis on the data.

01:18:08.630 --> 01:18:12.080
And you can try
different things.

01:18:12.080 --> 01:18:13.840
These are just examples.

01:18:13.840 --> 01:18:17.620
So the findings from that
research, dwell times

01:18:17.620 --> 01:18:20.350
were quite sensitive
to flows and loads.

01:18:20.350 --> 01:18:22.750
The crowding effect
might be non-linear.

01:18:22.750 --> 01:18:25.870
They looked at
non-linear effects .

01:18:25.870 --> 01:18:28.240
Just like before.

01:18:28.240 --> 01:18:31.030
The dwell times for multi-car
trains, for two-car trains

01:18:31.030 --> 01:18:33.165
were different than
those for one-car trains.

01:18:33.165 --> 01:18:36.370
The dwell time functions suggest
high sensitivity of performance

01:18:36.370 --> 01:18:37.600
to perturbations.

01:18:37.600 --> 01:18:41.710
So we saw what
those preparations

01:18:41.710 --> 01:18:43.670
were earlier in this lecture.

01:18:43.670 --> 01:18:47.950
And this model is
sensitive to some of them.

01:18:47.950 --> 01:18:50.860
Because of that, effect of
real-time operations control

01:18:50.860 --> 01:18:52.810
should be essential
to operating the Green

01:18:52.810 --> 01:18:54.280
line with even headways.

01:18:54.280 --> 01:18:57.040
So this is more of
a recommendation.

01:18:57.040 --> 01:19:00.460
And another recommendation
is that simulation models

01:19:00.460 --> 01:19:03.460
of this kind of
service should include

01:19:03.460 --> 01:19:06.670
sophisticated dwell time
models like the ones that

01:19:06.670 --> 01:19:09.390
were estimated here to
account for all those effects,

01:19:09.390 --> 01:19:13.970
because otherwise, you would
have a simple model that is

01:19:13.970 --> 01:19:15.640
not very faithful to reality.

01:19:20.660 --> 01:19:22.660
Running a mixed fleet,
some with one-car trains,

01:19:22.660 --> 01:19:24.530
some two-car trains
is dangerous.

01:19:24.530 --> 01:19:26.624
So what do they
mean by dangerous?

01:19:29.057 --> 01:19:31.390
So it wouldn't make much
difference if it's not crowded.

01:19:31.390 --> 01:19:34.130
But according to the model,
on crowded conditions,

01:19:34.130 --> 01:19:36.430
the two-car train
will be faster.

01:19:36.430 --> 01:19:41.020
So then you will have a
bunching effect happening,

01:19:41.020 --> 01:19:43.960
two-car trains catching
up to one-car trains,

01:19:43.960 --> 01:19:47.095
and therefore deterioration
of service quality.

01:19:47.095 --> 01:19:51.190
Here is a marginal
boarding time on heavy rail

01:19:51.190 --> 01:19:53.810
from the third paper.

01:19:53.810 --> 01:19:55.580
I think this was
looking at the Red line.

01:19:55.580 --> 01:19:58.210
So this is the
marginal boarding time

01:19:58.210 --> 01:20:00.670
when everybody can sit down.

01:20:03.910 --> 01:20:06.940
When you look at the number
of through passengers--

01:20:06.940 --> 01:20:09.604
that is the number of passengers
who are on the train when

01:20:09.604 --> 01:20:11.770
the train arrives on the
platform and don't get off,

01:20:11.770 --> 01:20:14.530
so passengers riding
through the station--

01:20:14.530 --> 01:20:18.910
when the number is 0, then this
is how much boarding time you

01:20:18.910 --> 01:20:22.240
have per passenger,
more or less.

01:20:22.240 --> 01:20:27.940
And then as you look at the
effect of more and more people

01:20:27.940 --> 01:20:30.420
are standing, than that
kind of slows people down

01:20:30.420 --> 01:20:31.780
as they board.

01:20:31.780 --> 01:20:35.020
So this was a way of
capturing that effect,

01:20:35.020 --> 01:20:36.940
again, the fiction factor.

01:20:36.940 --> 01:20:41.360
So you see a theme here, that
this seems to be relevant.

01:20:41.360 --> 01:20:44.620
And there have been
research studies

01:20:44.620 --> 01:20:48.490
looking at ways of including
that effect in models.

01:20:48.490 --> 01:20:50.470
These models could
be used for improving

01:20:50.470 --> 01:20:52.360
the accuracy of your
waiting time estimate

01:20:52.360 --> 01:20:54.610
that your smartphone
gives you, or improving

01:20:54.610 --> 01:20:59.490
how faithful a simulation
model is, et cetera.

01:20:59.490 --> 01:21:02.220
Here is the equation,
very similar,

01:21:02.220 --> 01:21:03.460
same structure we had before.

01:21:03.460 --> 01:21:04.939
We have some constant.

01:21:04.939 --> 01:21:06.480
We have the number
of people boarding

01:21:06.480 --> 01:21:08.727
per door, the number of
people alighting per door.

01:21:08.727 --> 01:21:10.560
In this case, we add
them up, because people

01:21:10.560 --> 01:21:12.890
alight first and then board.

01:21:12.890 --> 01:21:15.870
And then we have
some friction factor.

01:21:15.870 --> 01:21:17.850
How that friction
factor is calculated

01:21:17.850 --> 01:21:19.730
has been different
on every model,

01:21:19.730 --> 01:21:21.860
but they all have
a friction factor.

01:21:21.860 --> 01:21:26.220
So these are all services
that, at least at times,

01:21:26.220 --> 01:21:27.420
are quite crowded.

01:21:27.420 --> 01:21:31.500
So that was important
and significant.

01:21:31.500 --> 01:21:34.230
OK, if there are no
questions, you may leave.

01:21:34.230 --> 01:21:35.970
And if there are,
I'll take them.

01:21:35.970 --> 01:21:37.690
Sorry, don't feel
that you have to wait,

01:21:37.690 --> 01:21:40.440
because it's already 5:30.

